(function(){
shadow$provide[559]=function(T,J,ya,r){var v=J(2);!function(t,q){"object"==typeof r&&"object"==typeof ya?ya.exports=q(J(10),J(19)):"function"==typeof define&&define.amd?define(["react","react-dom"],q):"object"==typeof r?r.Excalidraw=q(J(10),J(19)):t.Excalidraw=q(t.React,t.ReactDOM)}(self,function(t,q){return(()=>{function m(y){if(a[y])return a[y].exports;var l=a[y]={id:y,exports:{}};return p[y](l,l.exports,m),l.exports}var f,d,k,p={5374:y=>{function l(h,x,z,B,L,N,G){try{var F=h[N](G),C=F.value}catch(H){return void z(H)}F.done?
x(C):Promise.resolve(C).then(B,L)}y.exports=function(h){return function(){var x=this,z=arguments;return new Promise(function(B,L){function N(C){l(F,B,L,N,G,"next",C)}function G(C){l(F,B,L,N,G,"throw",C)}var F=h.apply(x,z);N(void 0)})}}},566:y=>{y.exports=function(l,h,x){return h in l?Object.defineProperty(l,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):l[h]=x,l}},6950:y=>{function l(){return y.exports=l=Object.assign||function(h){for(var x=1;x<arguments.length;x++){var z=arguments[x],B;for(B in z)Object.prototype.hasOwnProperty.call(z,
B)&&(h[B]=z[B])}return h},l.apply(this,arguments)}y.exports=l},5474:(y,l,h)=>{var x=h(8387);y.exports=function(z,B){if(null==z)return{};var L,N=x(z,B);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(z);for(L=0;L<G.length;L++){var F=G[L];0<=B.indexOf(F)||Object.prototype.propertyIsEnumerable.call(z,F)&&(N[F]=z[F])}}return N}},8387:y=>{y.exports=function(l,h){if(null==l)return{};var x,z={},B=Object.keys(l);for(x=0;x<B.length;x++){var L=B[x];0<=h.indexOf(L)||(z[L]=l[L])}return z}},
6009:(y,l,h)=>{l=h(487);h=h(8328);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},1395:(y,l,h)=>{l=h(487);h=h(6121);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},3211:(y,l,h)=>{l=h(487);h=h(2510);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},5574:(y,l,h)=>{l=h(487);h=h(7972);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},4518:(y,l,h)=>{l=h(487);h=h(190);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},3040:(y,l,h)=>{l=h(487);h=h(6718);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},8623:(y,l,h)=>{l=h(487);h=h(3623);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},4193:(y,l,h)=>{l=h(487);h=h(103);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},341:(y,l,h)=>{l=h(487);h=h(7061);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},9705:(y,l,h)=>{l=h(487);h=h(1498);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",
singleton:!1});y.exports=h.locals||{}},7143:(y,l,h)=>{l=h(487);h=h(666);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},7428:(y,l,h)=>{l=h(487);h=h(849);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},8465:(y,l,h)=>{l=h(487);h=h(6915);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||
{}},8680:(y,l,h)=>{l=h(487);h=h(7030);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},205:(y,l,h)=>{l=h(487);h=h(3994);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},8416:(y,l,h)=>{l=h(487);h=h(700);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},2816:(y,l,h)=>{l=h(487);h=h(287);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},1575:(y,l,h)=>{l=h(487);h=h(5657);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},7287:(y,l,h)=>{l=h(487);h=h(7392);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},8518:(y,l,h)=>{l=h(487);h=h(6065);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},5849:(y,l,h)=>{l=h(487);h=h(83);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},9478:(y,l,h)=>{l=h(487);h=h(1554);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},2680:(y,l,h)=>{l=h(487);h=h(1970);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",
singleton:!1});y.exports=h.locals||{}},3142:(y,l,h)=>{l=h(487);h=h(961);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},8234:(y,l,h)=>{l=h(487);h=h(4878);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},4651:(y,l,h)=>{l=h(487);h=h(1988);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||
{}},2189:(y,l,h)=>{l=h(487);h=h(3245);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[y.id,h,""]]);l(h,{insert:"head",singleton:!1});y.exports=h.locals||{}},487:(y,l,h)=>{function x(aa){for(var X=-1,da=0;da<H.length;da++)if(H[da].identifier===aa){X=da;break}return X}function z(aa,X){for(var da={},ca=[],pa=0;pa<aa.length;pa++){var K=aa[pa],R=X.base?K[0]+X.base:K[0],fa=da[R]||0,ia="".concat(R," ").concat(fa);da[R]=fa+1;R=x(ia);K={css:K[1],media:K[2],sourceMap:K[3]};-1!==R?(H[R].references++,H[R].updater(K)):
H.push({identifier:ia,updater:G(K,X),references:1});ca.push(ia)}return ca}function B(aa){var X=document.createElement("style"),da=aa.attributes||{};if(void 0===da.nonce){var ca=h.nc;ca&&(da.nonce=ca)}if(Object.keys(da).forEach(function(pa){X.setAttribute(pa,da[pa])}),"function"==typeof aa.insert)aa.insert(X);else{aa=C(aa.insert||"head");if(!aa)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");aa.appendChild(X)}return X}function L(aa,
X,da,ca){da=da?"":ca.media?"@media ".concat(ca.media," {").concat(ca.css,"}"):ca.css;aa.styleSheet?aa.styleSheet.cssText=ja(X,da):(da=document.createTextNode(da),ca=aa.childNodes,ca[X]&&aa.removeChild(ca[X]),ca.length?aa.insertBefore(da,ca[X]):aa.appendChild(da))}function N(aa,X,da){X=da.css;var ca=da.media;da=da.sourceMap;if(ca?aa.setAttribute("media",ca):aa.removeAttribute("media"),da&&"undefined"!=typeof btoa&&(X+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(da)))),
" */")),aa.styleSheet)aa.styleSheet.cssText=X;else{for(;aa.firstChild;)aa.removeChild(aa.firstChild);aa.appendChild(document.createTextNode(X))}}function G(aa,X){if(X.singleton){var da=qa++;var ca=S||(S=B(X));var pa=L.bind(null,ca,da,!1);var K=L.bind(null,ca,da,!0)}else ca=B(X),pa=N.bind(null,ca,X),K=function(){if(null===ca.parentNode)var R=!1;else ca.parentNode.removeChild(ca),R=void 0;!R};return pa(aa),function(R){R?(R.css!==aa.css||R.media!==aa.media||R.sourceMap!==aa.sourceMap)&&pa(aa=R):K()}}
var F,C=function(){var aa={};return function(X){if(void 0===aa[X]){var da=document.querySelector(X);if(window.HTMLIFrameElement&&da instanceof window.HTMLIFrameElement)try{da=da.contentDocument.head}catch(ca){da=null}aa[X]=da}return aa[X]}}(),H=[],Z,ja=(Z=[],function(aa,X){return Z[aa]=X,Z.filter(Boolean).join("\n")}),S=null,qa=0;y.exports=function(aa,X){(X=X||{}).singleton||"boolean"==typeof X.singleton||(X.singleton=(void 0===F&&(F=!(!(window&&document&&document.all)||window.atob)),F));var da=z(aa=
aa||[],X);return function(ca){if(ca=ca||[],"[object Array]"===Object.prototype.toString.call(ca)){for(var pa=0;pa<da.length;pa++){var K=x(da[pa]);H[K].references--}ca=z(ca,X);for(pa=0;pa<da.length;pa++)K=x(da[pa]),0===H[K].references&&(H[K].updater(),H.splice(K,1));da=ca}}}},2829:y=>{y.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:y=>{y.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(y,l,h)=>{function x(B){if(!h.o(z,B))return Promise.resolve().then(()=>
{var G=Error("Cannot find module '"+B+"'");throw G.code="MODULE_NOT_FOUND",G;});var L=z[B],N=L[0];return Promise.all(L.slice(1).map(h.e)).then(()=>h.t(N,3))}var z={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};x.keys=()=>Object.keys(z);x.id=788;y.exports=x},7154:y=>{function l(){return y.exports=l=Object.assign||function(h){for(var x=1;x<arguments.length;x++){var z=arguments[x],B;for(B in z)Object.prototype.hasOwnProperty.call(z,B)&&(h[B]=z[B])}return h},l.apply(this,arguments)}y.exports=l},6479:(y,l,h)=>{var x=h(7316);y.exports=function(z,B){if(null==z)return{};var L,N=x(z,B);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(z);
for(L=0;L<G.length;L++){var F=G[L];0<=B.indexOf(F)||Object.prototype.propertyIsEnumerable.call(z,F)&&(N[F]=z[F])}}return N}},7316:y=>{y.exports=function(l,h){if(null==l)return{};var x,z={},B=Object.keys(l);for(x=0;x<B.length;x++){var L=B[x];0<=h.indexOf(L)||(z[L]=l[L])}return z}},8328:(y,l,h)=>{h.r(l);h.d(l,{default:()=>B});l=h(3645);var x=h.n(l);l=h(1667);l=h.n(l);var z=h(7464);h=h(9638);x=x()(function(L){return L[1]});z=l()(z.Z);h=l()(h.Z);x.push([y.id,'@font-face{font-family:"Virgil";src:url('+
z+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+h+");font-display:swap}",""]);const B=x},6121:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const x=h},2510:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const x=h},7972:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const x=h},190:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const x=h},6718:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const x=h},3623:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const x=h},103:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const x=h},7061:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);
h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const x=h},1498:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const x=h},666:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const x=h},849:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const x=h},6915:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});
l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const x=h},7030:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const x=h},3994:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const x=h},700:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const x=h},287:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const x=h},5657:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const x=h},7392:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const x=h},6065:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const x=h},83:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const x=h},1554:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const x=h},1970:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const x=h},961:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const x=h},4878:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const x=h},1988:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const x=h},3245:(y,l,h)=>{h.r(l);h.d(l,{default:()=>x});l=h(3645);h=h.n(l)()(function(z){return z[1]});h.push([y.id,"",""]);h.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const x=h},3645:y=>{y.exports=function(l){var h=[];return h.toString=function(){return this.map(function(x){var z=l(x);return x[2]?"@media ".concat(x[2]," {").concat(z,"}"):z}).join("")},h.i=function(x,z,B){"string"==typeof x&&(x=[[null,
x,""]]);var L={};if(B)for(var N=0;N<this.length;N++){var G=this[N][0];null!=G&&(L[G]=!0)}for(N=0;N<x.length;N++)G=[].concat(x[N]),B&&L[G[0]]||(z&&(G[2]?G[2]="".concat(z," and ").concat(G[2]):G[2]=z),h.push(G))},h}},1667:y=>{y.exports=function(l,h){return h||(h={}),"string"!=typeof(l=l&&l.__esModule?l.default:l)?l:(/^['"].*['"]$/.test(l)&&(l=l.slice(1,-1)),h.hash&&(l+=h.hash),/["'() \t\n]/.test(l)||h.needQuotes?'"'.concat(l.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):l)}},9638:(y,l,h)=>{h.d(l,{Z:()=>
x});const x=h.p+"excalidraw-assets/Cascadia.woff2"},7464:(y,l,h)=>{h.d(l,{Z:()=>x});const x=h.p+"excalidraw-assets/Virgil.woff2"},8288:(y,l,h)=>{h.d(l,{iC:()=>z,f:()=>B,qx:()=>L,Iw:()=>N,$e:()=>G,wZ:()=>F,ay:()=>C,oc:()=>H,Oh:()=>Z,Ks:()=>x,Vi:()=>ja,$C:()=>S,ut:()=>qa,_D:()=>aa,n5:()=>X,rk:()=>da,Hg:()=>ca,hs:()=>pa,eQ:()=>K,k:()=>R,LO:()=>fa,I:()=>ia,Gj:()=>ra,nM:()=>ma,Lg:()=>ka,HM:()=>ta,V4:()=>sa,EH:()=>Ha,Gi:()=>La});var x;y=h(2189);h=h.n(y);var z="Excalidraw",B=10,L=8,N=5,G=1,F=30,C=Math.PI/
12,H={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},Z={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Fa){Fa.COPY="copy";Fa.PASTE="paste";Fa.CUT="cut";Fa.KEYDOWN="keydown";Fa.KEYUP="keyup";Fa.MOUSE_MOVE="mousemove";Fa.RESIZE="resize";Fa.UNLOAD="unload";Fa.BLUR="blur";Fa.DRAG_OVER="dragover";Fa.DROP="drop";Fa.GESTURE_END="gestureend";Fa.BEFORE_UNLOAD="beforeunload";Fa.GESTURE_START="gesturestart";Fa.GESTURE_CHANGE="gesturechange";Fa.POINTER_MOVE="pointermove";
Fa.POINTER_UP="pointerup";Fa.STATE_CHANGE="statechange";Fa.WHEEL="wheel";Fa.TOUCH_START="touchstart";Fa.TOUCH_END="touchend";Fa.HASHCHANGE="hashchange";Fa.VISIBILITY_CHANGE="visibilitychange";Fa.SCROLL="scroll"}(x||(x={}));var ja={TEST:"test",DEVELOPMENT:"development"},S={SHAPE_ACTIONS_MENU:"App-menu__left"},qa={1:"Virgil",2:"Helvetica",3:"Cascadia"},aa="Segoe UI Emoji",X=20,da=1,ca="left",pa="top",K="{version}",R=20,fa={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
ia={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},ra=300,ma=500,ka=5E3,ta=100,sa=.1,Ha={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},La=h().appearanceFilter},3956:(y,l,h)=>{function x(e,u){return Math.pow(e[0]-u[0],2)+Math.pow(e[1]-u[1],2)}function z(e,u,w){return[e[0]+(u[0]-e[0])*w,e[1]+(u[1]-e[1])*w]}function B(e,u,w,I){I=I||[];var U=e[u+0],ba=e[u+1],wa=e[u+2];const va=e[u+3];var Ca=3*ba[0]-2*U[0]-va[0];Ca*=Ca;ba=3*ba[1]-2*U[1]-va[1];ba*=ba;let Qa=3*wa[0]-2*va[0]-U[0];Qa*=Qa;U=3*wa[1]-2*va[1]-U[1];
(U*=U,Ca<Qa&&(Ca=Qa),ba<U&&(ba=U),Ca+ba)<w?(w=e[u+0],I.length?1<(Ja=I[I.length-1],hb=w,Math.sqrt(x(Ja,hb)))&&I.push(w):I.push(w),I.push(e[u+3])):(Ja=e[u+0],Ca=e[u+1],hb=e[u+2],e=e[u+3],u=z(Ja,Ca,.5),U=z(Ca,hb,.5),hb=z(hb,e,.5),Ca=z(u,U,.5),U=z(U,hb,.5),wa=z(Ca,U,.5),B([Ja,u,Ca,wa],0,w,I),B([wa,U,hb,e],0,w,I));var Ja,hb;return I}function L(e,u){return N(e,0,e.length,u)}function N(e,u,w,I,U){U=U||[];const ba=e[u],wa=e[w-1];let va=0,Ca=1;for(let ob=u+1;ob<w-1;++ob){var Qa=e[ob];var Ja=ba,hb=wa,nb=x(Ja,
hb);0===nb?Qa=x(Qa,Ja):(nb=((Qa[0]-Ja[0])*(hb[0]-Ja[0])+(Qa[1]-Ja[1])*(hb[1]-Ja[1]))/nb,Qa=(nb=Math.max(0,Math.min(1,nb)),x(Qa,z(Ja,hb,nb))));Qa>va&&(va=Qa,Ca=ob)}return Math.sqrt(va)>I?(N(e,u,Ca+1,I,U),N(e,Ca,w,I,U)):(U.length||U.push(ba),U.push(wa)),U}function G(e,u=.15,w){const I=[],U=(e.length-1)/3;for(let ba=0;ba<U;ba++)B(e,3*ba,u,I);return w&&0<w?N(I,0,I.length,w):I}function F(e,u,w){if(e&&e.length){const [I,U]=u;u=Math.PI/180*w;const ba=Math.cos(u),wa=Math.sin(u);e.forEach(va=>{const [Ca,Qa]=
va;va[0]=(Ca-I)*ba-(Qa-U)*wa+I;va[1]=(Ca-I)*wa+(Qa-U)*ba+U})}}function C(e){const u=e[0];e=e[1];return Math.sqrt(Math.pow(u[0]-e[0],2)+Math.pow(u[1]-e[1],2))}function H(e,u,w,I){const U=u[1]-e[1];u=e[0]-u[0];e=U*e[0]+u*e[1];const ba=I[1]-w[1];I=w[0]-I[0];w=ba*w[0]+I*w[1];const wa=U*I-ba*u;return wa?[(I*e-u*w)/wa,(U*w-ba*e)/wa]:null}function Z(e,u,w){const I=e.length;if(3>I)return!1;const U=[Number.MAX_SAFE_INTEGER,w];u=[u,w];w=0;for(let ba=0;ba<I;ba++){const wa=e[ba],va=e[(ba+1)%I];if(qa(wa,va,u,
U)){if(0===S(wa,u,va))return ja(wa,u,va);w++}}return 1==w%2}function ja(e,u,w){return u[0]<=Math.max(e[0],w[0])&&u[0]>=Math.min(e[0],w[0])&&u[1]<=Math.max(e[1],w[1])&&u[1]>=Math.min(e[1],w[1])}function S(e,u,w){e=(u[1]-e[1])*(w[0]-u[0])-(u[0]-e[0])*(w[1]-u[1]);return 0===e?0:0<e?1:2}function qa(e,u,w,I){const U=S(e,u,w),ba=S(e,u,I),wa=S(w,I,e),va=S(w,I,u);return U!==ba&&wa!==va||!(0!==U||!ja(e,w,u))||!(0!==ba||!ja(e,I,u))||!(0!==wa||!ja(w,e,I))||!(0!==va||!ja(w,u,I))}function aa(e,u){const w=[0,0],
I=Math.round(u.hachureAngle+90);I&&F(e,w,I);u=function(U,ba){var wa=[...U];wa[0].join(",")!==wa[wa.length-1].join(",")&&wa.push([wa[0][0],wa[0][1]]);U=[];if(wa&&2<wa.length){let Ca=ba.hachureGap;0>Ca&&(Ca=4*ba.strokeWidth);Ca=Math.max(Ca,.1);ba=[];for(var va=0;va<wa.length-1;va++){const hb=wa[va],nb=wa[va+1];if(hb[1]!==nb[1]){const ob=Math.min(hb[1],nb[1]);ba.push({ymin:ob,ymax:Math.max(hb[1],nb[1]),x:ob===hb[1]?hb[0]:nb[0],islope:(nb[0]-hb[0])/(nb[1]-hb[1])})}}if(ba.sort((hb,nb)=>hb.ymin<nb.ymin?
-1:hb.ymin>nb.ymin?1:hb.x<nb.x?-1:hb.x>nb.x?1:hb.ymax===nb.ymax?0:(hb.ymax-nb.ymax)/Math.abs(hb.ymax-nb.ymax)),!ba.length)return U;let Qa=[],Ja=ba[0].ymin;for(;Qa.length||ba.length;){if(ba.length){wa=-1;for(va=0;va<ba.length&&!(ba[va].ymin>Ja);va++)wa=va;ba.splice(0,wa+1).forEach(hb=>{Qa.push({s:Ja,edge:hb})})}if(Qa=Qa.filter(hb=>!(hb.edge.ymax<=Ja)),Qa.sort((hb,nb)=>hb.edge.x===nb.edge.x?0:(hb.edge.x-nb.edge.x)/Math.abs(hb.edge.x-nb.edge.x)),1<Qa.length)for(wa=0;wa<Qa.length;wa+=2){va=wa+1;if(va>=
Qa.length)break;U.push([[Math.round(Qa[wa].edge.x),Ja],[Math.round(Qa[va].edge.x),Ja]])}Ja+=Ca;Qa.forEach(hb=>{hb.edge.x+=Ca*hb.edge.islope})}}return U}(e,u);return I&&(F(e,w,-I),function(U,ba,wa){const va=[];U.forEach(Ca=>va.push(...Ca));F(va,ba,wa)}(u,w,-I)),u}function X(e){const u=[];a:{var w=e;for(var I=[];""!==w;){if(!w.match(/^([ \t\r\n,]+)/))if(w.match(/^([aAcChHlLmMqQsStTvVzZ])/))I[I.length]={type:0,text:RegExp.$1};else{if(!w.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){w=
[];break a}I[I.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}w=w.substr(RegExp.$1.length)}w=(I[I.length]={type:2,text:""},I)}I="BOD";let U=0;for(var ba=w[U];2!==ba.type;){let wa=0;const va=[];if("BOD"===I){if("M"!==ba.text&&"m"!==ba.text)return X("M0,0"+e);U++;wa=yh[ba.text];I=ba.text}else 1===ba.type?wa=yh[I]:(U++,wa=yh[ba.text],I=ba.text);if(!(U+wa<w.length))throw Error("Path data ended short");for(ba=U;ba<U+wa;ba++){const Ca=w[ba];if(1!==Ca.type)throw Error("Param not a number: "+I+","+Ca.text);
va[va.length]=+Ca.text}if("number"!=typeof yh[I])throw Error("Bad segment: "+I);u.push({key:I,data:va});U+=wa;ba=w[U];"M"===I&&(I="L");"m"===I&&(I="l")}return u}function da(e){let u=0,w=0,I=0,U=0;const ba=[];for(const {key:wa,data:va}of e)switch(wa){case "M":ba.push({key:"M",data:[...va]});[u,w]=va;[I,U]=va;break;case "m":u+=va[0];w+=va[1];ba.push({key:"M",data:[u,w]});I=u;U=w;break;case "L":ba.push({key:"L",data:[...va]});[u,w]=va;break;case "l":u+=va[0];w+=va[1];ba.push({key:"L",data:[u,w]});break;
case "C":ba.push({key:"C",data:[...va]});u=va[4];w=va[5];break;case "c":e=va.map((Ca,Qa)=>Qa%2?Ca+w:Ca+u);ba.push({key:"C",data:e});u=e[4];w=e[5];break;case "Q":ba.push({key:"Q",data:[...va]});u=va[2];w=va[3];break;case "q":e=va.map((Ca,Qa)=>Qa%2?Ca+w:Ca+u);ba.push({key:"Q",data:e});u=e[2];w=e[3];break;case "A":ba.push({key:"A",data:[...va]});u=va[5];w=va[6];break;case "a":u+=va[5];w+=va[6];ba.push({key:"A",data:[va[0],va[1],va[2],va[3],va[4],u,w]});break;case "H":ba.push({key:"H",data:[...va]});
u=va[0];break;case "h":u+=va[0];ba.push({key:"H",data:[u]});break;case "V":ba.push({key:"V",data:[...va]});w=va[0];break;case "v":w+=va[0];ba.push({key:"V",data:[w]});break;case "S":ba.push({key:"S",data:[...va]});u=va[2];w=va[3];break;case "s":e=va.map((Ca,Qa)=>Qa%2?Ca+w:Ca+u);ba.push({key:"S",data:e});u=e[2];w=e[3];break;case "T":ba.push({key:"T",data:[...va]});u=va[0];w=va[1];break;case "t":u+=va[0];w+=va[1];ba.push({key:"T",data:[u,w]});break;case "Z":case "z":ba.push({key:"Z",data:[]}),u=I,w=
U}return ba}function ca(e){const u=[];var w="";let I=0,U=0,ba=0,wa=0,va=0,Ca=0;for(const {key:Ja,data:hb}of e){switch(Ja){case "M":u.push({key:"M",data:[...hb]});[I,U]=hb;[ba,wa]=hb;break;case "C":u.push({key:"C",data:[...hb]});I=hb[4];U=hb[5];va=hb[2];Ca=hb[3];break;case "L":u.push({key:"L",data:[...hb]});[I,U]=hb;break;case "H":I=hb[0];u.push({key:"L",data:[I,U]});break;case "V":U=hb[0];u.push({key:"L",data:[I,U]});break;case "S":var Qa=e=0;"C"===w||"S"===w?(e=I+(I-va),Qa=U+(U-Ca)):(e=I,Qa=U);u.push({key:"C",
data:[e,Qa,...hb]});va=hb[0];Ca=hb[1];I=hb[2];U=hb[3];break;case "T":const [nb,ob]=hb;Qa=e=0;"Q"===w||"T"===w?(e=I+(I-va),Qa=U+(U-Ca)):(e=I,Qa=U);u.push({key:"C",data:[I+2*(e-I)/3,U+2*(Qa-U)/3,nb+2*(e-nb)/3,ob+2*(Qa-ob)/3,nb,ob]});va=e;Ca=Qa;I=nb;U=ob;break;case "Q":const [ac,Ub,uc,Zc]=hb;u.push({key:"C",data:[I+2*(ac-I)/3,U+2*(Ub-U)/3,uc+2*(ac-uc)/3,Zc+2*(Ub-Zc)/3,uc,Zc]});va=ac;Ca=Ub;I=uc;U=Zc;break;case "A":w=Math.abs(hb[0]);e=Math.abs(hb[1]);Qa=hb[2];const cd=hb[3],pd=hb[4],ce=hb[5],be=hb[6];
if(0===w||0===e)u.push({key:"C",data:[I,U,ce,be,ce,be]}),I=ce,U=be;else if(I!==ce||U!==be)K(I,U,ce,be,w,e,Qa,cd,pd).forEach(function(Ce){u.push({key:"C",data:Ce})}),I=ce,U=be;break;case "Z":u.push({key:"Z",data:[]}),I=ba,U=wa}w=Ja}return u}function pa(e,u,w){return[e*Math.cos(w)-u*Math.sin(w),e*Math.sin(w)+u*Math.cos(w)]}function K(e,u,w,I,U,ba,wa,va,Ca,Qa){const Ja=(hb=wa,Math.PI*hb/180);var hb;hb=[];if(Qa)[va,nb,ob,ac]=Qa;else{[e,u]=pa(e,u,-Ja);[w,I]=pa(w,I,-Ja);var nb=(e-w)/2;var ob=(u-I)/2;var ac=
nb*nb/(U*U)+ob*ob/(ba*ba);1<ac&&(ac=Math.sqrt(ac),U*=ac,ba*=ac);ac=U*U;var Ub=ba*ba;va=(va===Ca?-1:1)*Math.sqrt(Math.abs((ac*Ub-ac*ob*ob-Ub*nb*nb)/(ac*ob*ob+Ub*nb*nb)));ob=va*U*ob/ba+(e+w)/2;ac=va*-ba*nb/U+(u+I)/2;va=Math.asin(parseFloat(((u-ac)/ba).toFixed(9)));nb=Math.asin(parseFloat(((I-ac)/ba).toFixed(9)));e<ob&&(va=Math.PI-va);w<ob&&(nb=Math.PI-nb);0>va&&(va=2*Math.PI+va);0>nb&&(nb=2*Math.PI+nb);Ca&&va>nb&&(va-=2*Math.PI);!Ca&&nb>va&&(nb-=2*Math.PI)}if(Math.abs(nb-va)>120*Math.PI/180){hb=nb;
Ub=w;const uc=I;nb=Ca&&nb>va?va+120*Math.PI/180:va+120*Math.PI/180*-1;hb=K(w=ob+U*Math.cos(nb),I=ac+ba*Math.sin(nb),Ub,uc,U,ba,wa,0,Ca,[nb,hb,ob,ac])}wa=Math.tan((nb-va)/4);U=4/3*U*wa;wa*=4/3*ba;ba=[e,u];e=[e+U*Math.sin(va),u-wa*Math.cos(va)];u=[w+U*Math.sin(nb),I-wa*Math.cos(nb)];w=[w,I];if(e[0]=2*ba[0]-e[0],e[1]=2*ba[1]-e[1],Qa)return[e,u,w].concat(hb);hb=[e,u,w].concat(hb);Qa=[];for(w=0;w<hb.length;w+=3)I=pa(hb[w][0],hb[w][1],Ja),e=pa(hb[w+1][0],hb[w+1][1],Ja),u=pa(hb[w+2][0],hb[w+2][1],Ja),Qa.push([I[0],
I[1],e[0],e[1],u[0],u[1]]);return Qa}function R(e,u,w){const I=(e||[]).length;if(2<I){const U=[];for(let ba=0;ba<I-1;ba++)U.push(...Fa(e[ba][0],e[ba][1],e[ba+1][0],e[ba+1][1],w));return u&&U.push(...Fa(e[I-1][0],e[I-1][1],e[0][0],e[0][1],w)),{type:"path",ops:U}}return 2===I?{type:"path",ops:Fa(e[0][0],e[0][1],e[1][0],e[1][1],w)}:{type:"path",ops:[]}}function fa(e,u){let w=rb(e,1+.2*u.roughness,u);if(!u.disableMultiStroke){var I=1.5*(1+.22*u.roughness);const U=Object.assign({},u);U.randomizer=void 0;
u.seed&&(U.seed=u.seed+1);e=rb(e,I,U);w=w.concat(e)}return{type:"path",ops:w}}function ia(e,u,w){const I=2*Math.PI/Math.max(w.curveStepCount,w.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(u/2,2))/2)));e=Math.abs(e/2);u=Math.abs(u/2);const U=1-w.curveFitting;return e+=La(e*U,w),u+=La(u*U,w),{increment:I,rx:e,ry:u}}function ra(e,u,w,I){const [U,ba]=Jb(I.increment,e,u,I.rx,I.ry,1,I.increment*Ha(.1,Ha(.4,1,w),w),w);let wa=Kb(U,null,w);w.disableMultiStroke||([e]=
Jb(I.increment,e,u,I.rx,I.ry,1.5,0,w),w=Kb(e,null,w),wa=wa.concat(w));return{estimatedPoints:ba,opset:{type:"path",ops:wa}}}function ma(e,u,w,I,U,ba,wa,va,Ca){w=Math.abs(w/2);I=Math.abs(I/2);w+=La(.01*w,Ca);for(I+=La(.01*I,Ca);0>U;)U+=2*Math.PI,ba+=2*Math.PI;ba-U>2*Math.PI&&(U=0,ba=2*Math.PI);var Qa=Math.min(2*Math.PI/Ca.curveStepCount/2,(ba-U)/2);const Ja=Tb(Qa,e,u,w,I,U,ba,1,Ca);Ca.disableMultiStroke||(Qa=Tb(Qa,e,u,w,I,U,ba,1.5,Ca),Ja.push(...Qa));return wa&&(va?Ja.push(...Fa(e,u,e+w*Math.cos(U),
u+I*Math.sin(U),Ca),...Fa(e,u,e+w*Math.cos(ba),u+I*Math.sin(ba),Ca)):Ja.push({op:"lineTo",data:[e,u]},{op:"lineTo",data:[e+w*Math.cos(U),u+I*Math.sin(U)]})),{type:"path",ops:Ja}}function ka(e,u){const w=[];if(e.length){const I=u.maxRandomnessOffset||0,U=e.length;if(2<U){w.push({op:"move",data:[e[0][0]+La(I,u),e[0][1]+La(I,u)]});for(let ba=1;ba<U;ba++)w.push({op:"lineTo",data:[e[ba][0]+La(I,u),e[ba][1]+La(I,u)]})}}return{type:"fillPath",ops:w}}function ta(e,u){var w=Cd;let I=u.fillStyle||"hachure";
if(!kg[I])switch(I){case "zigzag":kg[I]||(kg[I]=new uf(w));break;case "cross-hatch":kg[I]||(kg[I]=new Kf(w));break;case "dots":kg[I]||(kg[I]=new qh(w));break;case "dashed":kg[I]||(kg[I]=new Si(w));break;case "zigzag-line":kg[I]||(kg[I]=new Ij(w));break;default:I="hachure",kg[I]||(kg[I]=new ee(w))}return kg[I].fillPolygon(e,u)}function sa(e){return e.randomizer||(e.randomizer=new Se(e.seed||0)),e.randomizer.next()}function Ha(e,u,w,I=1){return w.roughness*I*(sa(w)*(u-e)+e)}function La(e,u,w=1){return Ha(-e,
e,u,w)}function Fa(e,u,w,I,U,ba=!1){const wa=ba?U.disableMultiStrokeFill:U.disableMultiStroke;ba=ib(e,u,w,I,U,!0,!1);if(wa)return ba;e=ib(e,u,w,I,U,!0,!0);return ba.concat(e)}function ib(e,u,w,I,U,ba,wa){var va=Math.pow(e-w,2)+Math.pow(u-I,2),Ca=Math.sqrt(va);let Qa;Qa=200>Ca?1:500<Ca?.4:-.0016668*Ca+1.233334;let Ja=U.maxRandomnessOffset||0;Ja*Ja*100>va&&(Ja=Ca/10);va=Ja/2;Ca=.2+.2*sa(U);let hb=U.bowing*U.maxRandomnessOffset*(I-u)/200,nb=U.bowing*U.maxRandomnessOffset*(e-w)/200;hb=La(hb,U,Qa);nb=
La(nb,U,Qa);const ob=[];return ba&&(wa?ob.push({op:"move",data:[e+La(va,U,Qa),u+La(va,U,Qa)]}):ob.push({op:"move",data:[e+La(Ja,U,Qa),u+La(Ja,U,Qa)]})),wa?ob.push({op:"bcurveTo",data:[hb+e+(w-e)*Ca+La(va,U,Qa),nb+u+(I-u)*Ca+La(va,U,Qa),hb+e+2*(w-e)*Ca+La(va,U,Qa),nb+u+2*(I-u)*Ca+La(va,U,Qa),w+La(va,U,Qa),I+La(va,U,Qa)]}):ob.push({op:"bcurveTo",data:[hb+e+(w-e)*Ca+La(Ja,U,Qa),nb+u+(I-u)*Ca+La(Ja,U,Qa),hb+e+2*(w-e)*Ca+La(Ja,U,Qa),nb+u+2*(I-u)*Ca+La(Ja,U,Qa),w+La(Ja,U,Qa),I+La(Ja,U,Qa)]}),ob}function rb(e,
u,w){const I=[];I.push([e[0][0]+La(u,w),e[0][1]+La(u,w)]);I.push([e[0][0]+La(u,w),e[0][1]+La(u,w)]);for(let U=1;U<e.length;U++)I.push([e[U][0]+La(u,w),e[U][1]+La(u,w)]),U===e.length-1&&I.push([e[U][0]+La(u,w),e[U][1]+La(u,w)]);return Kb(I,null,w)}function Kb(e,u,w){const I=e.length,U=[];if(3<I){const ba=[],wa=1-w.curveTightness;U.push({op:"move",data:[e[1][0],e[1][1]]});for(let va=1;va+2<I;va++){const Ca=e[va];ba[0]=[Ca[0],Ca[1]];ba[1]=[Ca[0]+(wa*e[va+1][0]-wa*e[va-1][0])/6,Ca[1]+(wa*e[va+1][1]-wa*
e[va-1][1])/6];ba[2]=[e[va+1][0]+(wa*e[va][0]-wa*e[va+2][0])/6,e[va+1][1]+(wa*e[va][1]-wa*e[va+2][1])/6];ba[3]=[e[va+1][0],e[va+1][1]];U.push({op:"bcurveTo",data:[ba[1][0],ba[1][1],ba[2][0],ba[2][1],ba[3][0],ba[3][1]]})}u&&2===u.length&&(e=w.maxRandomnessOffset,U.push({op:"lineTo",data:[u[0]+La(e,w),u[1]+La(e,w)]}))}else 3===I?(U.push({op:"move",data:[e[1][0],e[1][1]]}),U.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===I&&U.push(...Fa(e[0][0],e[0][1],e[1][0],e[1][1],
w));return U}function Jb(e,u,w,I,U,ba,wa,va){const Ca=[],Qa=[],Ja=La(.5,va)-Math.PI/2;Qa.push([La(ba,va)+u+.9*I*Math.cos(Ja-e),La(ba,va)+w+.9*U*Math.sin(Ja-e)]);for(let hb=Ja;hb<2*Math.PI+Ja-.01;hb+=e){const nb=[La(ba,va)+u+I*Math.cos(hb),La(ba,va)+w+U*Math.sin(hb)];Ca.push(nb);Qa.push(nb)}return Qa.push([La(ba,va)+u+I*Math.cos(Ja+2*Math.PI+.5*wa),La(ba,va)+w+U*Math.sin(Ja+2*Math.PI+.5*wa)]),Qa.push([La(ba,va)+u+.98*I*Math.cos(Ja+wa),La(ba,va)+w+.98*U*Math.sin(Ja+wa)]),Qa.push([La(ba,va)+u+.9*I*Math.cos(Ja+
.5*wa),La(ba,va)+w+.9*U*Math.sin(Ja+.5*wa)]),[Qa,Ca]}function Tb(e,u,w,I,U,ba,wa,va,Ca){var Qa=ba+La(.1,Ca);ba=[];for(ba.push([La(va,Ca)+u+.9*I*Math.cos(Qa-e),La(va,Ca)+w+.9*U*Math.sin(Qa-e)]);Qa<=wa;Qa+=e)ba.push([La(va,Ca)+u+I*Math.cos(Qa),La(va,Ca)+w+U*Math.sin(Qa)]);return ba.push([u+I*Math.cos(wa),w+U*Math.sin(wa)]),ba.push([u+I*Math.cos(wa),w+U*Math.sin(wa)]),Kb(ba,null,Ca)}function Nb(e,u,w,I,U,ba,wa,va){const Ca=[],Qa=[va.maxRandomnessOffset||1,(va.maxRandomnessOffset||1)+.3];let Ja;const hb=
va.disableMultiStroke?1:2;for(let nb=0;nb<hb;nb++)0===nb?Ca.push({op:"move",data:[wa[0],wa[1]]}):Ca.push({op:"move",data:[wa[0]+La(Qa[0],va),wa[1]+La(Qa[0],va)]}),Ja=[U+La(Qa[nb],va),ba+La(Qa[nb],va)],Ca.push({op:"bcurveTo",data:[e+La(Qa[nb],va),u+La(Qa[nb],va),w+La(Qa[nb],va),I+La(Qa[nb],va),Ja[0],Ja[1]]});return Ca}function fc(e){var u,w,I="";if("string"==typeof e||"number"==typeof e)I+=e;else if("object"==typeof e)if(Array.isArray(e))for(u=0;u<e.length;u++)e[u]&&(w=fc(e[u]))&&(I&&(I+=" "),I+=w);
else for(u in e)e[u]&&(I&&(I+=" "),I+=u);return I}function mc(){for(var e,u,w=0,I="";w<arguments.length;)(e=arguments[w++])&&(u=fc(e))&&(I&&(I+=" "),I+=u);return I}function Gc(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Db(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Gc(Object(w),!0).forEach(function(I){xe()(e,
I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Gc(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function hc(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function fb(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?
arguments[u]:{};u%2?hc(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):hc(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Ka(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Oa(e){for(var u=
1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Ka(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Ka(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Na(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,
U).enumerable}));w.push.apply(w,I)}return w}function Ga(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Na(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Na(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Ra(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);
u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function cb(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Ra(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Ra(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Ob(e,u){var w=Object.keys(e);
if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Qb(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function lc(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Qb(Object(w),
!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Qb(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Ec(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function yc(e){for(var u=1;u<arguments.length;u++){var w=
null!=arguments[u]?arguments[u]:{};u%2?Ec(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Ec(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function sc(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,
I)}return w}function Rc(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?sc(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):sc(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Fd(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,
U).enumerable}));w.push.apply(w,I)}return w}function dd(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Fd(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Fd(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function ze(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);
u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function qe(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?ze(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):ze(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function hd(e){var u=e.options,w=e.value,
I=e.label,U=e.onChange,ba=e.onClose,wa=V().useRef(),va=V().useRef(),Ca=V().useRef(null);V().useEffect(function(){va.current?va.current.focus():Ca.current&&Ca.current.focus()},[]);return V().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":I,onKeyDown:function(Qa){var Ja=u.find(function(ac){return ac.keyBinding===Qa.key.toLowerCase()});if(Qa.metaKey||Qa.altKey||Qa.ctrlKey||!Ja)if("Tab"===Qa.key)setTimeout(function(){va.current!==document.activeElement&&ba()},0);
else if(vg(Qa.key)){Ja=rf.rtl;if(-1!==(ob=Array.prototype.indexOf.call(Ca.current.children,document.activeElement))){var hb=u.length,nb=ob;switch(Qa.key){case Ja?"ArrowLeft":"ArrowRight":case "ArrowDown":nb=(ob+1)%hb;break;case Ja?"ArrowRight":"ArrowLeft":case "ArrowUp":nb=(hb+ob-1)%hb}Ca.current.children[nb].focus()}Qa.preventDefault()}else"Escape"!==Qa.key&&"Enter"!==Qa.key||(Qa.preventDefault(),ba());else{var ob=u.indexOf(Ja);Ca.current.children[ob].focus();Qa.preventDefault()}Qa.nativeEvent.stopImmediatePropagation()}},
V().createElement("div",{className:"picker-content",ref:Ca},u.map(function(Qa,Ja){return V().createElement("button",{className:"picker-option",onClick:function(hb){hb.currentTarget.focus();U(Qa.value)},title:"".concat(Qa.text," — ").concat(Qa.keyBinding.toUpperCase()),"aria-label":Qa.text||"none","aria-keyshortcuts":Qa.keyBinding,key:Qa.text,ref:function(hb){hb&&0===Ja&&(wa.current=hb);hb&&Qa.value===w&&(va.current=hb)},onFocus:function(){U(Qa.value)}},Qa.icon,V().createElement("span",{className:"picker-keybinding"},
Qa.keyBinding))})))}function jd(e){var u,w=e.value,I=e.label,U=e.options,ba=e.onChange;e=e.group;e=void 0===e?"":e;var wa=V().useState(!1),va=wa[0],Ca=wa[1],Qa=V().useRef(null);wa=rf.rtl;return V().createElement("label",{className:"picker-container"},V().createElement("button",{name:e,className:va?"active":"","aria-label":I,onClick:function(){return Ca(!va)},ref:Qa},null===(u=U.find(function(Ja){return Ja.value===w}))||void 0===u?void 0:u.icon),V().createElement(V().Suspense,{fallback:""},va?V().createElement(V().Fragment,
null,V().createElement(gb,Id()({onCloseRequest:function(Ja){return Ja.target!==Qa.current&&Ca(!1)}},wa?{right:5.5}:{left:-5.5}),V().createElement(hd,{options:U,value:w,label:I,onChange:ba,onClose:function(){var Ja;Ca(!1);null===(Ja=Qa.current)||void 0===Ja||Ja.focus()}})),V().createElement("div",{className:"picker-triangle"})):null))}function Oe(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,
U).enumerable}));w.push.apply(w,I)}return w}function oe(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Oe(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Oe(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Pe(){return(0,ha.useContext)(gg)}function ff(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=
Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Xe(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?ff(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):ff(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function jf(e,
u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function bg(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?jf(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):jf(Object(w)).forEach(function(I){Object.defineProperty(e,
I,Object.getOwnPropertyDescriptor(w,I))})}return e}async function ai(...e){return(await ym).default(...e)}async function Mg(...e){return(await hf).default(...e)}function Re(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Ae(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Re(Object(w),!0).forEach(function(I){xe()(e,
I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Re(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Of(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function De(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?
arguments[u]:{};u%2?Of(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Of(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function mb(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function yb(e){for(var u=
1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?mb(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):mb(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function lb(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,
U).enumerable}));w.push.apply(w,I)}return w}function Xa(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?lb(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):lb(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function db(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);
u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function pb(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?db(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):db(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Pb(e,u){var w=Object.keys(e);
if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function kc(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Pb(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Pb(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,
I))})}return e}function tc(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Dc(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?tc(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):tc(Object(w)).forEach(function(I){Object.defineProperty(e,
I,Object.getOwnPropertyDescriptor(w,I))})}return e}function kd(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Tc(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?kd(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):
kd(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Od(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function pc(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Od(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Od(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Vb(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function $d(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Vb(Object(w),
!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Vb(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function fg(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Mc(e){for(var u=1;u<arguments.length;u++){var w=
null!=arguments[u]?arguments[u]:{};u%2?fg(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):fg(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Td(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,
I)}return w}function xb(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Td(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Td(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Za(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,
U).enumerable}));w.push.apply(w,I)}return w}function Yb(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Za(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Za(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Jc(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);
u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function qd(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Jc(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Jc(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function wd(e,u){var w=Object.keys(e);
if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function le(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?wd(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):wd(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,
I))})}return e}function Ac(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Pc(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Ac(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Ac(Object(w)).forEach(function(I){Object.defineProperty(e,
I,Object.getOwnPropertyDescriptor(w,I))})}return e}function gc(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function tb(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?gc(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):
gc(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function td(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function cf(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,
U).enumerable}));w.push.apply(w,I)}return w}function Gd(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Pf(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Gd(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):
Gd(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}function Ea(e,u){var w=Object.keys(e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(e);u&&(I=I.filter(function(U){return Object.getOwnPropertyDescriptor(e,U).enumerable}));w.push.apply(w,I)}return w}function Va(e){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Ea(Object(w),!0).forEach(function(I){xe()(e,I,w[I])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(e,Object.getOwnPropertyDescriptors(w)):Ea(Object(w)).forEach(function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(w,I))})}return e}h.r(l);h.d(l,{default:()=>du,defaultLang:()=>Kd,getElementMap:()=>Zi,getSceneVersion:()=>el,getSyncableElements:()=>Pk,languages:()=>Uc,restore:()=>kn,restoreAppState:()=>jn,restoreElements:()=>yk});var Ua=h(7154),Aa=h.n(Ua),ua=h(6479),P=h.n(ua),ha=h(4698),V=h.n(ha),Sa=h(8288);const eb=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');
"production"!==Sa.Vi.TEST&&(h.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(eb.u2,"@").concat(eb.i8,"/dist/"));var Ib=h(5374),Cb=h.n(Ib),Cc=h(2829),Dd=h(2051),bd=function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=
Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=
0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Kd={code:"en",label:"English"},Uc=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},
{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},
{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Kd]).sort(function(e,u){return e.label>u.label?1:-1}).filter(function(e){return 85<=
Dd[e.code]});"production"===Sa.Vi.DEVELOPMENT&&Uc.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var Ie,rf=Kd,ug={},bf=function(){var e=Cb()(function(u){return bd(this,function(w){switch(w.label){case 0:return rf=u,document.documentElement.dir=rf.rtl?"rtl":"ltr",document.documentElement.lang=rf.code,u.code.startsWith("__test__")?(ug={},[3,3]):[3,1];case 1:return[4,h(788)("./".concat(rf.code,".json"))];case 2:ug=w.sent(),w.label=
3;case 3:return[2]}})});return function(u){return e.apply(this,arguments)}}(),nd=function(e,u){for(var w=0;w<u.length;++w){var I=u[w];if(void 0===e[I])return;e=e[I]}if("string"==typeof e)return e},Rb=function(e,u){if(rf.code.startsWith("__test__"))return e=u?"".concat(e,"(").concat(JSON.stringify(u).slice(1,-1),")"):e,"‪[[".concat(e,"]]‬");var w=e.split(".");w=nd(ug,w)||nd(Cc,w);if(void 0===w)throw Error("Can't find translation for ".concat(e));if(u)for(var I in u)w=w.replace("{{".concat(I,"}}"),
u[I]);return w},jg=function(){return V().createElement("div",{className:"LoadingMessage"},V().createElement("span",null,Rb("labels.loadingScene")))},$g=(Ie=function(e,u){return(Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,I){w.__proto__=I}||function(w,I){for(var U in I)Object.prototype.hasOwnProperty.call(I,U)&&(w[U]=I[U])})(e,u)},function(e,u){function w(){this.constructor=e}if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");
Ie(e,u);e.prototype=null===u?Object.create(u):(w.prototype=u.prototype,new w)}),Qf=function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;
case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,
U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Mh=function(e){function u(){for(var w=[],I=0;I<arguments.length;I++)w[I]=arguments[I];var U;I=this;return U=I=e.apply(this,w)||this,I.state={isLoading:!0},U}return $g(u,e),u.prototype.componentDidMount=function(){var w=this;return Cb()(function(){var I;return Qf(this,function(U){switch(U.label){case 0:return I=
Uc.find(function(ba){return ba.code===w.props.langCode})||Kd,[4,bf(I)];case 1:return U.sent(),w.setState({isLoading:!1}),[2]}})})()},u.prototype.render=function(){return this.state.isLoading?V().createElement(jg,null):this.props.children},u}(V().Component),Nh=h(566),xe=h.n(Nh);class ee{constructor(e){this.helper=e}fillPolygon(e,u){return this._fillPolygon(e,u)}_fillPolygon(e,u,w=!1){let I=aa(e,u);w&&(e=this.connectingLines(e,I),I=I.concat(e));return{type:"fillSketch",ops:this.renderLines(I,u)}}renderLines(e,
u){const w=[];for(const I of e)w.push(...this.helper.doubleLineOps(I[0][0],I[0][1],I[1][0],I[1][1],u));return w}connectingLines(e,u){const w=[];if(1<u.length)for(let U=1;U<u.length;U++){var I=u[U-1];3>C(I)||(I=[u[U][0],I[1]],3<C(I)&&(I=this.splitOnIntersections(e,I),w.push(...I)))}return w}midPointInPolygon(e,u){return Z(e,(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2)}splitOnIntersections(e,u){var w=Math.max(5,.1*C(u)),I=[];for(var U=0;U<e.length;U++){var ba=e[U],wa=e[(U+1)%e.length];if(qa(ba,wa,...u)&&
(ba=H(ba,wa,u[0],u[1]))){wa=C([ba,u[0]]);const va=C([ba,u[1]]);wa>w&&va>w&&I.push({point:ba,distance:wa})}}if(1<I.length){w=I.sort((va,Ca)=>va.distance-Ca.distance).map(va=>va.point);if(Z(e,...u[0])||w.shift(),Z(e,...u[1])||w.pop(),1>=w.length)return this.midPointInPolygon(e,u)?[u]:[];u=[u[0],...w,u[1]];w=[];for(I=0;I<u.length-1;I+=2)U=[u[I],u[I+1]],this.midPointInPolygon(e,U)&&w.push(U);return w}return this.midPointInPolygon(e,u)?[u]:[]}}class uf extends ee{fillPolygon(e,u){return this._fillPolygon(e,
u,!0)}}class Kf extends ee{fillPolygon(e,u){const w=this._fillPolygon(e,u);u=Object.assign({},u,{hachureAngle:u.hachureAngle+90});e=this._fillPolygon(e,u);return w.ops=w.ops.concat(e.ops),w}}class qh{constructor(e){this.helper=e}fillPolygon(e,u){e=aa(e,u=Object.assign({},u,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(e,u)}dotsOnLines(e,u){const w=[];let I=u.hachureGap;0>I&&(I=4*u.strokeWidth);I=Math.max(I,.1);let U=u.fillWeight;0>U&&(U=u.strokeWidth/2);const ba=I/4;for(const Qa of e){var wa=
C(Qa);e=Math.ceil(wa/I)-1;wa-=e*I;const Ja=(Qa[0][0]+Qa[1][0])/2-I/4,hb=Math.min(Qa[0][1],Qa[1][1]);for(let nb=0;nb<e;nb++){var va=hb+wa+nb*I,Ca=this.helper.randOffsetWithRange(Ja-ba,Ja+ba,u);va=this.helper.randOffsetWithRange(va-ba,va+ba,u);Ca=this.helper.ellipse(Ca,va,U,U,u);w.push(...Ca.ops)}}return{type:"fillSketch",ops:w}}}class Si{constructor(e){this.helper=e}fillPolygon(e,u){e=aa(e,u);return{type:"fillSketch",ops:this.dashedLine(e,u)}}dashedLine(e,u){const w=0>u.dashOffset?0>u.hachureGap?4*
u.strokeWidth:u.hachureGap:u.dashOffset,I=0>u.dashGap?0>u.hachureGap?4*u.strokeWidth:u.hachureGap:u.dashGap,U=[];return e.forEach(ba=>{var wa=C(ba);const va=Math.floor(wa/(w+I));wa=(wa+I-va*(w+I))/2;let Ca=ba[0];var Qa=ba[1];Ca[0]>Qa[0]&&(Ca=ba[1],Qa=ba[0]);ba=Math.atan((Qa[1]-Ca[1])/(Qa[0]-Ca[0]));for(Qa=0;Qa<va;Qa++){var Ja=Qa*(w+I),hb=Ja+w;Ja=[Ca[0]+Ja*Math.cos(ba)+wa*Math.cos(ba),Ca[1]+Ja*Math.sin(ba)+wa*Math.sin(ba)];hb=[Ca[0]+hb*Math.cos(ba)+wa*Math.cos(ba),Ca[1]+hb*Math.sin(ba)+wa*Math.sin(ba)];
U.push(...this.helper.doubleLineOps(Ja[0],Ja[1],hb[0],hb[1],u))}}),U}}class Ij{constructor(e){this.helper=e}fillPolygon(e,u){const w=0>u.hachureGap?4*u.strokeWidth:u.hachureGap,I=0>u.zigzagOffset?w:u.zigzagOffset;e=aa(e,u=Object.assign({},u,{hachureGap:w+I}));return{type:"fillSketch",ops:this.zigzagLines(e,I,u)}}zigzagLines(e,u,w){const I=[];return e.forEach(U=>{var ba=C(U);ba=Math.round(ba/(2*u));let wa=U[0];var va=U[1];wa[0]>va[0]&&(wa=U[1],va=U[0]);U=Math.atan((va[1]-wa[1])/(va[0]-wa[0]));for(va=
0;va<ba;va++){var Ca=2*va*u,Qa=2*(va+1)*u,Ja=Math.sqrt(2*Math.pow(u,2));Ca=[wa[0]+Ca*Math.cos(U),wa[1]+Ca*Math.sin(U)];Qa=[wa[0]+Qa*Math.cos(U),wa[1]+Qa*Math.sin(U)];Ja=[Ca[0]+Ja*Math.cos(U+Math.PI/4),Ca[1]+Ja*Math.sin(U+Math.PI/4)];I.push(...this.helper.doubleLineOps(Ca[0],Ca[1],Ja[0],Ja[1],w),...this.helper.doubleLineOps(Ja[0],Ja[1],Qa[0],Qa[1],w))}}),I}}const kg={};class Se{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}
const yh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Cd={randOffset:function(e,u){return La(e,u)},randOffsetWithRange:function(e,u,w){return Ha(e,u,w)},ellipse:function(e,u,w,I,U){w=ia(w,I,U);return ra(e,u,U,w).opset},doubleLineOps:function(e,u,w,I,U){return Fa(e,u,w,I,U,!0)}};class zh{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",
fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=e||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,u,w){return{shape:e,sets:u||[],options:w||this.defaultOptions}}line(e,u,w,I,U){U=this._o(U);return this._d("line",
[{type:"path",ops:Fa(e,u,w,I,U)}],U)}rectangle(e,u,w,I,U){U=this._o(U);const ba=[];var wa=R([[e,u],[e+w,u],[e+w,u+I],[e,u+I]],!0,U);U.fill&&(e=[[e,u],[e+w,u],[e+w,u+I],[e,u+I]],"solid"===U.fillStyle?ba.push(ka(e,U)):ba.push(ta(e,U)));return"none"!==U.stroke&&ba.push(wa),this._d("rectangle",ba,U)}ellipse(e,u,w,I,U){U=this._o(U);const ba=[];I=ia(w,I,U);w=ra(e,u,U,I);U.fill&&("solid"===U.fillStyle?(e=ra(e,u,U,I).opset,e.type="fillPath",ba.push(e)):ba.push(ta(w.estimatedPoints,U)));return"none"!==U.stroke&&
ba.push(w.opset),this._d("ellipse",ba,U)}circle(e,u,w,I){e=this.ellipse(e,u,w,w,I);return e.shape="circle",e}linearPath(e,u){u=this._o(u);return this._d("linearPath",[R(e,!1,u)],u)}arc(e,u,w,I,U,ba,wa=!1,va){va=this._o(va);const Ca=[],Qa=ma(e,u,w,I,U,ba,wa,!0,va);if(wa&&va.fill)if("solid"===va.fillStyle)e=ma(e,u,w,I,U,ba,!0,!1,va),e.type="fillPath",Ca.push(e);else{wa=Ca.push;w=Math.abs(w/2);I=Math.abs(I/2);w+=La(.01*w,va);for(I+=La(.01*I,va);0>U;)U+=2*Math.PI,ba+=2*Math.PI;ba-U>2*Math.PI&&(U=0,ba=
2*Math.PI);const Ja=(ba-U)/va.curveStepCount,hb=[];for(;U<=ba;U+=Ja)hb.push([e+w*Math.cos(U),u+I*Math.sin(U)]);e=(hb.push([e+w*Math.cos(ba),u+I*Math.sin(ba)]),hb.push([e,u]),ta(hb,va));wa.call(Ca,e)}return"none"!==va.stroke&&Ca.push(Qa),this._d("arc",Ca,va)}curve(e,u){u=this._o(u);const w=[],I=fa(e,u);u.fill&&"none"!==u.fill&&3<=e.length&&(e=G(function(U,ba=0){var wa=U.length;if(3>wa)throw Error("A curve must have at least three points.");const va=[];if(3===wa)va.push([...U[0]],[...U[1]],[...U[2]],
[...U[2]]);else{wa=[];wa.push(U[0],U[0]);for(var Ca=1;Ca<U.length;Ca++)wa.push(U[Ca]),Ca===U.length-1&&wa.push(U[Ca]);U=[];ba=1-ba;va.push([...wa[0]]);for(Ca=1;Ca+2<wa.length;Ca++){const Qa=wa[Ca];U[0]=[Qa[0],Qa[1]];U[1]=[Qa[0]+(ba*wa[Ca+1][0]-ba*wa[Ca-1][0])/6,Qa[1]+(ba*wa[Ca+1][1]-ba*wa[Ca-1][1])/6];U[2]=[wa[Ca+1][0]+(ba*wa[Ca][0]-ba*wa[Ca+2][0])/6,wa[Ca+1][1]+(ba*wa[Ca][1]-ba*wa[Ca+2][1])/6];U[3]=[wa[Ca+1][0],wa[Ca+1][1]];va.push(U[1],U[2],U[3])}}return va}(e),10,(1+u.roughness)/2),"solid"===u.fillStyle?
w.push(ka(e,u)):w.push(ta(e,u)));return"none"!==u.stroke&&w.push(I),this._d("curve",w,u)}polygon(e,u){u=this._o(u);const w=[],I=R(e,!0,u);return u.fill&&("solid"===u.fillStyle?w.push(ka(e,u)):w.push(ta(e,u))),"none"!==u.stroke&&w.push(I),this._d("polygon",w,u)}path(e,u){const w=this._o(u),I=[];if(!e)return this._d("path",I,w);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");u=w.fill&&"transparent"!==w.fill&&"none"!==w.fill;const U="none"!==w.stroke,ba=!!(w.simplification&&
1>w.simplification),wa=function(va,Ca,Qa){var Ja=ca(da(X(va)));va=[];let hb=[];var nb=[0,0];let ob=[];const ac=()=>{4<=ob.length&&hb.push(...G(ob,Ca));ob=[]};for(const {key:Ub,data:uc}of Ja)switch(Ub){case "M":ac();hb.length&&(va.push(hb),hb=[]);nb=[uc[0],uc[1]];hb.push(nb);break;case "L":ac();hb.push([uc[0],uc[1]]);break;case "C":ob.length||(Ja=hb.length?hb[hb.length-1]:nb,ob.push([Ja[0],Ja[1]]));ob.push([uc[0],uc[1]]);ob.push([uc[2],uc[3]]);ob.push([uc[4],uc[5]]);break;case "Z":ac(),hb.push([nb[0],
nb[1]])}ac();hb.length&&(va.push(hb),hb=[]);if(!Qa)return va;nb=[];for(const Ub of va)va=L(Ub,Qa),va.length&&nb.push(va);return nb}(e,1,ba?4-4*w.simplification:(1+w.roughness)/2);if(u)if(w.combineNestedSvgPaths){const va=[];wa.forEach(Ca=>va.push(...Ca));"solid"===w.fillStyle?I.push(ka(va,w)):I.push(ta(va,w))}else wa.forEach(va=>{"solid"===w.fillStyle?I.push(ka(va,w)):I.push(ta(va,w))});return U&&(ba?wa.forEach(va=>{I.push(R(va,!1,w))}):I.push(function(va,Ca){va=ca(da(X(va)));const Qa=[];let Ja=[0,
0],hb=[0,0];for(const {key:nb,data:ob}of va)switch(nb){case "M":const ac=1*(Ca.maxRandomnessOffset||0);Qa.push({op:"move",data:ob.map(be=>be+La(ac,Ca))});hb=[ob[0],ob[1]];Ja=[ob[0],ob[1]];break;case "L":Qa.push(...Fa(hb[0],hb[1],ob[0],ob[1],Ca));hb=[ob[0],ob[1]];break;case "C":const [Ub,uc,Zc,cd,pd,ce]=ob;Qa.push(...Nb(Ub,uc,Zc,cd,pd,ce,hb,Ca));hb=[pd,ce];break;case "Z":Qa.push(...Fa(hb[0],hb[1],Ja[0],Ja[1],Ca)),hb=[Ja[0],Ja[1]]}return{type:"path",ops:Qa}}(e,w))),this._d("path",I,w)}opsToPath(e){let u=
"";for(const w of e.ops)switch(e=w.data,w.op){case "move":u+=`M${e[0]} ${e[1]} `;break;case "bcurveTo":u+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case "lineTo":u+=`L${e[0]} ${e[1]} `}return u.trim()}toPaths(e){var u=e.sets||[];e=e.options||this.defaultOptions;const w=[];for(const I of u){u=null;switch(I.type){case "path":u={d:this.opsToPath(I),stroke:e.stroke,strokeWidth:e.strokeWidth,fill:"none"};break;case "fillPath":u={d:this.opsToPath(I),stroke:"none",strokeWidth:0,fill:e.fill||
"none"};break;case "fillSketch":u=this.fillSketch(I,e)}u&&w.push(u)}return w}fillSketch(e,u){let w=u.fillWeight;return 0>w&&(w=u.strokeWidth/2),{d:this.opsToPath(e),stroke:u.fill||"none",strokeWidth:w,fill:"none"}}}class oi{constructor(e,u){this.canvas=e;this.ctx=this.canvas.getContext("2d");this.gen=new zh(u)}draw(e){const u=e.sets||[],w=e.options||this.getDefaultOptions(),I=this.ctx;for(const U of u)switch(U.type){case "path":I.save();I.strokeStyle="none"===w.stroke?"transparent":w.stroke;I.lineWidth=
w.strokeWidth;w.strokeLineDash&&I.setLineDash(w.strokeLineDash);w.strokeLineDashOffset&&(I.lineDashOffset=w.strokeLineDashOffset);this._drawToContext(I,U);I.restore();break;case "fillPath":I.save();I.fillStyle=w.fill||"";this._drawToContext(I,U,"curve"===e.shape||"polygon"===e.shape?"evenodd":"nonzero");I.restore();break;case "fillSketch":this.fillSketch(I,U,w)}}fillSketch(e,u,w){let I=w.fillWeight;0>I&&(I=w.strokeWidth/2);e.save();w.fillLineDash&&e.setLineDash(w.fillLineDash);w.fillLineDashOffset&&
(e.lineDashOffset=w.fillLineDashOffset);e.strokeStyle=w.fill||"";e.lineWidth=I;this._drawToContext(e,u);e.restore()}_drawToContext(e,u,w="nonzero"){e.beginPath();for(const I of u.ops){const U=I.data;switch(I.op){case "move":e.moveTo(U[0],U[1]);break;case "bcurveTo":e.bezierCurveTo(U[0],U[1],U[2],U[3],U[4],U[5]);break;case "lineTo":e.lineTo(U[0],U[1])}}"fillPath"===u.type?e.fill(w):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,u,w,I,U){e=this.gen.line(e,
u,w,I,U);return this.draw(e),e}rectangle(e,u,w,I,U){e=this.gen.rectangle(e,u,w,I,U);return this.draw(e),e}ellipse(e,u,w,I,U){e=this.gen.ellipse(e,u,w,I,U);return this.draw(e),e}circle(e,u,w,I){e=this.gen.circle(e,u,w,I);return this.draw(e),e}linearPath(e,u){e=this.gen.linearPath(e,u);return this.draw(e),e}polygon(e,u){e=this.gen.polygon(e,u);return this.draw(e),e}arc(e,u,w,I,U,ba,wa=!1,va){e=this.gen.arc(e,u,w,I,U,ba,wa,va);return this.draw(e),e}curve(e,u){e=this.gen.curve(e,u);return this.draw(e),
e}path(e,u){e=this.gen.path(e,u);return this.draw(e),e}}class zk{constructor(e,u){this.svg=e;this.gen=new zh(u)}draw(e){var u=e.sets||[];const w=e.options||this.getDefaultOptions(),I=this.svg.ownerDocument||window.document,U=I.createElementNS("http://www.w3.org/2000/svg","g");for(const ba of u){u=null;switch(ba.type){case "path":u=I.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",this.opsToPath(ba));u.setAttribute("stroke",w.stroke);u.setAttribute("stroke-width",w.strokeWidth+
"");u.setAttribute("fill","none");w.strokeLineDash&&u.setAttribute("stroke-dasharray",w.strokeLineDash.join(" ").trim());w.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${w.strokeLineDashOffset}`);break;case "fillPath":u=I.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",this.opsToPath(ba));u.setAttribute("stroke","none");u.setAttribute("stroke-width","0");u.setAttribute("fill",w.fill||"");"curve"!==e.shape&&"polygon"!==e.shape||u.setAttribute("fill-rule","evenodd");
break;case "fillSketch":u=this.fillSketch(I,ba,w)}u&&U.appendChild(u)}return U}fillSketch(e,u,w){let I=w.fillWeight;0>I&&(I=w.strokeWidth/2);e=e.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",this.opsToPath(u)),e.setAttribute("stroke",w.fill||""),e.setAttribute("stroke-width",I+""),e.setAttribute("fill","none"),w.fillLineDash&&e.setAttribute("stroke-dasharray",w.fillLineDash.join(" ").trim()),w.fillLineDashOffset&&e.setAttribute("stroke-dashoffset",`${w.fillLineDashOffset}`),
e}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e){return this.gen.opsToPath(e)}line(e,u,w,I,U){e=this.gen.line(e,u,w,I,U);return this.draw(e)}rectangle(e,u,w,I,U){e=this.gen.rectangle(e,u,w,I,U);return this.draw(e)}ellipse(e,u,w,I,U){e=this.gen.ellipse(e,u,w,I,U);return this.draw(e)}circle(e,u,w,I){e=this.gen.circle(e,u,w,I);return this.draw(e)}linearPath(e,u){e=this.gen.linearPath(e,u);return this.draw(e)}polygon(e,u){e=this.gen.polygon(e,u);return this.draw(e)}arc(e,
u,w,I,U,ba,wa=!1,va){e=this.gen.arc(e,u,w,I,U,ba,wa,va);return this.draw(e)}curve(e,u){e=this.gen.curve(e,u);return this.draw(e)}path(e,u){e=this.gen.path(e,u);return this.draw(e)}}const Fh={canvas:(e,u)=>new oi(e,u),svg:(e,u)=>new zk(e,u),generator:e=>new zh(e),newSeed:()=>zh.newSeed()};var Ud=function(e){return null!=e&&"text"===e.type},Cg=function(e){return null!=e&&fj(e.type)},fj=function(e){return"arrow"===e||"line"===e||"draw"===e},lg=function(e){return null!=e&&"arrow"===e.type},Ak=function(e){return null!=
e&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||"text"===e.type)},zf=function(e,u,w,I,U){return[(e-w)*Math.cos(U)-(u-I)*Math.sin(U)+w,(e-w)*Math.sin(U)+(u-I)*Math.cos(U)+I]},gj=function(e,u,w){return zf(e[0],e[1],u[0],u[1],w)},Rf=function(e,u,w,I,U,ba,wa,va){var Ca=Math.cos(I);I=Math.sin(I);return e.e&&e.w?u+=U+wa:e.e?(u+=U*(1+Ca),w+=U*I,u+=wa*(1-Ca),w+=wa*-I):e.w&&(u+=U*(1-Ca),w+=U*-I,u+=wa*(1+Ca),w+=wa*I),e.n&&e.s?w+=ba+va:e.n?(u+=ba*I,w+=ba*(1-Ca),u+=va*-I,w+=va*(1+Ca)):e.s&&
(u+=ba*-I,w+=ba*(1+Ca),u+=va*I,w+=va*(1-Ca)),[u,w]},ci=function(e,u){if(void 0===u&&(u=1),3<=e.length){var w=[e[0],e[e.length-1]];e=w[0];w=w[1];return Math.hypot(w[0]-e[0],w[1]-e[1])<=Sa.qx/u}return!1},Ci=function(e,u,w){var I=e.length;if(3>I)return!1;var U=[Number.MAX_SAFE_INTEGER,w];u=[u,w];for(var ba=w=0;ba<I;ba++){var wa=e[ba],va=e[(ba+1)%I],Ca=wa,Qa=va,Ja=u,hb=U,nb=hj(Ca,Qa,Ja),ob=hj(Ca,Qa,hb),ac=hj(Ja,hb,Ca),Ub=hj(Ja,hb,Qa);if(nb!==ob&&ac!==Ub||0===nb&&Bk(Ca,Ja,Qa)||0===ob&&Bk(Ca,hb,Qa)||0===
ac&&Bk(Ja,Ca,hb)||0===Ub&&Bk(Ja,Qa,hb)){if(0===hj(wa,u,va))return Bk(wa,u,va);w++}}return 1==w%2},Bk=function(e,u,w){return u[0]<=Math.max(e[0],w[0])&&u[0]>=Math.min(e[0],w[0])&&u[1]<=Math.max(e[1],w[1])&&u[1]>=Math.min(e[1],w[1])},hj=function(e,u,w){e=(u[1]-e[1])*(w[0]-u[0])-(u[0]-e[0])*(w[1]-u[1]);return 0===e?0:0<e?1:2},pi=function(e,u,w){return w?[Math.round(e/w)*w,Math.round(u/w)*w]:[e,u]},Ei=function(e,u,w){var I=w.map(function(Ca){return Ca[e]}),U=Math.max.apply(Math,I);I=Math.min.apply(Math,
I);U-=I;var ba=0===U?1:u/U,wa=1/0;u=w.map(function(Ca){return Ca.map(function(Qa,Ja){if(Ja!==e)return Qa;Qa*=ba;return wa=Math.min(Qa,wa),Qa})});if(2===u.length)return u;var va=I-wa;return u.map(function(Ca){return Ca.map(function(Qa,Ja){return Ja===e?Qa+va:Qa})})},cg=function(e){return Cg(e)?uj(e):[e.x,e.y,e.x+e.width,e.y+e.height]},Fi=function(e){for(var u=0,w=e.sets;u<w.length;u++){var I=w[u];if("path"===I.type)return I.ops}return e.sets[0].ops},Dk=function(e,u){var w=[0,0];e=e.reduce(function(I,
U){var ba,wa=U.op;U=U.data;if("move"===wa)w=U;else if("bcurveTo"===wa){var va=[U[0],U[1]],Ca=[U[2],U[3]],Qa=[U[4],U[5]],Ja=w;w=Qa;wa=function(ob,ac){return Math.pow(1-ob,3)*Qa[ac]+3*ob*Math.pow(1-ob,2)*Ca[ac]+3*Math.pow(ob,2)*(1-ob)*va[ac]+Ja[ac]*Math.pow(ob,3)};for(U=0;1>=U;){var hb=wa(U,0),nb=wa(U,1);u&&(hb=(ba=u(hb,nb))[0],nb=ba[1]);I.minY=Math.min(I.minY,nb);I.minX=Math.min(I.minX,hb);I.maxX=Math.max(I.maxX,hb);I.maxY=Math.max(I.maxY,nb);U+=.1}}return I},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});
return[e.minX,e.minY,e.maxX,e.maxY]},uj=function(e){if(2>e.points.length||!ui.get(e)){var u=e.points.reduce(function(w,I){var U=I[0];I=I[1];return w.minY=Math.min(w.minY,I),w.minX=Math.min(w.minX,U),w.maxX=Math.max(w.maxX,U),w.maxY=Math.max(w.maxY,I),w},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[u.minX+e.x,u.minY+e.y,u.maxX+e.x,u.maxY+e.y]}u=ui.get(e);u=Fi(u[0]);u=Dk(u);return[u[0]+e.x,u[1]+e.y,u[2]+e.x,u[3]+e.y]},qi=function(e){var u=cg(e),w=u[0],I=u[1],U=u[2],ba=u[3];u=(w+U)/2;var wa=(I+ba)/
2;if(Cg(e))return function(hb,nb,ob){if(2>hb.points.length||!ui.get(hb)){var ac=hb.points.reduce(function(Ub,uc){var Zc,cd=uc[0];uc=uc[1];return cd=(Zc=zf(hb.x+cd,hb.y+uc,nb,ob,hb.angle))[0],uc=Zc[1],Ub.minY=Math.min(Ub.minY,uc),Ub.minX=Math.min(Ub.minX,cd),Ub.maxX=Math.max(Ub.maxX,cd),Ub.maxY=Math.max(Ub.maxY,uc),Ub},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[ac.minX,ac.minY,ac.maxX,ac.maxY]}ac=ui.get(hb);ac=Fi(ac[0]);return Dk(ac,function(Ub,uc){return zf(hb.x+Ub,hb.y+uc,nb,ob,hb.angle)})}(e,
u,wa);if("diamond"===e.type){I=zf(u,I,u,wa,e.angle);var va=I[0];I=I[1];ba=zf(u,ba,u,wa,e.angle);var Ca=ba[0];ba=ba[1];var Qa=zf(w,wa,u,wa,e.angle);w=Qa[0];Qa=Qa[1];wa=zf(U,wa,u,wa,e.angle);u=wa[0];wa=wa[1];return[Math.min(va,Ca,w,u),Math.min(I,ba,Qa,wa),Math.max(va,Ca,w,u),Math.max(I,ba,Qa,wa)]}if("ellipse"===e.type)return U=(U-w)/2,va=(ba-I)/2,I=Math.cos(e.angle),Ca=Math.sin(e.angle),e=Math.hypot(U*I,va*Ca),U=Math.hypot(va*I,U*Ca),[u-e,wa-U,u+e,wa+U];Ca=zf(w,I,u,wa,e.angle);va=Ca[0];Ca=Ca[1];Qa=
zf(w,ba,u,wa,e.angle);w=Qa[0];Qa=Qa[1];var Ja=zf(U,ba,u,wa,e.angle);ba=Ja[0];Ja=Ja[1];wa=zf(U,I,u,wa,e.angle);u=wa[0];wa=wa[1];return[Math.min(va,w,ba,u),Math.min(Ca,Qa,Ja,wa),Math.max(va,w,ba,u),Math.max(Ca,Qa,Ja,wa)]},zg=function(e){if(!e.length)return[0,0,0,0];var u=1/0,w=-1/0,I=1/0,U=-1/0;return e.forEach(function(ba){ba=qi(ba);var wa=ba[1],va=ba[2],Ca=ba[3];u=Math.min(u,ba[0]);I=Math.min(I,wa);w=Math.max(w,va);U=Math.max(U,Ca)}),[u,I,w,U]},Ng=function(e,u,w){if(!Cg(e))return[e.x,e.y,e.x+u,e.y+
w];u=Ei(0,u,Ei(1,w,e.points));w=Fh.generator();u="sharp"===e.strokeSharpness?w.linearPath(u,Qh(e)):w.curve(u,Qh(e));u=Fi(u);u=Dk(u);return[u[0]+e.x,u[1]+e.y,u[2]+e.x,u[3]+e.y]},re=function(e,u,w){var I=Fh.generator();u="sharp"===w?I.linearPath(u,Qh(e)):I.curve(u,Qh(e));u=Fi(u);u=Dk(u);return[u[0]+e.x,u[1]+e.y,u[2]+e.x,u[3]+e.y]};const ue=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var rh=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},Gg=function(e){return[ue.Q6[e],ue.iQ[e],ue.pl[e],ue.ht[e],ue.QN[e],ue.iN[e],ue.sl[e],ue.$C[e],ue.ek[e],ue.LR[e],ue.er[e],ue.$y[e]]};const Gk={canvasBackground:rh([ue.ix,ue.MA[0],ue.MA[1]],Gg(0)),elementBackground:rh(["transparent",ue.MA[4],ue.MA[6]],Gg(6)),elementStroke:rh([ue.Sn,ue.MA[8],ue.MA[7]],Gg(9))};var Sf=h(6207),Hg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Jj=/^Win/.test(window.navigator.platform),
Te=Hg?"metaKey":"ctrlKey",vg=function(e){return"ArrowLeft"===e||"ArrowRight"===e||"ArrowDown"===e||"ArrowUp"===e},ij=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ag=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)},Ui=function(e){var u=e.fontFamily;return"".concat(e.fontSize,"px ").concat("".concat(Sa.ut[u],", ").concat(Sa._D))},Vi=function(e,
u){var w=document.createElement("div"),I=document.body;w.style.position="absolute";w.style.whiteSpace="pre";w.style.font=u;I.appendChild(w);w.innerText=e.split("\n").map(function(U){return U||" "}).join("\n");e=w.offsetWidth;u=w.offsetHeight;I=document.createElement("span");I.style.display="inline-block";I.style.overflow="hidden";I.style.width="1px";I.style.height="1px";w.appendChild(I);I=I.offsetTop+I.offsetHeight;return document.body.removeChild(w),{width:e,height:u,baseline:I}},ri=function(e,u){var w,
I=0,U=function(){for(var ba=[],wa=0;wa<arguments.length;wa++)ba[wa]=arguments[wa];w=ba;clearTimeout(I);I=window.setTimeout(function(){return e.apply(void 0,ba)},u)};return U.flush=function(){clearTimeout(I);w&&e.apply(void 0,w)},U.cancel=function(){clearTimeout(I)},U},Gi=function(e){e&&(e.style.cursor="")},Hi=function(e,u){e&&(e.style.cursor=u)},si=function(e,u){e&&("selection"===u?Gi(e):e.style.cursor=Sa.oc.CROSSHAIR)},sh=function(){var e;return"HTML"===(null===(e=document.fullscreenElement)||void 0===
e?void 0:e.nodeName)},Nd=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Hg?e.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/i,"Ctrl")},rg=function(e,u){var w=u.zoom,I=1/w.value;return{x:(e.clientX-w.translation.x-u.offsetLeft)*I-u.scrollX,y:(e.clientY-w.translation.y-u.offsetTop)*I-u.scrollY}},hh=function(e,u){var w=u.zoom;return{x:(e.sceneX+u.scrollX+u.offsetLeft)*
w.value+w.translation.x,y:(e.sceneY+u.scrollY+u.offsetTop)*w.value+w.translation.y}},Tf=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},th=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Bg=function(e){return{x:e[0],y:e[1]}},Ik=function(e){if("AbortError"!==(null==e?void 0:e.name))throw e;},Uf=function(e){return function(u){(0,Sf.unstable_batchedUpdates)(e,u)}},yl=function(e,u){var w,I=[{value:1,symbol:"b"},{value:1E3,
symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(w=I.length-1;0<w&&!(e>=I[w].value);w--);return(e/I[w].value).toFixed(u).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+I[w].symbol},Df=function(){var e;return(null===(e=document.querySelector('meta[name\x3d"version"]'))||void 0===e?void 0:e.content)||Sa.eQ},Ah=function(){var e=new Map,u=Sa.rk,w=Sa.n5,I=ue.Sn,U=Sa.Hg,ba=window.innerHeight,wa="".concat(Rb("labels.untitled"),"-"),va=wa.concat;var Ca=new Date;var Qa=Ca.getFullYear();var Ja="".concat(Ca.getMonth()+
1).padStart(2,"0"),hb="".concat(Ca.getDate()).padStart(2,"0"),nb="".concat(Ca.getHours()).padStart(2,"0");Ca="".concat(Ca.getMinutes()).padStart(2,"0");Qa="".concat(Qa,"-").concat(Ja,"-").concat(hb,"-").concat(nb).concat(Ca);return{appearance:"light",collaborators:e,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:u,currentItemFontSize:w,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,
currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:I,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:U,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:ba,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,
isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:va.call(wa,Qa),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:ue.ix,width:window.innerWidth,zenModeEnabled:!1,
zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},ih={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,
export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,
export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,
export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,
export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},ti=function(e,u){for(var w={},I=0,U=
Object.keys(e);I<U.length;I++){var ba=U[I],wa=ih[ba];null!=wa&&wa[u]&&(w[ba]=e[ba])}return w},mg=Ah(),Ph=[12,8],$k=[3,6],di=function(e,u,w){switch(w.globalAlpha=e.opacity/100,e.type){case "rectangle":case "diamond":case "ellipse":u.draw(ui.get(e));break;case "arrow":case "draw":case "line":ui.get(e).forEach(function(hb){u.draw(hb)});break;default:if(!Ud(e))throw Error("Unimplemented type ".concat(e.type));var I=th.test(e.text),U=I&&!w.canvas.isConnected;U&&document.body.appendChild(w.canvas);w.canvas.setAttribute("dir",
I?"rtl":"ltr");I=w.font;w.font=Ui(e);var ba=w.fillStyle;w.fillStyle=e.strokeColor;var wa=w.textAlign;w.textAlign=e.textAlign;var va=e.text.replace(/\r\n?/g,"\n").split("\n"),Ca=e.height/va.length,Qa=e.height-e.baseline;e="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0;for(var Ja=0;Ja<va.length;Ja++)w.fillText(va[Ja],e,(Ja+1)*Ca-Qa);w.fillStyle=ba;w.font=I;w.textAlign=wa;U&&w.canvas.remove()}w.globalAlpha=1},Jk=new WeakMap,ui=new WeakMap,Qh=function(e){var u={seed:e.seed,strokeLineDash:"dashed"===
e.strokeStyle?Ph:"dotted"===e.strokeStyle?$k:void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor};switch(e.type){case "rectangle":case "diamond":case "ellipse":return u.fillStyle=e.fillStyle,u.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor,"ellipse"===e.type&&(u.curveFitting=1),u;case "line":case "draw":return ci(e.points)&&
(u.fillStyle=e.fillStyle,u.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),u;case "arrow":return u;default:throw Error("Unimplemented type ".concat(e.type));}},ak=function(e,u){var w=ui.get(e)||null;if(!w){switch(Jk.delete(e),e.type){case "rectangle":if("round"===e.strokeSharpness){w=e.width;var I=e.height,U=.25*Math.min(w,I);w=u.path("M ".concat(U," 0 L ").concat(w-U," 0 Q ").concat(w," 0, ").concat(w," ").concat(U," L ").concat(w," ").concat(I-U," Q ").concat(w," ").concat(I,", ").concat(w-
U," ").concat(I," L ").concat(U," ").concat(I," Q 0 ").concat(I,", 0 ").concat(I-U," L 0 ").concat(U," Q 0 0, ").concat(U," 0"),Qh(e))}else w=u.rectangle(0,0,e.width,e.height,Qh(e));break;case "diamond":w=function(wa){var va=Math.floor(wa.width/2)+1,Ca=Math.floor(wa.height/2)+1;return[va,0,wa.width,Ca,va,wa.height,0,Ca]}(e);w=u.polygon([[w[0],w[1]],[w[2],w[3]],[w[4],w[5]],[w[6],w[7]]],Qh(e));break;case "ellipse":w=u.ellipse(e.width/2,e.height/2,e.width,e.height,Qh(e));break;case "line":case "draw":case "arrow":var ba=
Qh(e);w=e.points.length?e.points:[[0,0]];if(w="sharp"===e.strokeSharpness?ba.fill?[u.polygon(w,ba)]:[u.linearPath(w,ba)]:[u.curve(w,ba)],"arrow"===e.type){I=e.startArrowhead;I=void 0===I?null:I;U=e.endArrowhead;U=void 0===U?"arrow":U;function wa(va,Ca,Qa,Ja){Ca=function(ac,Ub,uc,Zc){Ub=Fi(Ub[0]);if(1>Ub.length)return null;var cd="start"===uc?1:Ub.length-1,pd=Ub[cd].data,ce=[pd[4],pd[5]],be=[pd[2],pd[3]],Ce=[pd[0],pd[1]];Ub=Ub[cd-1];var ye=[0,0];"move"===Ub.op?ye=Ub.data:"bcurveTo"===Ub.op&&(ye=[Ub.data[4],
Ub.data[5]]);cd=function(ud,Qd){return Math.pow(1-ud,3)*ce[Qd]+3*ud*Math.pow(1-ud,2)*be[Qd]+3*Math.pow(ud,2)*(1-ud)*Ce[Qd]+ye[Qd]*Math.pow(ud,3)};Ub="start"===uc?ye:ce;uc=Ub[0];Ub=Ub[1];pd=[cd(.3,0),cd(.3,1)];cd=pd[0];pd=pd[1];var Ue=Math.hypot(uc-cd,Ub-pd);cd=(uc-cd)/Ue;pd=(Ub-pd)/Ue;Ue={arrow:30,bar:15,dot:15}[Zc];ac=ac.points.reduce(function(ud,Qd,ae,Me){ae=0<ae?Me[ae-1]:[0,0];return ud+Math.hypot(Qd[0]-ae[0],Qd[1]-ae[1])},0);Ue=Math.min(Ue,ac/2);ac=uc-cd*Ue;cd=Ub-pd*Ue;if("dot"===Zc)return[uc,
Ub,Math.hypot(cd-Ub,ac-uc)];pd={arrow:20,bar:90}[Zc];Ue=zf(ac,cd,uc,Ub,-pd*Math.PI/180);Zc=Ue[0];Ue=Ue[1];ac=zf(ac,cd,uc,Ub,pd*Math.PI/180);return[uc,Ub,Zc,Ue,ac[0],ac[1]]}(va,Ca,Qa,Ja);if(null===Ca)return[];if("dot"===Ja)return[u.circle(Ca[0],Ca[1],Ca[2],Db(Db({},ba),{},{fill:va.strokeColor,fillStyle:"solid"}))];Ja=Ca[0];Qa=Ca[1];var hb=Ca[2],nb=Ca[3],ob=Ca[4];Ca=Ca[5];return"dotted"===va.strokeStyle?ba.strokeLineDash=[3,4]:delete ba.strokeLineDash,[u.line(hb,nb,Ja,Qa,ba),u.line(ob,Ca,Ja,Qa,ba)]}
null!==I&&(I=wa(e,w,"start",I),w.push.apply(w,I));null!==U&&(I=wa(e,w,"end",U),w.push.apply(w,I))}break;case "text":w=[]}ui.set(e,w)}},mn=function(e,u,w,I,U){var ba=u.generator;switch(e.type){case "selection":w.translate(e.x+U.scrollX,e.y+U.scrollY);u=w.fillStyle;w.fillStyle="rgba(0, 0, 255, 0.10)";w.fillRect(0,0,e.width,e.height);w.fillStyle=u;w.translate(-e.x-U.scrollX,-e.y-U.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(ak(e,ba),
I){u=U?U.zoom:mg.zoom;ba=(I=Jk.get(e))&&I.canvasZoom!==u.value&&!(null!=U&&U.shouldCacheIgnoreZoom);if(!I||ba){I=document.createElement("canvas");ba=I.getContext("2d");var wa=0,va=0;if(Cg(e)){wa=cg(e);var Ca=wa[0];va=wa[1];var Qa=wa[3];I.width=Math.abs(Ca-wa[2])*window.devicePixelRatio*u.value+40*u.value;I.height=Math.abs(va-Qa)*window.devicePixelRatio*u.value+40*u.value;wa=e.x>Ca?Math.floor(Math.abs(e.x-Ca))*window.devicePixelRatio*u.value:0;va=e.y>va?Math.floor(Math.abs(e.y-va))*window.devicePixelRatio*
u.value:0;ba.translate(wa,va)}else I.width=e.width*window.devicePixelRatio*u.value+40*u.value,I.height=e.height*window.devicePixelRatio*u.value+40*u.value;ba.translate(20*u.value,20*u.value);ba.scale(window.devicePixelRatio*u.value,window.devicePixelRatio*u.value);Ca=Fh.canvas(I);u=(di(e,Ca,ba),ba.translate(-20*u.value,-20*u.value),ba.scale(1/(window.devicePixelRatio*u.value),1/(window.devicePixelRatio*u.value)),{element:e,canvas:I,canvasZoom:u.value,canvasOffsetX:wa,canvasOffsetY:va});e=(Jk.set(e,
u),u)}else e=I;u=e.element;wa=cg(u);I=wa[0];ba=wa[1];va=wa[2];wa=wa[3];Ca=((I+va)/2+U.scrollX)*window.devicePixelRatio;U=((ba+wa)/2+U.scrollY)*window.devicePixelRatio;w.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);w.translate(Ca,U);w.rotate(u.angle);w.drawImage(e.canvas,-(va-I)/2*window.devicePixelRatio-20*e.canvasZoom/e.canvasZoom,-(wa-ba)/2*window.devicePixelRatio-20*e.canvasZoom/e.canvasZoom,e.canvas.width/e.canvasZoom,e.canvas.height/e.canvasZoom);w.rotate(-u.angle);w.translate(-Ca,
-U);w.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else ba=cg(e),va=ba[0],I=ba[1],wa=ba[2],Ca=ba[3],ba=(va+wa)/2+U.scrollX,U=(I+Ca)/2+U.scrollY,va=(wa-va)/2-(e.x-va),I=(Ca-I)/2-(e.y-I),w.translate(ba,U),w.rotate(e.angle),w.translate(-va,-I),di(e,u,w),w.translate(va,I),w.rotate(-e.angle),w.translate(-ba,-U);break;default:throw Error("Unimplemented type ".concat(e.type));}},uh=function(){function e(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}
return e.mapElementToScene=function(u,w){"string"==typeof u?this.sceneMapById.set(u,w):this.sceneMapByElement.set(u,w)},e.getScene=function(u){return"string"==typeof u?this.sceneMapById.get(u)||null:this.sceneMapByElement.get(u)||null},e.prototype.getElementsIncludingDeleted=function(){return this.elements},e.prototype.getElements=function(){return this.nonDeletedElements},e.prototype.getElement=function(u){return this.elementsMap.get(u)||null},e.prototype.getNonDeletedElement=function(u){return(u=
this.getElement(u))&&!u.isDeleted?u:null},e.prototype.getNonDeletedElements=function(u){var w=this,I=[];return u.forEach(function(U){U=w.getNonDeletedElement(U);null!=U&&I.push(U)}),I},e.prototype.replaceAllElements=function(u){var w=this;this.elements=u;this.elementsMap.clear();u.forEach(function(I){w.elementsMap.set(I.id,I);e.mapElementToScene(I,w)});this.nonDeletedElements=Xd(this.elements);this.informMutation()},e.prototype.informMutation=function(){for(var u=0,w=Array.from(this.callbacks);u<
w.length;u++)(0,w[u])()},e.prototype.addCallback=function(u){var w=this;if(this.callbacks.has(u))throw Error();return this.callbacks.add(u),function(){if(!w.callbacks.has(u))throw Error();w.callbacks.delete(u)}},e.prototype.destroy=function(){var u=this;e.sceneMapById.forEach(function(w,I){w===u&&e.sceneMapById.delete(I)});this.callbacks.clear()},e}();uh.sceneMapByElement=new WeakMap;uh.sceneMapById=new Map;var Nm=new Se(Date.now()),bk=function(){return Math.floor(Nm.next()*Math.pow(2,31))},vi=function(){return((e=
21)=>{let u="",w=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let I=63&w[e];u+=36>I?I.toString(36):62>I?(I-26).toString(36).toUpperCase():63>I?"_":"-"}return u})()},$e=function(e,u){var w,I=!1,U=u.points,ba;for(ba in void 0!==U&&(u=fb(fb({},function(ob){var ac=ob.map(function(Ub){return Ub[0]});ob=ob.map(function(Ub){return Ub[1]});return{width:Math.max.apply(Math,ac)-Math.min.apply(Math,ac),height:Math.max.apply(Math,ob)-Math.min.apply(Math,ob)}}(U)),u)),u){var wa=u[ba];if(void 0!==wa&&(e[ba]!==
wa||"object"==typeof wa&&null!==wa&&"groupIds"!==ba)){if("points"===ba){var va=e[ba],Ca=wa;if(va.length===Ca.length){for(var Qa=!1,Ja=va.length;--Ja;){var hb=va[Ja],nb=Ca[Ja];if(hb[0]!==nb[0]||hb[1]!==nb[1]){Qa=!0;break}}if(!Qa)continue}}e[ba]=wa;I=!0}}I&&(void 0===u.height&&void 0===u.width&&void 0===U||ui.delete(e),e.version++,e.versionNonce=bk(),null===(w=uh.getScene(e))||void 0===w||w.informMutation())},wg=function(e,u){return fb(fb(fb({},e),u),{},{version:e.version+1,versionNonce:bk()})},Oh=
function(e){return Cg(e)?2>e.points.length:0===e.width&&0===e.height},Je=function(e,u,w){var I=Math.abs(u),U=Math.abs(w);"line"===e||"arrow"===e||"draw"===e?(e=Math.round(Math.atan(U/I)/Sa.ay)*Sa.ay,0===e?w=0:e===Math.PI/2?u=0:w=Math.round(I*Math.tan(e))*Math.sign(w)||w):"selection"!==e&&(w=I*Math.sign(w));return{width:u,height:w}},Ml=function(e){var u={width:e.width,height:e.height,x:e.x,y:e.y};if(0>e.width){var w=Math.abs(e.width);u.width=w;u.x=e.x-w}0>e.height&&(w=Math.abs(e.height),u.height=w,
u.y=e.y-w);return u},Hf=h(5474),Sh=h.n(Hf),Al=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},dk=function(e,u,w){var I,U;w=w.filter(function(ba){return ba.groupIds.includes(e)});return 2>w.length?u.selectedGroupIds[e]||u.editingGroupId===e?Oa(Oa({},u),{},{selectedGroupIds:Oa(Oa({},u.selectedGroupIds),{},(I={},I[e]=!1,I)),editingGroupId:null}):u:Oa(Oa({},u),{},{selectedGroupIds:Oa(Oa({},u.selectedGroupIds),{},(U={},U[e]=!0,U)),selectedElementIds:Oa(Oa({},u.selectedElementIds),
Object.fromEntries(w.map(function(ba){return[ba.id,!0]})))})},vh=function(e,u){return u.groupIds.filter(function(w){return w!==e.editingGroupId}).find(function(w){return e.selectedGroupIds[w]})},Ji=function(e){return Object.entries(e.selectedGroupIds).filter(function(u){u[0];return u[1]}).map(function(u){var w=u[0];u[1];return w})},Th=function(e,u){for(var w=Oa({},e),I=0,U=mf(u,e);I<U.length;I++){var ba=U[I].groupIds;if(e.editingGroupId){var wa=ba.indexOf(e.editingGroupId);-1<wa&&(ba=ba.slice(0,wa))}0<
ba.length&&(w=dk(ba[ba.length-1],w,u))}return w},ek=function(e,u){return e.filter(function(w){return w.groupIds.includes(u)})},xj=function(e,u){var w,I,U=u.x,ba=u.y,wa=u.strokeColor,va=u.backgroundColor,Ca=u.fillStyle,Qa=u.strokeWidth,Ja=u.strokeStyle,hb=u.roughness,nb=u.opacity,ob=u.width;ob=void 0===ob?0:ob;var ac=u.height;ac=void 0===ac?0:ac;var Ub=u.angle;Ub=void 0===Ub?0:Ub;var uc=u.groupIds;uc=void 0===uc?[]:uc;var Zc=u.strokeSharpness,cd=u.boundElementIds;cd=void 0===cd?null:cd;u=Sh()(u,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:u.id||vi(),type:e,x:U,y:ba,width:ob,height:ac,angle:Ub,strokeColor:wa,backgroundColor:va,fillStyle:Ca,strokeWidth:Qa,strokeStyle:Ja,roughness:hb,opacity:nb,groupIds:uc,strokeSharpness:Zc,seed:null!==(w=u.seed)&&void 0!==w?w:bk(),version:u.version||1,versionNonce:null!==(I=u.versionNonce)&&void 0!==I?I:0,isDeleted:!1,boundElementIds:cd}},Ol=function(e){return xj(e.type,e)},Uh=function(e,u){return{x:"center"===e.textAlign?u.width/2:"right"===e.textAlign?u.width:0,y:"middle"===e.verticalAlign?
u.height/2:0}},Kj=function(e){var u=Vi(e.text,Ui(e)),w=Uh(e,u);return wg(Ga(Ga({},xj("text",e)),{},{text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,textAlign:e.textAlign,verticalAlign:e.verticalAlign,x:e.x-w.x,y:e.y-w.y,width:u.width,height:u.height,baseline:u.baseline}),{})},Ke=function(e){return Ga(Ga({},xj(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead})},Lj=function(e,u){if(void 0===
u&&(u=0),null==e||"object"!=typeof e)return e;if("[object Object]"===Object.prototype.toString.call(e)){var w="function"==typeof e.constructor?Object.create(Object.getPrototypeOf(e)):{},I;for(I in e)e.hasOwnProperty(I)&&(0!==u||"shape"!==I&&"canvas"!==I)&&(w[I]=Lj(e[I],u+1));return w}if(Array.isArray(e)){w=e.length;for(I=Array(w);w--;)I[w]=Lj(e[w],u+1);return I}return e},Xi=function(e,u,w,I){w=Lj(w);return w.id=vi(),w.seed=bk(),w.groupIds=function(U,ba,wa){var va=Al([],U);ba=ba?U.indexOf(ba):-1;U=
-1<ba?ba:U.length;for(ba=0;ba<U;ba++)va[ba]=wa(va[ba]);return va}(w.groupIds,e,function(U){return u.has(U)||u.set(U,vi()),u.get(U)}),I&&(w=Object.assign(w,I)),w},Fe={mouse:8,pen:16,touch:28},Bl={e:!0,s:!0,n:!0,w:!0},Ql={e:!0,s:!0,n:!0,w:!0},Vh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},yj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},bh=function(e,u,w,I,U,ba,wa){e=zf(e+w/2,u+I/2,U,ba,wa);return[e[0]-w/2,e[1]-I/2,w,I]},Hk=function(e,u,w,I,U){var ba=e[0],wa=e[1],va=e[2];e=e[3];void 0===U&&(U={});var Ca=Fe[I];I=Ca/w.value;
var Qa=Ca/w.value,Ja=Ca/w.value,hb=Ca/w.value,nb=va-ba,ob=e-wa,ac=(ba+va)/2,Ub=(wa+e)/2,uc=4/w.value;Ca=(Ca-8)/(2*w.value);var Zc={nw:U.nw?void 0:bh(ba-uc-Ja+Ca,wa-uc-hb+Ca,I,Qa,ac,Ub,u),ne:U.ne?void 0:bh(va+uc-Ca,wa-uc-hb+Ca,I,Qa,ac,Ub,u),sw:U.sw?void 0:bh(ba-uc-Ja+Ca,e+uc-Ca,I,Qa,ac,Ub,u),se:U.se?void 0:bh(va+uc-Ca,e+uc-Ca,I,Qa,ac,Ub,u),rotation:U.rotation?void 0:bh(ba+nb/2-I/2,wa-uc-hb+Ca-16/w.value,I,Qa,ac,Ub,u)};w=5*Fe.mouse/w.value;return Math.abs(nb)>w&&(U.n||(Zc.n=bh(ba+nb/2-I/2,wa-uc-hb+
Ca,I,Qa,ac,Ub,u)),U.s||(Zc.s=bh(ba+nb/2-I/2,e+uc-Ca,I,Qa,ac,Ub,u))),Math.abs(ob)>w&&(U.w||(Zc.w=bh(ba-uc-Ja+Ca,wa+ob/2-Qa/2,I,Qa,ac,Ub,u)),U.e||(Zc.e=bh(va+uc-Ca,wa+ob/2-Qa/2,I,Qa,ac,Ub,u))),Zc},vj=function(e,u,w){void 0===w&&(w="mouse");var I={};if("arrow"===e.type||"line"===e.type||"draw"===e.type){if(2===e.points.length){var U=e.points[1];0===U[0]||0===U[1]?I=yj:0<U[0]&&0>U[1]?I=Vh:0<U[0]&&0<U[1]?I=yj:0>U[0]&&0<U[1]?I=Vh:0>U[0]&&0>U[1]&&(I=yj)}}else"text"===e.type&&(I=Ql);return Hk(cg(e),e.angle,
u,w,I)},xi=function(e,u){return[0,0,0,0,u,e,1,0]},Vg=function(e,u){void 0===e&&(e=0);void 0===u&&(u=0);var w=[0,0,0,0,0,0,0,0];if(0>u||7<u)throw Error("Expected `index` betwen 0 and 7, got `".concat(u,"`"));return 0!==e&&(w[u]=e),w},Gh=function(e){return[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]]},zl=function(e,u){return"number"==typeof u?[e[0]-u,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-u[0],e[1]-u[1],e[2]-u[2],e[3]-u[3],e[4]-u[4],e[5]-u[5],e[6]-u[6],e[7]-u[7]]},Lk=function(e,u){return"number"==
typeof u?[e[0]*u,e[1]*u,e[2]*u,e[3]*u,e[4]*u,e[5]*u,e[6]*u,e[7]*u]:[u[0]*e[0]+u[2]*e[2]+u[3]*e[3]-u[6]*e[6],u[1]*e[0]+u[0]*e[1]-u[4]*e[2]+u[5]*e[3]+u[2]*e[4]-u[3]*e[5]-u[7]*e[6]-u[6]*e[7],u[2]*e[0]+u[0]*e[2]-u[6]*e[3]+u[3]*e[6],u[3]*e[0]+u[6]*e[2]+u[0]*e[3]-u[2]*e[6],u[4]*e[0]+u[2]*e[1]-u[1]*e[2]+u[7]*e[3]+u[0]*e[4]+u[6]*e[5]-u[5]*e[6]+u[3]*e[7],u[5]*e[0]-u[3]*e[1]+u[7]*e[2]+u[1]*e[3]-u[6]*e[4]+u[0]*e[5]+u[4]*e[6]+u[2]*e[7],u[6]*e[0]+u[3]*e[2]-u[2]*e[3]+u[0]*e[6],u[7]*e[0]+u[6]*e[1]+u[5]*e[2]+u[4]*
e[3]+u[3]*e[4]+u[2]*e[5]+u[1]*e[6]+u[0]*e[7]]},ik=function(e,u){return[Mj(e,u),e[1]*u[7]+e[4]*u[5]-e[5]*u[4]+e[7]*u[1],e[2]*u[7]-e[4]*u[6]+e[6]*u[4]+e[7]*u[2],e[3]*u[7]+e[5]*u[6]-e[6]*u[5]+e[7]*u[3],e[4]*u[7]+e[7]*u[4],e[5]*u[7]+e[7]*u[5],e[6]*u[7]+e[7]*u[6],e[7]*u[7]]},Mj=function(e,u){return e[0]*u[7]+e[1]*u[6]+e[2]*u[5]+e[3]*u[4]+e[4]*u[3]+e[5]*u[2]+e[6]*u[1]+e[7]*u[0]},Qm=function(e){return Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6]))},jj=function(e){var u=Qm(e);return 0===u||
1===u?e:Lk(e,(0>e[6]?-1:1)/u)},Nl=(Vg(1,1),Vg(1,2),Vg(1,3),Vg(1,4),Vg(1,5),Vg(1,6),Vg(1,7),function(e,u,w){return jj([0,w,e,u,0,0,0,0])}),fk=function(e,u){return w=e,[(I=u)[0]*w[0]+I[2]*w[2]+I[3]*w[3]-I[6]*w[6],I[1]*w[0]+I[0]*w[1]-I[4]*w[2]+I[5]*w[3]+I[2]*w[4]-I[3]*w[5]-I[7]*w[6]-I[6]*w[7],I[2]*w[0]+I[0]*w[2]-I[6]*w[3]+I[3]*w[6],I[3]*w[0]+I[6]*w[2]+I[0]*w[3]-I[2]*w[6],I[4]*w[0]+I[7]*w[3]+I[0]*w[4]+I[3]*w[7],I[5]*w[0]+I[7]*w[2]+I[0]*w[5]+I[2]*w[7],I[6]*w[0]+I[0]*w[6],I[7]*w[0]+I[0]*w[7]];var w,I},
gk=function(e){return[0,0,0,0,e[1],e[0],1,0]},fi=function(e){return[e[5],e[4]]},mj=function(e,u){return w=Lk(e,Math.sin(u/2)),I=Math.cos(u/2),"number"==typeof I?[w[0]+I,w[1],w[2],w[3],w[4],w[5],w[6],w[7]]:[w[0]+I[0],w[1]+I[1],w[2]+I[2],w[3]+I[3],w[4]+I[4],w[5]+I[5],w[6]+I[6],w[7]+I[7]];var w,I},Li=function(e,u){return jj(Lk(Lk(e,u),Gh(e)))},Nk=function(e,u,w,I){var U=10/u.zoom.value;return!hk(e,u,[w,I])&&Rl(e,[w,I],U)},hk=function(e,u,w){u=10/u.zoom.value;if("text"===e.type)var I=dm;else"arrow"===
e.type?I=!1:(I="transparent"!==e.backgroundColor,I="line"===e.type||"draw"===e.type?I&&ci(e.points):I),I=I?kk:Kk;return lj({element:e,point:w,threshold:u,check:I})},Rl=function(e,u,w){var I=u[0],U=u[1],ba=cg(e);u=ba[0];var wa=ba[1],va=ba[2];ba=ba[3];I=zf(I,U,(u+va)/2,(wa+ba)/2,-e.angle);e=I[0];I=I[1];return e>u-w&&e<va+w&&I>wa-w&&I<ba+w},Ok=function(e,u){var w=u.x;u=u.y;var I=Yi(e,e.width,e.height);return lj({element:e,point:[w,u],threshold:I,check:Gn})},Yi=function(e,u,w){return Math.max(16,Math.min(.25*
("diamond"===e.type?1/Math.sqrt(2):1)*Math.min(u,w),32))},lj=function(e){switch(e.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var u=cm(e.element,e.point);return e.check(u,e.threshold);case "arrow":case "line":case "draw":return eo(e);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},cm=function(e,u){switch(e.type){case "rectangle":case "text":var w=Ti(e,u),I=w[1],U=w[2];e=Math;u=e.max;w=Nl(0,1,-w[3]);w=Mj(I,w);U=Nl(1,
0,-U);I=Mj(I,U);return u.call(e,w,I);case "diamond":return I=Ti(e,u),e=I[1],u=I[2],I=I[3],u=Nl(I,u,-I*u),Mj(e,u);case "ellipse":return e=on(e,u),u=e[1],-Math.sign(u[1])*Mj(e[0],u)}},dm=function(e,u){return 0>e},kk=function(e,u){return e<u},Kk=function(e,u){return Math.abs(e)<u},Gn=function(e,u){return 0<=e&&e<u},on=function(e,u){u=Ti(e,u);e=u[1];var w=u[2],I=u[3];u=fi(e);var U=u[0],ba=u[1],wa=.707,va=.707;[0,1,2,3].forEach(function(Ca){Ca=(w*w-I*I)*Math.pow(wa,3)/w;var Qa=(I*I-w*w)*Math.pow(va,3)/
I,Ja=U-Ca,hb=ba-Qa,nb=Math.hypot(I*va-Qa,w*wa-Ca),ob=Math.hypot(hb,Ja);wa=Math.min(1,Math.max(0,(Ja*nb/ob+Ca)/w));va=Math.min(1,Math.max(0,(hb*nb/ob+Qa)/I));Ca=Math.hypot(va,wa);wa/=Ca;va/=Ca});u=xi(w*wa,I*va);return[e,fk(jj(ik(u,e)),u)]},eo=function(e){var u=e.element,w=e.threshold;if(!ui.get(u))return!1;var I=Ti(e.element,e.point),U=I[0],ba=I[1],wa=I[2];I=Nl(0,1,-I[3]);wa=Nl(1,0,-wa);if(!kk(Mj(ba,I),w)||!kk(Mj(ba,wa),w))return!1;U=fi(U);var va=U[0],Ca=U[1];U=ui.get(u);return e.check===kk&&U.some(function(Qa){var Ja=
u.strokeSharpness;var hb=[],nb=!1,ob=0;for(Qa=Fi(Qa);ob<Qa.length;ob++){var ac=Qa[ob];"move"===ac.op?(nb=!nb)&&hb.push([ac.data[0],ac.data[1]]):"bcurveTo"===ac.op&&nb&&(hb.push([ac.data[0],ac.data[1]]),hb.push([ac.data[2],ac.data[3]]),hb.push([ac.data[4],ac.data[5]]))}4<=hb.length?"sharp"===Ja?Ja=Ci(hb,va,Ca):(Ja=G(hb,10,5),Ja=Ci(Ja,va,Ca)):Ja=!1;return Ja})?!0:U.some(function(Qa){return Zk(Qa,va,Ca,w)})},Ti=function(e,u){var w,I=gk(u);u=cg(e);var U=Sl(u),ba=mj(U,e.angle);I=Li(ba,I);U=zl(I,[0,0,0,
0,U[4],U[5],0,0]);U=[0,0,0,0,Math.abs(U[4]),Math.abs(U[5]),1,0];e=(w=e.x,[0,0,0,0,e.y,w,0,0]);return[zl(I,e),U,(u[2]-u[0])/2,(u[3]-u[1])/2]},Ll=function(e){var u=cg(e);u=Sl(u);e=mj(u,e.angle);u=[0,0,0,0,u[4],u[5],0,0];u=Gh([1,0,0,0,-.5*u[5],.5*u[4],0,0]);return Lk(u,e)},Sl=function(e){return xi((e[0]+e[2])/2,(e[1]+e[3])/2)},Ck=function(e,u,w,I){switch(void 0===I&&(I=0),e.type){case "rectangle":case "text":case "diamond":var U=yg(e);var ba=U.flatMap(function(wa,va){va=[wa,U[(va+1)%4]];var Ca=I;wa=
va[0];va=va[1];var Qa=[0,0,0,0,va[4]-wa[4],va[5]-wa[5],0,0];var Ja=Math.sqrt(Math.abs(Qa[7]*Qa[7]-Qa[5]*Qa[5]-Qa[4]*Qa[4]+Qa[1]*Qa[1]));Qa=0===Ja||1===Ja?Qa:Lk(Qa,1/Ja);Ca*=.5;Ca=[1,0,0,0,Ca*Qa[4],Ca*Qa[5],0,0];va=[Li(Ca,wa),Li(Ca,va)];wa=va[0];va=va[1];if(0<=Mj(wa,u)*Mj(va,u))var hb=[];else{a:{wa=jj(ik(va,wa));wa=jj((hb=u,[(nb=wa)[0]*hb[0],nb[1]*hb[0]+nb[0]*hb[1],nb[2]*hb[0]+nb[0]*hb[2],nb[3]*hb[0]+nb[0]*hb[3],nb[4]*hb[0]+nb[2]*hb[1]-nb[1]*hb[2]+nb[0]*hb[4],nb[5]*hb[0]-nb[3]*hb[1]+nb[1]*hb[3]+nb[0]*
hb[5],nb[6]*hb[0]+nb[3]*hb[2]-nb[2]*hb[3]+nb[0]*hb[6],nb[7]*hb[0]+nb[6]*hb[1]+nb[5]*hb[2]+nb[4]*hb[3]+nb[3]*hb[4]+nb[2]*hb[5]+nb[1]*hb[6]]));break a;var nb}hb=[wa]}return hb}).concat(U.flatMap(function(wa){var va=I;if(0===va)var Ca=0===Mj(u,wa)?[wa]:[];else{Ca=u[2];var Qa=u[3],Ja=u[1],hb=fi(wa);wa=hb[0];var nb=hb[1];hb=Ca*Ca+Qa*Qa;va=va*va*hb-Math.pow(Ca*wa+Qa*nb+Ja,2);if(0===hb||0>=va)Ca=[];else{va=Math.sqrt(va);var ob=wa*Qa*Qa-nb*Ca*Qa-Ca*Ja;Ja=nb*Ca*Ca-wa*Ca*Qa-Qa*Ja;Ca=[xi((ob+Qa*va)/hb,(Ja-Ca*
va)/hb),xi((ob-Qa*va)/hb,(Ja+Ca*va)/hb)]}}return Ca}));break;case "ellipse":ba=Di(e,I,u)}if(2>ba.length)return[];e=ba.sort(function(wa,va){return Qm(ik(wa,w))-Qm(ik(va,w))});return[e[0],e[e.length-1]]},yg=function(e,u){void 0===u&&(u=1);var w=u*e.width/2;u=u*e.height/2;switch(e.type){case "rectangle":case "text":return[xi(w,u),xi(w,-u),xi(-w,-u),xi(-w,u)];case "diamond":return[xi(0,u),xi(w,0),xi(0,-u),xi(-w,0)]}},Di=function(e,u,w){var I=e.width/2+u;e=e.height/2+u;u=w[2];var U=w[3],ba=w[1];w=I*I*
u*u+e*e*U*U;var wa=w-ba*ba;if(0===w||0>=wa)return[];wa=Math.sqrt(wa);var va=-I*I*u*ba;ba*=-e*e*U;return[xi((va+I*e*U*wa)/w,(ba-I*e*u*wa)/w),xi((va-I*e*U*wa)/w,(ba+I*e*u*wa)/w)]},jh=function(e,u,w){var I=Math.sign(u),U=0,ba=null;return yg(e,Math.abs(u)).forEach(function(wa){var va=I*jj(ik(wa,w))[1];va>U&&(U=va,ba=wa)}),ba},Zk=function(e,u,w,I){var U=[0,0];return Fi(e).some(function(ba,wa){wa=ba.op;var va=ba.data;if("move"===wa)U=va;else if("bcurveTo"===wa){ba=[va[0],va[1]];wa=[va[2],va[3]];va=[va[4],
va[5]];var Ca=U;return U=va,function(Qa,Ja,hb,nb,ob,ac){var Ub=ob[0];ob=ob[1];for(var uc=function(ce,be){return Math.pow(1-ce,3)*nb[be]+3*ce*Math.pow(1-ce,2)*hb[be]+3*Math.pow(ce,2)*(1-ce)*Ja[be]+Qa[be]*Math.pow(ce,3)},Zc=0;1>=Zc;){var cd=uc(Zc,0),pd=uc(Zc,1);if(Math.sqrt(Math.pow(cd-Ub,2)+Math.pow(pd-ob,2))<ac)return!0;Zc+=.01}return!1}(Ca,ba,wa,va,[u,w],I)}return!1})},ah=function(e,u,w){return u>=e[0]&&u<=e[0]+e[2]&&w>=e[1]&&w<=e[1]+e[3]},Mi=function(e,u,w,I,U,ba){return e.reduce(function(wa,va){return wa?
wa:(wa=function(Ca,Qa,Ja,hb,nb,ob){if(!Qa.selectedElementIds[Ca.id])return!1;Ca=vj(Ca,nb,ob);Qa=Ca.rotation;var ac=Sh()(Ca,["rotation"]);if(Qa&&ah(Qa,Ja,hb))return"rotation";Ca=Object.keys(ac).filter(function(Ub){Ub=ac[Ub];return!!Ub&&ah(Ub,Ja,hb)});return 0<Ca.length&&Ca[0]}(va,u,w,I,U,ba))?{element:va,transformHandleType:wa}:null},null)},ef=function(e,u,w,I,U){var ba=Hk([e[0],e[1],e[2],e[3]],0,I,U,Bl);return Object.keys(ba).find(function(wa){return(wa=ba[wa])&&ah(wa,u,w)})||!1},wh=["ns","nesw",
"ew","nwse"],we=function(e){var u=e.element,w=u&&-1==Math.sign(u.height)*Math.sign(u.width),I=null;switch(e.transformHandleType){case "n":case "s":I="ns";break;case "w":case "e":I="ew";break;case "nw":case "se":I=w?"nesw":"nwse";break;case "ne":case "sw":I=w?"nwse":"nesw";break;case "rotation":return"grab"}I&&u&&(e=I,u=u.angle,w=wh.indexOf(e),0<=w&&(e=wh[(w+Math.round(u/(Math.PI/4)))%wh.length]),I=e);return I?"".concat(I,"-resize"):""},fl=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=
u[w];return e},Wf=function(){function e(u,w){this.elementId=u.id;uh.mapElementToScene(this.elementId,w);e.normalizePoints(u);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return e.getElement=function(u){var w;return(null===(w=uh.getScene(u))||void 0===w?void 0:w.getNonDeletedElement(u))||null},e.handlePointDragging=function(u,w,I,U,ba){if(!u.editingLinearElement)return!1;var wa=u.editingLinearElement,
va=wa.activePointIndex,Ca=wa.isDragging,Qa=e.getElement(wa.elementId);return Qa?null!=va&&-1<va?(!1===Ca&&w({editingLinearElement:cb(cb({},wa),{},{isDragging:!0})}),u=e.createPointAt(Qa,I-wa.pointerOffset.x,U-wa.pointerOffset.y,u.gridSize),e.movePoint(Qa,va,u),lg(Qa)&&ba(Qa,0===va?"start":"end"),!0):!1:!1},e.handlePointerUp=function(u,w,I){u=w.activePointIndex;var U=w.isDragging,ba=e.getElement(w.elementId);if(!ba)return w;var wa={};!U||0!==u&&u!==ba.points.length-1||(ci(ba.points,I.zoom.value)&&
e.movePoint(ba,u,0===u?ba.points[ba.points.length-1]:ba.points[0]),U=I.isBindingEnabled?Zh(Bg(e.getPointAtIndexGlobalCoordinates(ba,u)),uh.getScene(ba)):null,(I={})[0===u?"startBindingElement":"endBindingElement"]=U,wa=I);return cb(cb(cb({},w),wa),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},e.handlePointerDown=function(u,w,I,U,ba){var wa={didAddPoint:!1,hitElement:null};if(!w.editingLinearElement)return wa;var va=e.getElement(w.editingLinearElement.elementId);if(!va)return wa;if(u.altKey)return null==
w.editingLinearElement.lastUncommittedPoint&&$e(va,{points:fl(fl([],va.points),[e.createPointAt(va,ba.x,ba.y,w.gridSize)])}),U.resumeRecording(),I({editingLinearElement:cb(cb({},w.editingLinearElement),{},{activePointIndex:va.points.length-1,lastUncommittedPoint:null,endBindingElement:Zh(ba,uh.getScene(va))})}),wa.didAddPoint=!0,wa;u=e.getPointIndexUnderCursor(va,w.zoom,ba.x,ba.y);if(-1<u)wa.hitElement=va;else{var Ca=w.editingLinearElement;U=Ca.startBindingElement;Ca=Ca.endBindingElement;w.isBindingEnabled&&
lg(va)&&If(va,U,Ca)}Ca=cg(va);U=(Ca[0]+Ca[2])/2;Ca=(Ca[1]+Ca[3])/2;va=-1<u&&zf(va.x+va.points[u][0],va.y+va.points[u][1],U,Ca,va.angle);return I({editingLinearElement:cb(cb({},w.editingLinearElement),{},{activePointIndex:-1<u?u:null,pointerOffset:va?{x:ba.x-va[0],y:ba.y-va[1]}:{x:0,y:0}})}),wa},e.handlePointerMove=function(u,w,I,U,ba){var wa=U.lastUncommittedPoint,va=e.getElement(U.elementId);if(!va)return U;var Ca=va.points,Qa=Ca[Ca.length-1];if(!u.altKey)return Qa===wa&&e.movePoint(va,Ca.length-
1,"delete"),cb(cb({},U),{},{lastUncommittedPoint:null});u=e.createPointAt(va,w-U.pointerOffset.x,I-U.pointerOffset.y,ba);return Qa===wa?e.movePoint(va,va.points.length-1,u):e.movePoint(va,"new",u),cb(cb({},U),{},{lastUncommittedPoint:va.points[va.points.length-1]})},e.getPointsGlobalCoordinates=function(u){var w=cg(u),I=(w[0]+w[2])/2,U=(w[1]+w[3])/2;return u.points.map(function(ba){var wa;return[(wa=zf(u.x+ba[0],u.y+ba[1],I,U,u.angle))[0],wa[1]]})},e.getPointAtIndexGlobalCoordinates=function(u,w){var I=
0>w?u.points.length+w:w;w=cg(u);I=u.points[I];return zf(u.x+I[0],u.y+I[1],(w[0]+w[2])/2,(w[1]+w[3])/2,u.angle)},e.pointFromAbsoluteCoords=function(u,w){var I=cg(u);w=zf(w[0],w[1],(I[0]+I[2])/2,(I[1]+I[3])/2,-u.angle);return[w[0]-u.x,w[1]-u.y]},e.getPointIndexUnderCursor=function(u,w,I,U){u=this.getPointsGlobalCoordinates(u);for(var ba=u.length;-1<--ba;){var wa=u[ba];if(Math.hypot(wa[0]-I,wa[1]-U)*w.value<this.POINT_HANDLE_SIZE/2+1)return ba}return-1},e.createPointAt=function(u,w,I,U){w=pi(w,I,U);
I=cg(u);w=zf(w[0],w[1],(I[0]+I[2])/2,(I[1]+I[3])/2,-u.angle);return[w[0]-u.x,w[1]-u.y]},e.normalizePoints=function(u){var w=u.points,I=w[0][0],U=w[0][1];$e(u,{points:w.map(function(ba,wa){return[ba[0]-I,ba[1]-U]}),x:u.x+I,y:u.y+U})},e.movePointByOffset=function(u,w,I){var U=u.points[w];e.movePoint(u,w,[U[0]+I.x,U[1]+I.y])},e.movePoint=function(u,w,I,U){var ba=u.points,wa=0,va=0;if("delete"===I){if("new"===w)throw Error("invalid args in movePoint");(I=ba.slice()).splice(w,1);0===w&&(wa=I[0][0],va=
I[0][1],I=I.map(function(hb,nb){return 0===nb?[0,0]:[hb[0]-wa,hb[1]-va]}))}else if("new"===w)I=fl(fl([],ba),[I]);else{var Ca=I[0]-ba[w][0],Qa=I[1]-ba[w][1];I=ba.map(function(hb,nb){return nb===w?0===nb?(wa=Ca,va=Qa,hb):(wa=0,va=0,[hb[0]+Ca,hb[1]+Qa]):wa||va?[hb[0]-wa,hb[1]-va]:hb})}var Ja=re(u,I,u.strokeSharpness||"round");ba=re(u,ba,u.strokeSharpness||"round");ba=zf(wa,va,(ba[0]+ba[2])/2-(Ja[0]+Ja[2])/2,(ba[1]+ba[3])/2-(Ja[1]+Ja[3])/2,u.angle);$e(u,cb(cb({},U),{},{points:I,x:u.x+ba[0],y:u.y+ba[1]}))},
e}();Wf.POINT_HANDLE_SIZE=20;var Sm=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},If=function(e,u,w){var I=new Set,U=new Set;Dg(e,u,w,"start",I,U);Dg(e,w,u,"end",I,U);u=Array.from(U).filter(function(ba){return!I.has(ba)});uh.getScene(e).getNonDeletedElements(u).forEach(function(ba){var wa;$e(ba,{boundElementIds:null===(wa=ba.boundElementIds)||void 0===wa?void 0:wa.filter(function(va){return va!==e.id})})})},Dg=function(e,u,w,I,U,ba){if("keep"!==u)if(null!=u)null!=
w&&("keep"===w?xf(e,u,I):"start"!==I&&w.id===u.id)||(Cj(e,u,I),U.add(u.id));else{var wa;u="start"===I?"startBinding":"endBinding";w=e[u];e=null==w?null:($e(e,((wa={})[u]=null,wa)),w.elementId);null!=e&&ba.add(e)}},sg=function(e){e.forEach(function(u){lg(u)?If(u,Jg(u,"start"),Jg(u,"end")):Ak(u)&&em(u)})},em=function(e){oh(e).forEach(function(u){var w=u[1];return If(u[0],"end"===w?"keep":e,"start"===w?"keep":e)})},lk=function(e,u,w,I){null!=u.startBoundElement&&Cj(e,u.startBoundElement,"start");u=Zh(I,
w);null==u||xf(e,u,"end")||Cj(e,u,"end")},Cj=function(e,u,w){var I,U;$e(e,((I={})["start"===w?"startBinding":"endBinding"]=function(ba){for(var wa=1;wa<arguments.length;wa++){var va=null!=arguments[wa]?arguments[wa]:{};wa%2?Ob(Object(va),!0).forEach(function(Ca){xe()(ba,Ca,va[Ca])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ba,Object.getOwnPropertyDescriptors(va)):Ob(Object(va)).forEach(function(Ca){Object.defineProperty(ba,Ca,Object.getOwnPropertyDescriptor(va,Ca))})}return ba}({elementId:u.id},
Qe(e,u,w)),I));$e(u,{boundElementIds:Array.from(new Set(Sm(Sm([],null!==(U=u.boundElementIds)&&void 0!==U?U:[]),[e.id])))})},xf=function(e,u,w){w=e["start"===w?"endBinding":"startBinding"];return(null==w?void 0:w.elementId)===u.id&&3>e.points.length},eh=function(e){e.forEach(function(u){lg(u)&&If(u,null,null)})},Zh=function(e,u){return li(u.getElements(),function(w){return Ak(w)&&Ok(w,e)})},Qe=function(e,u,w){var I="start"===w?-1:1;w=-1===I?0:e.points.length-1;I=w-I;w=Wf.getPointAtIndexGlobalCoordinates(e,
w);I=Wf.getPointAtIndexGlobalCoordinates(e,I);a:{e=Ll(u);I=Li(e,gk(I));e=Li(e,gk(w));var U=jj(ik(e,I));e=u.height/u.width;I=u.width/2;var ba=u.height/2,wa=U[2],va=U[3];U=U[1];var Ca=Math.abs(va),Qa=Math.abs(wa);switch(u.type){case "rectangle":case "text":e=U/(I*(Qa+e*Ca));break a;case "diamond":e=Ca<Qa?U/(Qa*I):U/(Ca*ba);break a;case "ellipse":e=U/(I*Math.sqrt(Math.pow(wa,2)+Math.pow(e,2)*Math.pow(va,2)));break a}e=void 0}return{focus:e,gap:Math.max(1,cm(u,w))}},yi=function(e,u){var w,I=null!==(w=
e.boundElementIds)&&void 0!==w?w:[];if(0!==I.length){u=null!=u?u:{};var U=u.newSize,ba=qj(u.simultaneouslyUpdated);uh.getScene(e).getNonDeletedElements(I).forEach(function(wa){var va,Ca;if((null===(va=wa.startBinding)||void 0===va?void 0:va.elementId)===e.id||(null===(Ca=wa.endBinding)||void 0===Ca?void 0:Ca.elementId)===e.id)va=pf(e,wa.startBinding,U),Ca=pf(e,wa.endBinding,U),ba.has(wa.id)?$e(wa,{startBinding:va,endBinding:Ca}):(gn(wa,"start",va,e),gn(wa,"end",Ca,e))})}},qj=function(e){return new Set((e||
[]).map(function(u){return u.id}))},gn=function(e,u,w,I){var U;if(!(null==w||w.elementId!==I.id&&2<e.points.length)){var ba=uh.getScene(e).getElement(w.elementId);if(null!=ba){var wa="start"===u?-1:1;I=-1===wa?0:e.points.length-1;var va=Wf.getPointAtIndexGlobalCoordinates(e,I-wa);wa=function(Ca,Qa,Ja){if(0===Qa){var hb=cg(Ca);hb=Sl(hb);return fi(hb)}hb=Ll(Ca);Ja=Li(hb,gk(Ja));hb=Gh(hb);switch(Ca.type){case "rectangle":case "text":case "diamond":var nb=jh(Ca,Qa,Ja);break;case "ellipse":var ob=Math.abs(Qa);
nb=Ca.width*ob/2;Ca=Ca.height*ob/2;Qa=Math.sign(Qa);ob=fi(Ja);Ja=ob[0];ob=ob[1];ob=0===ob?1E-4:ob;var ac=Math.pow(Ja,2)*Math.pow(Ca,2)+Math.pow(ob,2)*Math.pow(nb,2);Qa=(-Ja*Math.pow(Ca,2)+Qa*ob*Math.sqrt(Math.max(0,ac-Math.pow(nb,2)*Math.pow(Ca,2))))/ac;Ja=(-Qa*Ja-1)/ob;nb=-Math.pow(nb,2)*Qa/(Math.pow(Ja,2)*Math.pow(Ca,2)+Math.pow(Qa,2)*Math.pow(nb,2));nb=xi(nb,(-Qa*nb-1)/Ja)}return fi(Li(hb,nb))}(ba,w.focus,va);0===w.gap?ba=wa:(ba=function(Ca,Qa,Ja,hb){void 0===hb&&(hb=0);var nb=Ll(Ca);Qa=Li(nb,
gk(Qa));Ja=Li(nb,gk(Ja));Ja=jj(ik(Ja,Qa));var ob=Gh(nb);return Ck(Ca,Ja,Qa,hb).map(function(ac){return fi(Li(ob,ac))})}(ba,va,wa,w.gap),ba=0===ba.length?wa:ba[0]);Wf.movePoint(e,I,Wf.pointFromAbsoluteCoords(e,ba),((U={})["start"===u?"startBinding":"endBinding"]=w,U))}}},pf=function(e,u,w){if(null==u||null==w)return u;var I=u.gap,U=u.focus,ba=w.width;w=w.height;var wa=e.width,va=e.height;return{elementId:u.elementId,gap:Math.max(1,Math.min(Yi(e,ba,w),I*(ba<w?ba/wa:w/va))),focus:U}},Il=function(e){return[Jg(e,
"start"),Jg(e,"end")].filter(function(u){return null!=u})},Jg=function(e,u){return Zh(Bg(Wf.getPointAtIndexGlobalCoordinates(e,"start"===u?0:-1)),uh.getScene(e))},oh=function(e){return uh.getScene(e).getElements().map(function(u){if(!lg(u))return null;var w=Xf(u,"start",e),I=Xf(u,"end",e);return w||I?[u,w&&I?"both":w?"start":"end",e]:null}).filter(function(u){return null!=u})},Xf=function(e,u,w){return null==e["start"===u?"startBinding":"endBinding"]&&!xf(e,w,u)&&Ok(w,Bg(Wf.getPointAtIndexGlobalCoordinates(e,
"start"===u?0:-1)))},Wj=function(e,u,w,I){var U=new Set,ba=new Set,wa="duplicatesServeAsOld"===I;u.forEach(function(va){var Ca=va.boundElementIds;if(null!=Ca&&0<Ca.length&&(Ca.forEach(function(Qa){wa&&!w.has(Qa)&&U.add(Qa)}),ba.add(w.get(va.id))),lg(va))null!=va.startBinding&&(Ca=va.startBinding.elementId,wa&&!w.has(Ca)&&ba.add(Ca)),null!=va.endBinding&&(Ca=va.endBinding.elementId,wa&&!w.has(Ca)&&ba.add(Ca)),null==va.startBinding&&null==va.endBinding||U.add(w.get(va.id))});e.filter(function(va){return U.has(va.id)}).forEach(function(va){var Ca=
va.endBinding;$e(va,{startBinding:Ch(va.startBinding,w),endBinding:Ch(Ca,w)})});e.filter(function(va){return ba.has(va.id)}).forEach(function(va){var Ca=va.boundElementIds;null!=Ca&&0<Ca.length&&$e(va,{boundElementIds:Ca.map(function(Qa){var Ja;return null!==(Ja=w.get(Qa))&&void 0!==Ja?Ja:Qa})})})},Ch=function(e,u){var w;if(null==e)return null;var I=e.elementId;return{focus:e.focus,gap:e.gap,elementId:null!==(w=u.get(I))&&void 0!==w?w:I}},rj=function(e,u){var w=new Set(u.map(function(U){return U.id})),
I=new Set;u.forEach(function(U){var ba;Ak(U)&&(null===(ba=U.boundElementIds)||void 0===ba||ba.forEach(function(wa){w.has(wa)||I.add(wa)}))});e.filter(function(U){return I.has(U.id)}).forEach(function(U){var ba=U.endBinding;$e(U,{startBinding:nm(U.startBinding,w),endBinding:nm(ba,w)})})},nm=function(e,u){return null==e||u.has(e.elementId)?null:e},sj=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},Ff=function(e){return e>=2*Math.PI?e-2*Math.PI:e},af=function(e,u,w){return Cg(e)?
{points:Ei(0,u,Ei(1,w,e.points))}:{}},Kg=function(e,u,w){u=u/e.width*e.fontSize;if(1>u)return null;e=Vi(e.text,Ui({fontSize:u,fontFamily:e.fontFamily}));return{size:u,baseline:e.baseline+(w-e.height)}},Jl=function(e,u,w,I){var U=zg(e),ba=U[0],wa=U[1],va=U[2],Ca=U[3];switch(u){case "se":var Qa=Math.max((w-ba)/(va-ba),(I-wa)/(Ca-wa));var Ja=function(nb,ob,ac){var Ub=ob[0];ob=ob[1];return{x:nb.x+(Ub-ba)*(Qa-1)+Ub-ac[0],y:nb.y+(ob-wa)*(Qa-1)+ob-ac[1]}};break;case "nw":Qa=Math.max((va-w)/(va-ba),(Ca-I)/
(Ca-wa));Ja=function(nb,ob,ac){var Ub=ob[2];ob=ob[3];return{x:nb.x-(va-Ub)*(Qa-1)+Ub-ac[2],y:nb.y-(Ca-ob)*(Qa-1)+ob-ac[3]}};break;case "ne":Qa=Math.max((w-ba)/(va-ba),(Ca-I)/(Ca-wa));Ja=function(nb,ob,ac){var Ub=ob[0];ob=ob[3];return{x:nb.x+(Ub-ba)*(Qa-1)+Ub-ac[0],y:nb.y-(Ca-ob)*(Qa-1)+ob-ac[3]}};break;case "sw":Qa=Math.max((va-w)/(va-ba),(I-wa)/(Ca-wa)),Ja=function(nb,ob,ac){var Ub=ob[1];ob=ob[2];return{x:nb.x-(va-ob)*(Qa-1)+ob-ac[2],y:nb.y+(Ub-wa)*(Qa-1)+Ub-ac[1]}}}if(0<Qa){var hb=e.reduce(function(nb,
ob){if(!nb)return nb;var ac=ob.width*Qa,Ub=ob.height*Qa,uc={};if("text"===ob.type){uc=Kg(ob,ac,Ub);if(null===uc)return null;uc={fontSize:uc.size,baseline:uc.baseline}}var Zc=cg(ob),cd=af(ob,ac,Ub);yi(ob,{newSize:{width:ac,height:Ub},simultaneouslyUpdated:e});var pd=Ng(lc(lc({},ob),cd),ac,Ub);Zc=Ja(ob,Zc,pd);ob=Zc.x;Zc=Zc.y;return sj(sj([],nb),[lc(lc({width:ac,height:Ub,x:ob,y:Zc},cd),uc)])},[]);hb&&e.forEach(function(nb,ob){$e(nb,hb[ob])})}},tl=function(e,u,w,I,U,ba,wa){var va=5*Math.PI/2+Math.atan2(I-
wa,w-ba);U&&(va+=Sa.ay/2,va-=va%Sa.ay);u.forEach(function(Ca,Qa){var Ja,hb,nb=cg(Ca);Qa=(nb[0]+nb[2])/2;nb=(nb[1]+nb[3])/2;var ob=null!==(Ja=null===(hb=e.originalElements.get(Ca.id))||void 0===hb?void 0:hb.angle)&&void 0!==Ja?Ja:Ca.angle;Ja=zf(Qa,nb,ba,wa,va+ob-Ca.angle);$e(Ca,{x:Ca.x+(Ja[0]-Qa),y:Ca.y+(Ja[1]-nb),angle:Ff(va+ob)})})},ji=function(e,u,w,I,U,ba,wa,va,Ca,Qa){var Ja;Ca&&(wa=(Ja=Je(u,wa,ba<I?-va:va)).width,0>(va=Ja.height)&&(va=-va));u=U<w?w-wa:w;ba=ba<I?I-va:I;Qa&&(u=w-(wa+=wa)/2,ba=I-
(va+=va)/2);0!==wa&&0!==va&&$e(e,{x:u,y:ba,width:wa,height:va})},Tk=function(e){return e.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},sk=function(e){var u=Vi(e.text,Ui(e));$e(e,{width:u.width,height:u.height,baseline:u.baseline})},nh=function(e,u){return!(e.viewModeEnabled||!e.editingElement&&!mf(u,e).length&&"selection"===e.elementType)},Pk=function(e){return e.filter(function(u){return u.isDeleted||!Oh(u)})},Zi=function(e){return e.reduce(function(u,w){return u[w.id]=w,u},{})},el=function(e){return e.reduce(function(u,
w){return u+w.version},0)},Xd=function(e){return e.filter(function(u){return!u.isDeleted})},wf=function(e){return Xd(e).map(function(u){return fj(u.type)?yc(yc({},u),{},{lastCommittedPoint:null}):u})},ii=function(e,u,w){var I=[e.horizontal,e.vertical].map(function(U){return null!=U&&U.x<=u&&u<=U.x+U.width&&U.y<=w&&w<=U.y+U.height});e=I[0];I=I[1];return{isOverEither:e||I,isOverHorizontal:e,isOverVertical:I}},eg=function(e,u){return e.some(function(w){return u.selectedElementIds[w.id]})},mf=function(e,
u){return e.filter(function(w){return u.selectedElementIds[w.id]})},mk=function(e,u){return u.editingElement?[u.editingElement]:mf(e,u)},Wi=function(e){var u=e.scenePoint,w=e.viewportDimensions;e=e.zoom;return{scrollX:w.width/2*(1/e.value)-u.x-1/e.value*e.translation.x,scrollY:w.height/2*(1/e.value)-u.y-1/e.value*e.translation.y}},ki=function(e,u,w){var I;if(!e.length)return{scrollX:0,scrollY:0};var U=zg(e);w=U[0];var ba=U[1],wa=U[2];U=U[3];return function(va,Ca,Qa){Ca=Qa[2];var Ja=Qa[3],hb=hh({sceneX:Qa[0],
sceneY:Qa[1]},va);Qa=hb.x;hb=hb.y;Ca=hh({sceneX:Ca,sceneY:Ja},va);Ja=Ca.y;return Ca.x-Qa>va.width||Ja-hb>va.height}(u,0,[w,ba,wa,U])&&(w=(I=function(va,Ca){if(!va.length)return[0,0,0,0];var Qa=1/0,Ja=va[0];return va.forEach(function(hb){var nb=qi(hb);nb=Math.hypot(Ca.x-(nb[0]+nb[2])/2,Ca.y-(nb[1]+nb[3])/2);nb<Qa&&(Qa=nb,Ja=hb)}),qi(Ja)}(e,rg({clientX:u.scrollX,clientY:u.scrollY},u)))[0],ba=I[1],wa=I[2],U=I[3]),Wi({scenePoint:{x:(w+wa)/2,y:(ba+U)/2},viewportDimensions:{width:u.width,height:u.height},
zoom:u.zoom})},Oj=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"draw"===e||"line"===e},Nf=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"draw"===e||"line"===e},tk=function(e){return"rectangle"===e||"arrow"===e||"draw"===e||"line"===e},li=function(e,u){for(var w=null,I=e.length-1;0<=I;--I){var U=e[I];if(!U.isDeleted&&u(U)){w=U;break}}return w},$h=function(e,u,w,I){return void 0===I&&(I={x:0,y:0}),{value:e,translation:{x:I.x-w.left-e/u.value*(I.x-
w.left-u.translation.x),y:I.y-w.top-e/u.value*(I.y-w.top-u.translation.y)}}},Uj=function(e){e=parseFloat(e.toFixed(2));return Math.max(.1,Math.min(e,10))},Ye=(h(9478),V().forwardRef(function(e,u){var w=V().useRef(null);V().useImperativeHandle(u,function(){return w.current});u="ToolIcon_size_".concat(e.size||"m");return"button"===e.type?V().createElement("button",{className:mc("ToolIcon_type_button",u,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,
"ToolIcon--selected":e.selected}),hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:"button",onClick:e.onClick,ref:w},V().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},e.icon||e.label,e.keyBindingLabel&&V().createElement("span",{className:"ToolIcon__keybinding"},e.keyBindingLabel)),e.showAriaLabel&&V().createElement("div",{className:"ToolIcon__label"},e["aria-label"]),e.children):V().createElement("label",{className:mc("ToolIcon",e.className),title:e.title},V().createElement("input",
{className:"ToolIcon_type_radio ".concat(u),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:e.id,onChange:e.onChange,checked:e.checked,ref:w}),V().createElement("div",{className:"ToolIcon__icon"},e.icon,e.keyBindingLabel&&V().createElement("span",{className:"ToolIcon__keybinding"},e.keyBindingLabel)))}));Ye.defaultProps={visible:!0,className:""};var xg=function(e){return"light"===e?ue.$y[4]:ue.$y[9]},ne=function(e){return"light"===
e?ue.Sn:ue.MA[4]},Eg=function(e){return"light"===e?ue.ix:"#1e1e1e"},me=function(e,u){void 0===u&&(u=512);u="number"==typeof u?{width:u}:u;var w=u.width;w=void 0===w?512:w;var I=u.height;I=void 0===I?w:I;var U=u.mirror;u=u.style;return V().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(w," ").concat(I),className:mc({"rtl-mirror":U}),style:u},"string"==typeof e?V().createElement("path",{fill:"currentColor",d:e}):e)},ul=me("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),te=me("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Dm=me("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),om=me("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),vk=me("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Pi=me("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Kh=me("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
ph=me("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),mi=me("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Dj=me("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),uk=me("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Uk=me("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
gh=me("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Ej=me("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),$c=me("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),Sd=(me("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),me("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),me(V().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),rd=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,
null,V().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ne(e),stroke:ne(e),strokeWidth:"2"}),V().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:xg(e),stroke:xg(e),strokeWidth:"2"})),{width:24,mirror:!0})}),Bd=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,
null,V().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:xg(e),stroke:xg(e),strokeWidth:"2"}),V().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ne(e),stroke:ne(e),strokeWidth:"2"})),{width:24,mirror:!0})}),ni=V().memo(function(e){e=e.appearance;
return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:ne(e),stroke:ne(e),strokeWidth:"2"}),V().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:xg(e),stroke:xg(e),strokeWidth:"2"})),{width:24,mirror:!0})}),yf=V().memo(function(e){e=e.appearance;
return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:xg(e),stroke:xg(e),strokeLinejoin:"round",strokeWidth:"2"}),V().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:ne(e),stroke:ne(e),strokeLinejoin:"round",strokeWidth:"2"})),{width:24,mirror:!0})}),
Dh=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M 2,5 H 22",fill:ne(e),stroke:ne(e),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:xg(e),
stroke:xg(e),strokeWidth:"2"})),{width:24,mirror:!0})}),pg=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M 2,19 H 22",fill:ne(e),stroke:ne(e),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:xg(e),stroke:xg(e),strokeWidth:"2"})),{width:24,mirror:!0})}),Pj=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M 5,2 V 22",fill:ne(e),stroke:ne(e),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:xg(e),stroke:xg(e),strokeWidth:"2"})),{width:24})}),ed=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M 19,2 V 22",fill:ne(e),stroke:ne(e),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:xg(e),stroke:xg(e),strokeWidth:"2"})),{width:24})}),md=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M5 5V19Z",fill:"black"}),V().createElement("path",{d:"M19 5V19M5 5V19",stroke:ne(e),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:xg(e),stroke:xg(e),strokeWidth:"2"})),{width:24})}),Lg=V().memo(function(e){e=
e.appearance;return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M5 5L19 5M5 19H19",fill:ne(e),stroke:ne(e),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:xg(e),stroke:xg(e),strokeWidth:"2"})),{width:24})}),Vc=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",
fill:xg(e),stroke:xg(e),strokeWidth:"2"}),V().createElement("path",{d:"M 2,12 H 22",fill:ne(e),stroke:ne(e),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),Vk=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",
fill:xg(e),stroke:xg(e),strokeWidth:"2"}),V().createElement("path",{d:"M 12,2 V 22",fill:ne(e),stroke:ne(e),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24})}),Kl=me("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),tj=(me("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),me("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),me("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),fh=me("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),qg=me("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Pd=me("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),kf=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M25 26H111V111H25",
fill:ne(e)}),V().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ne(e),strokeWidth:"2"}),V().createElement("path",{d:"M100 100H160V160H100",fill:ne(e)}),V().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:ne(e),strokeWidth:"2"}),V().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Eg(e),stroke:ne(e),strokeWidth:"6"}),V().createElement("rect",{x:"2.5",y:"149.5",width:"30",height:"30",fill:Eg(e),stroke:ne(e),strokeWidth:"6"}),V().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Eg(e),stroke:ne(e),strokeWidth:"6"}),V().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Eg(e),stroke:ne(e),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),
Qk=V().memo(function(e){e=e.appearance;return me(V().createElement(V().Fragment,null,V().createElement("path",{d:"M25 26H111V111H25",fill:ne(e)}),V().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",
stroke:ne(e),strokeWidth:"2"}),V().createElement("path",{d:"M100 100H160V160H100",fill:ne(e)}),V().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:ne(e),strokeWidth:"2"}),
V().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Eg(e),stroke:ne(e),strokeWidth:"6"}),V().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Eg(e),stroke:ne(e),strokeWidth:"6"}),V().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Eg(e),stroke:ne(e),strokeWidth:"6"}),V().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Eg(e),stroke:ne(e),strokeWidth:"6"}),V().createElement("rect",{x:"105.5",y:"2.5",width:"30",height:"30",
fill:Eg(e),stroke:ne(e),strokeWidth:"6"}),V().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Eg(e),stroke:ne(e),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Wk=V().memo(function(e){e=e.appearance;return me(V().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:ne(e)}),{width:40,height:20})}),Yd=V().memo(function(e){e=e.appearance;return me(V().createElement("g",{fill:ne(e),fillRule:"evenodd",clipRule:"evenodd"},V().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),V().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),pm=V().memo(function(e){e=e.appearance;return me(V().createElement("path",{d:"M2 2H38V18H2V2Z",fill:ne(e)}),{width:40,height:20})}),$i=V().memo(function(e){var u=e.appearance;e=e.strokeWidth;return me(V().createElement("path",{d:"M6 10H34",stroke:ne(u),strokeWidth:e,fill:"none"}),{width:40,height:20})}),Rd=V().memo(function(e){e=e.appearance;return me(V().createElement("path",{d:"M6 10H34",stroke:ne(e),strokeWidth:2,fill:"none"}),{width:40,height:20})}),gl=V().memo(function(e){e=
e.appearance;return me(V().createElement("path",{d:"M6 10H34",stroke:ne(e),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),Yf=V().memo(function(e){e=e.appearance;return me(V().createElement("path",{d:"M6 10H34",stroke:ne(e),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Qi=V().memo(function(e){e=e.appearance;return me(V().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:ne(e),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),zm=V().memo(function(e){e=e.appearance;return me(V().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:ne(e),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),wk=V().memo(function(e){e=
e.appearance;return me(V().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:ne(e),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),hl=V().memo(function(e){e=e.appearance;return me(V().createElement("path",
{d:"M10 17L10 5L35 5",stroke:ne(e),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Xk=V().memo(function(e){e=e.appearance;return me(V().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:ne(e),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Rk=V().memo(function(e){e=e.appearance;return me(V().createElement("path",{d:"M6 10H34",stroke:ne(e),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Eh=V().memo(function(e){var u=e.appearance;e=e.flip;e=void 0!==e&&
e;return me(V().createElement("g",{transform:e?"translate(40, 0) scale(-1, 1)":"",stroke:ne(u),strokeWidth:2,fill:"none"},V().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),V().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),Tm=V().memo(function(e){var u=e.appearance;e=e.flip;e=void 0!==e&&e;return me(V().createElement("g",{stroke:ne(u),fill:ne(u),transform:e?"translate(40, 0) scale(-1, 1)":""},V().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),V().createElement("circle",
{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Gj=V().memo(function(e){var u=e.appearance;e=e.flip;e=void 0!==e&&e;return me(V().createElement("g",{transform:e?"translate(40, 0) scale(-1, 1)":""},V().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:ne(u),strokeWidth:2,fill:"none"})),{width:40,height:20})}),dg=[],fe=function(e){return dg=dg.concat(e),e},lh=function(e,u){var w;return e.editingGroupId&&(u=ek(Xd(u),e.editingGroupId),u.length)?Rc(Rc({},e),{},
{selectedElementIds:(w={},w[u[0].id]=!0,w)}):e},Pg=fe({name:"deleteSelectedElements",perform:function(e,u){if(u.editingLinearElement){var w=u.editingLinearElement,I=w.activePointIndex,U=w.startBindingElement,ba=w.endBindingElement,wa=Wf.getElement(w.elementId);if(!wa)return!1;if(null==I||-1===I||2>wa.points.length)return e=e.filter(function(va){return va.id!==wa.id}),{elements:e,appState:Rc(Rc({},lh(u,e)),{},{editingLinearElement:null}),commitToHistory:!1};w={startBindingElement:0===I?null:U,endBindingElement:I===
wa.points.length-1?null:ba};return Wf.movePoint(wa,I,"delete"),{elements:e,appState:Rc(Rc({},u),{},{editingLinearElement:Rc(Rc(Rc({},u.editingLinearElement),w),{},{activePointIndex:0<I?I-1:0})}),commitToHistory:!0}}w=function(va,Ca){return{elements:va.map(function(Qa){return Ca.selectedElementIds[Qa.id]?wg(Qa,{isDeleted:!0}):Qa}),appState:Rc(Rc({},Ca),{},{selectedElementIds:{}})}}(e,u);I=w.elements;w=w.appState;return rj(I,e.filter(function(va){return u.selectedElementIds[va.id]})),{elements:I,appState:Rc(Rc({},
w=lh(w,I)),{},{elementType:"selection",multiElement:null}),commitToHistory:eg(Xd(e),u)}},contextItemLabel:"labels.delete",keyTest:function(e){return"Backspace"===e.key||"Delete"===e.key},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement(Ye,{type:"button",icon:Pi,title:Rb("labels.delete"),"aria-label":Rb("labels.delete"),onClick:function(){return I(null)},visible:eg(Xd(u),w)})}}),bi=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];
return e},Tl=function(e,u){for(var w=[],I=[],U=null,ba=-1;++ba<e.length;)u.selectedElementIds[e[ba].id]?(I.length&&(w=w.concat(I),I=[]),w.push(ba),U=ba+1):e[ba].isDeleted&&U===ba?(U=ba+1,I.push(ba)):I=[];return w},Lh=function(e,u,w,I){var U=u[w],ba=function(wa){return!wa.isDeleted&&(!e.editingGroupId||wa.groupIds.includes(e.editingGroupId))};w="left"===I?function(wa,va,Ca){void 0===Ca&&(Ca=wa.length-1);0>Ca&&(Ca=wa.length+Ca);for(Ca=Math.min(wa.length-1,Math.max(Ca,0))+1;-1<--Ca;)if(va(wa[Ca],Ca,
wa))return Ca;return-1}(u,ba,Math.max(0,w-1)):function(wa,va,Ca){void 0===Ca&&(Ca=0);0>Ca&&(Ca=wa.length+Ca);for(Ca=Math.min(wa.length,Math.max(Ca,0))-1;++Ca<wa.length;)if(va(wa[Ca],Ca,wa))return Ca;return-1}(u,ba,w+1);ba=u[w];if(!ba)return-1;if(e.editingGroupId){if((null==U?void 0:U.groupIds.join(""))===(null==ba?void 0:ba.groupIds.join("")))return w;if(null==ba||!ba.groupIds.includes(e.editingGroupId))return-1}if(!ba.groupIds.length)return w;U=e.editingGroupId?ba.groupIds[ba.groupIds.indexOf(e.editingGroupId)-
1]:ba.groupIds[ba.groupIds.length-1];U=ek(u,U);return U.length?"left"===I?u.indexOf(U[0]):u.indexOf(U[U.length-1]):w},he=function(e,u,w){var I,U=Tl(u,e),ba=(I=0,U.reduce(function(wa,va,Ca){return 0<Ca&&U[Ca-1]!==va-1&&(I=++I),(wa[I]||(wa[I]=[])).push(va),wa},[]));return"right"===w&&(ba=ba.reverse()),ba.forEach(function(wa,va){va=wa[0];wa=wa[wa.length-1];var Ca="left"===w?va:wa,Qa=Lh(e,u,Ca,w);if(-1!==Qa&&Ca!==Qa){Ca="left"===w?u.slice(0,Qa):u.slice(0,va);var Ja=u.slice(va,wa+1);va="left"===w?u.slice(Qa,
va):u.slice(wa+1,Qa+1);wa="left"===w?u.slice(wa+1):u.slice(Qa+1);u=bi("left"===w?bi(bi(bi([],Ca),Ja),va):bi(bi(bi([],Ca),va),Ja),wa)}}),u},Ug=function(e,u,w){var I=Tl(e,u),U=[],ba=[];if("left"===w){if(u.editingGroupId){if(!(u=ek(e,u.editingGroupId)).length)return e;var wa=e.indexOf(u[0])}else wa=0;u=I[I.length-1]}else{if(u.editingGroupId){if(!(u=ek(e,u.editingGroupId)).length)return e;u=e.indexOf(u[u.length-1])}else u=e.length-1;wa=I[0]}for(var va=wa;va<u+1;va++)I.includes(va)?U.push(e[va]):ba.push(e[va]);
I=e.slice(0,wa);e=e.slice(u+1);return bi("left"===w?bi(bi(bi([],I),U),ba):bi(bi(bi([],I),ba),U),e)},Am=fe({name:"sendBackward",perform:function(e,u){return{elements:he(u,e.slice(),"left"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[Te]&&!e.shiftKey&&"BracketLeft"===e.code},PanelComponent:function(e){var u=e.updateData;e=e.appState;return V().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return u(null)},
title:"".concat(Rb("labels.sendBackward")," — ").concat(Nd("CtrlOrCmd+["))},V().createElement(Bd,{appearance:e.appearance}))}}),vl=fe({name:"bringForward",perform:function(e,u){return{elements:he(u,e.slice(),"right"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[Te]&&!e.shiftKey&&"BracketRight"===e.code},PanelComponent:function(e){var u=e.updateData;e=e.appState;return V().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return u(null)},title:"".concat(Rb("labels.bringForward")," — ").concat(Nd("CtrlOrCmd+]"))},V().createElement(rd,{appearance:e.appearance}))}}),n=fe({name:"sendToBack",perform:function(e,u){return{elements:Ug(e,u,"left"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return Hg?e[Te]&&e.altKey&&"BracketLeft"===e.code:e[Te]&&e.shiftKey&&"BracketLeft"===e.code},PanelComponent:function(e){var u=e.updateData;e=e.appState;return V().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return u(null)},title:"".concat(Rb("labels.sendToBack")," — ").concat(Nd(Hg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},V().createElement(yf,{appearance:e.appearance}))}}),E=fe({name:"bringToFront",perform:function(e,u){return{elements:Ug(e,u,"right"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return Hg?e[Te]&&e.altKey&&"BracketRight"===e.code:e[Te]&&e.shiftKey&&"BracketRight"===e.code},PanelComponent:function(e){var u=
e.updateData;e=e.appState;return V().createElement("button",{type:"button",className:"zIndexButton",onClick:function(w){return u(null)},title:"".concat(Rb("labels.bringToFront")," — ").concat(Nd(Hg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},V().createElement(ni,{appearance:e.appearance}))}}),Y=fe({name:"selectAll",perform:function(e,u){return!u.editingLinearElement&&{appState:Th(dd(dd({},u),{},{editingGroupId:null,selectedElementIds:e.reduce(function(w,I){return I.isDeleted||(w[I.id]=!0),w},{})}),Xd(e)),
commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[Te]&&"a"===e.key}}),W=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},oa=fe({name:"duplicateSelection",perform:function(e,u){if(u.editingLinearElement){var w=u.editingLinearElement,I=w.activePointIndex;w=Wf.getElement(w.elementId);if(!w||null===I)return!1;var U=w.points,ba=U[I],wa=U[I+1];return $e(w,{points:W(W(W([],U.slice(0,I+1)),[wa?[(ba[0]+wa[0])/2,(ba[1]+wa[1])/2]:[ba[0]+30,ba[1]+
30]]),U.slice(I+1))}),{appState:qe(qe({},u),{},{editingLinearElement:qe(qe({},u.editingLinearElement),{},{activePointIndex:I+1})}),elements:e,commitToHistory:!0}}return qe(qe({},Da(e,u)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[Te]&&"d"===e.key},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement(Ye,{type:"button",icon:qg,title:"".concat(Rb("labels.duplicateSelection")," — ").concat(Nd("CtrlOrCmd+D")),
"aria-label":Rb("labels.duplicateSelection"),onClick:function(){return I(null)},visible:eg(Xd(u),w)})}}),Da=function(e,u){for(var w=new Map,I=[],U=[],ba=new Map,wa=function(hb){var nb=Xi(u.editingGroupId,w,hb,{x:hb.x+Sa.k/2,y:hb.y+Sa.k/2});return ba.set(hb.id,nb.id),U.push(hb),I.push(nb),nb},va=[],Ca=0;Ca<e.length;){var Qa=e[Ca];if(u.selectedElementIds[Qa.id]){if(Qa.groupIds.length){var Ja=vh(u,Qa);if(Ja){Qa=ek(e,Ja);va.push.apply(va,W(W([],Qa),Qa.map(function(hb){return wa(hb)})));Ca+=Qa.length;
continue}}va.push(Qa,wa(Qa))}else va.push(Qa);Ca++}return Wj(va,U,ba),{elements:va,appState:Th(qe(qe({},u),{},{selectedGroupIds:{},selectedElementIds:I.reduce(function(hb,nb){return hb[nb.id]=!0,hb},{})}),Xd(va))}},Pa=function(e){var u=e.options,w=e.value,I=e.onChange,U=e.group;return V().createElement("div",{className:"buttonList buttonListIcon"},u.map(function(ba){return V().createElement("label",{key:ba.text,className:mc({active:w===ba.value}),title:ba.text},V().createElement("input",{type:"radio",
name:U,onChange:function(){return I(ba.value)},checked:w===ba.value}),ba.icon)}))},Ta=function(e){var u=e.options,w=e.value,I=e.onChange,U=e.group;return V().createElement("div",{className:"buttonList"},u.map(function(ba){return V().createElement("label",{key:ba.text,className:mc({active:w===ba.value})},V().createElement("input",{type:"radio",name:U,onChange:function(){return I(ba.value)},checked:w===ba.value}),ba.text)}))},gb=(h(2816),function(e){var u=e.children,w=e.left,I=e.top,U=e.onCloseRequest;
e=e.fitInViewport;var ba=void 0!==e&&e,wa=(0,ha.useRef)(null);return(0,ha.useLayoutEffect)(function(){if(ba&&wa.current){var va=wa.current,Ca=va.getBoundingClientRect(),Qa=Ca.y,Ja=Ca.width,hb=Ca.height,nb=window.innerWidth;Ca.x+Ja>nb&&(va.style.left="".concat(nb-Ja,"px"));Ca=window.innerHeight;Qa+hb>Ca&&(va.style.top="".concat(Ca-hb,"px"))}},[ba]),(0,ha.useEffect)(function(){if(U){var va=function(Ca){var Qa;null!==(Qa=wa.current)&&void 0!==Qa&&Qa.contains(Ca.target)||(0,Sf.unstable_batchedUpdates)(function(){return U(Ca)})};
return document.addEventListener("pointerdown",va,!1),function(){return document.removeEventListener("pointerdown",va,!1)}}},[U]),V().createElement("div",{className:"popover",style:{top:I,left:w},ref:wa},u)}),Ab=(h(5574),function(e){var u=(new Option).style;return u.color=e,!!u.color}),Bb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),nc=function(e){var u=e.colors,w=e.color,I=e.onChange,U=e.onClose,ba=e.label,wa=e.showInput,va=void 0===wa||wa;e=e.type;var Ca=V().useRef(),
Qa=V().useRef(),Ja=V().useRef(),hb=V().useRef();V().useEffect(function(){Qa.current?Qa.current.focus():hb.current?hb.current.focus():Ja.current&&Ja.current.focus()},[]);return V().createElement("div",{className:"color-picker color-picker-type-".concat(e),role:"dialog","aria-modal":"true","aria-label":Rb("labels.colorPicker"),onKeyDown:function(nb){if("Tab"===nb.key){var ob,ac=document.activeElement;if(nb.shiftKey)ac===Ca.current&&(null===(ob=hb.current)||void 0===ob||ob.focus(),nb.preventDefault());
else if(ac===hb.current){var Ub;null===(Ub=Ca.current)||void 0===Ub||Ub.focus();nb.preventDefault()}}else vg(nb.key)?(ac=document.activeElement,ob=rf.rtl,-1!==(Ub=Array.prototype.indexOf.call(Ja.current.children,ac))&&(ac=Ja.current.children.length-(va?1:0),Ja.current.children[nb.key===(ob?"ArrowLeft":"ArrowRight")?(Ub+1)%ac:nb.key===(ob?"ArrowRight":"ArrowLeft")?(ac+Ub-1)%ac:"ArrowDown"===nb.key?(Ub+5)%ac:"ArrowUp"===nb.key?(ac+Ub-5)%ac:Ub].focus()),nb.preventDefault()):Bb.includes(nb.key.toLowerCase())&&
!Ag(nb.target)?(Ub=Bb.indexOf(nb.key.toLowerCase()),Ja.current.children[Ub].focus(),nb.preventDefault()):"Escape"!==nb.key&&"Enter"!==nb.key||(nb.preventDefault(),U());nb.nativeEvent.stopImmediatePropagation()}},V().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),V().createElement("div",{className:"color-picker-triangle"}),V().createElement("div",{className:"color-picker-content",ref:function(nb){nb&&(Ja.current=nb)},tabIndex:0},u.map(function(nb,ob){return V().createElement("button",
{className:"color-picker-swatch",onClick:function(ac){ac.currentTarget.focus();I(nb)},title:"".concat(nb," — ").concat(Bb[ob].toUpperCase()),"aria-label":nb,"aria-keyshortcuts":Bb[ob],style:{color:nb},key:nb,ref:function(ac){ac&&0===ob&&(Ca.current=ac);ac&&nb===w&&(Qa.current=ac)},onFocus:function(){I(nb)}},"transparent"===nb?V().createElement("div",{className:"color-picker-transparent"}):void 0,V().createElement("span",{className:"color-picker-keybinding"},Bb[ob]))}),va&&V().createElement(rc,{color:w,
label:ba,onChange:function(nb){I(nb)},ref:hb})))},rc=V().forwardRef(function(e,u){var w=e.color,I=e.onChange;e=e.label;var U=V().useState(w),ba=U[0],wa=U[1],va=V().useRef(null);V().useEffect(function(){wa(w)},[w]);V().useImperativeHandle(u,function(){return va.current});var Ca=V().useCallback(function(Qa){Qa=Qa.toLowerCase();var Ja;(Ja="transparent"===Qa||Ab(Qa)?Qa:Ab("#".concat(Qa))?"#".concat(Qa):null)&&I(Ja);wa(Qa)},[I]);return V().createElement("label",{className:"color-input-container"},V().createElement("div",
{className:"color-picker-hash"},"#"),V().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":e,onChange:function(Qa){return Ca(Qa.target.value)},value:(ba||"").replace(/^#/,""),onBlur:function(){return wa(w)},ref:va}))}),ec=function(e){var u=e.type,w=e.color,I=e.onChange;e=e.label;var U=V().useState(!1),ba=U[0],wa=U[1],va=V().useRef(null);return V().createElement("div",null,V().createElement("div",{className:"color-picker-control-container"},V().createElement("button",
{className:"color-picker-label-swatch","aria-label":e,style:w?{"--swatch-color":w}:void 0,onClick:function(){return wa(!ba)},ref:va}),V().createElement(rc,{color:w,label:e,onChange:function(Ca){I(Ca)}})),V().createElement(V().Suspense,{fallback:""},ba?V().createElement(gb,{onCloseRequest:function(Ca){return Ca.target!==va.current&&wa(!1)}},V().createElement(nc,{colors:Gk[u],color:w||null,onChange:function(Ca){I(Ca)},onClose:function(){var Ca;wa(!1);null===(Ca=va.current)||void 0===Ca||Ca.focus()},
label:e,showInput:!1,type:u})):null))},Wc=h(6950),Id=h.n(Wc);h(7143);var ke=function(e,u,w){return e.map(function(I){var U;return u.selectedElementIds[I.id]||I.id===(null===(U=u.editingElement)||void 0===U?void 0:U.id)?w(I):I})},ng=function(e,u,w,I){var U,ba,wa=u.editingElement;e=Xd(e);return null!==(U=null!==(ba=wa&&w(wa))&&void 0!==ba?ba:eg(e,u)?function(va,Ca,Qa){va=Array.from(new Set(mf(va,Ca).map(function(Ja){return Qa(Ja)})));return 1===va.length?va[0]:null}(e,u,w):I)&&void 0!==U?U:null},se=
(fe({name:"changeStrokeColor",perform:function(e,u,w){return{elements:ke(e,u,function(I){return wg(I,{strokeColor:w})}),appState:oe(oe({},u),{},{currentItemStrokeColor:w}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState;e=e.updateData;return V().createElement(V().Fragment,null,V().createElement("h3",{"aria-hidden":"true"},Rb("labels.stroke")),V().createElement(ec,{type:"elementStroke",label:Rb("labels.stroke"),color:ng(u,w,function(I){return I.strokeColor},w.currentItemStrokeColor),
onChange:e}))}}),fe({name:"changeBackgroundColor",perform:function(e,u,w){return{elements:ke(e,u,function(I){return wg(I,{backgroundColor:w})}),appState:oe(oe({},u),{},{currentItemBackgroundColor:w}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState;e=e.updateData;return V().createElement(V().Fragment,null,V().createElement("h3",{"aria-hidden":"true"},Rb("labels.background")),V().createElement(ec,{type:"elementBackground",label:Rb("labels.background"),color:ng(u,w,function(I){return I.backgroundColor},
w.currentItemBackgroundColor),onChange:e}))}}),fe({name:"changeFillStyle",perform:function(e,u,w){return{elements:ke(e,u,function(I){return wg(I,{fillStyle:w})}),appState:oe(oe({},u),{},{currentItemFillStyle:w}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.fill")),V().createElement(Pa,{options:[{value:"hachure",text:Rb("labels.hachure"),icon:V().createElement(Wk,{appearance:w.appearance})},
{value:"cross-hatch",text:Rb("labels.crossHatch"),icon:V().createElement(Yd,{appearance:w.appearance})},{value:"solid",text:Rb("labels.solid"),icon:V().createElement(pm,{appearance:w.appearance})}],group:"fill",value:ng(u,w,function(U){return U.fillStyle},w.currentItemFillStyle),onChange:function(U){I(U)}}))}}),fe({name:"changeStrokeWidth",perform:function(e,u,w){return{elements:ke(e,u,function(I){return wg(I,{strokeWidth:w})}),appState:oe(oe({},u),{},{currentItemStrokeWidth:w}),commitToHistory:!0}},
PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.strokeWidth")),V().createElement(Pa,{group:"stroke-width",options:[{value:1,text:Rb("labels.thin"),icon:V().createElement($i,{appearance:w.appearance,strokeWidth:2})},{value:2,text:Rb("labels.bold"),icon:V().createElement($i,{appearance:w.appearance,strokeWidth:6})},{value:4,text:Rb("labels.extraBold"),icon:V().createElement($i,{appearance:w.appearance,
strokeWidth:10})}],value:ng(u,w,function(U){return U.strokeWidth},w.currentItemStrokeWidth),onChange:function(U){return I(U)}}))}}),fe({name:"changeSloppiness",perform:function(e,u,w){return{elements:ke(e,u,function(I){return wg(I,{seed:bk(),roughness:w})}),appState:oe(oe({},u),{},{currentItemRoughness:w}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.sloppiness")),V().createElement(Pa,
{group:"sloppiness",options:[{value:0,text:Rb("labels.architect"),icon:V().createElement(Qi,{appearance:w.appearance})},{value:1,text:Rb("labels.artist"),icon:V().createElement(zm,{appearance:w.appearance})},{value:2,text:Rb("labels.cartoonist"),icon:V().createElement(wk,{appearance:w.appearance})}],value:ng(u,w,function(U){return U.roughness},w.currentItemRoughness),onChange:function(U){return I(U)}}))}}),fe({name:"changeStrokeStyle",perform:function(e,u,w){return{elements:ke(e,u,function(I){return wg(I,
{strokeStyle:w})}),appState:oe(oe({},u),{},{currentItemStrokeStyle:w}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.strokeStyle")),V().createElement(Pa,{group:"strokeStyle",options:[{value:"solid",text:Rb("labels.strokeStyle_solid"),icon:V().createElement(Rd,{appearance:w.appearance})},{value:"dashed",text:Rb("labels.strokeStyle_dashed"),icon:V().createElement(gl,{appearance:w.appearance})},
{value:"dotted",text:Rb("labels.strokeStyle_dotted"),icon:V().createElement(Yf,{appearance:w.appearance})}],value:ng(u,w,function(U){return U.strokeStyle},w.currentItemStrokeStyle),onChange:function(U){return I(U)}}))}}),fe({name:"changeOpacity",perform:function(e,u,w){return{elements:ke(e,u,function(I){return wg(I,{opacity:w})}),appState:oe(oe({},u),{},{currentItemOpacity:w}),commitToHistory:!0}},PanelComponent:function(e){var u,w=e.elements,I=e.appState,U=e.updateData;return V().createElement("label",
{className:"control-label"},Rb("labels.opacity"),V().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(ba){return U(+ba.target.value)},onWheel:function(ba){ba.stopPropagation();var wa=+ba.target.value;0>ba.deltaY&&100>wa?U(wa+10):0<ba.deltaY&&0<wa&&U(wa-10)},value:null!==(u=ng(w,I,function(ba){return ba.opacity},I.currentItemOpacity))&&void 0!==u?u:void 0}))}}),fe({name:"changeFontSize",perform:function(e,u,w){return{elements:ke(e,u,function(I){return Ud(I)?(I=wg(I,
{fontSize:w}),sk(I),I):I}),appState:oe(oe({},u),{},{currentItemFontSize:w}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.fontSize")),V().createElement(Ta,{group:"font-size",options:[{value:16,text:Rb("labels.small")},{value:20,text:Rb("labels.medium")},{value:28,text:Rb("labels.large")},{value:36,text:Rb("labels.veryLarge")}],value:ng(u,w,function(U){return Ud(U)&&U.fontSize},
w.currentItemFontSize||Sa.n5),onChange:function(U){return I(U)}}))}}),fe({name:"changeFontFamily",perform:function(e,u,w){return{elements:ke(e,u,function(I){return Ud(I)?(I=wg(I,{fontFamily:w}),sk(I),I):I}),appState:oe(oe({},u),{},{currentItemFontFamily:w}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;e=[{value:1,text:Rb("labels.handDrawn")},{value:2,text:Rb("labels.normal")},{value:3,text:Rb("labels.code")}];return V().createElement("fieldset",null,
V().createElement("legend",null,Rb("labels.fontFamily")),V().createElement(Ta,{group:"font-family",options:e,value:ng(u,w,function(U){return Ud(U)&&U.fontFamily},w.currentItemFontFamily||Sa.rk),onChange:function(U){return I(U)}}))}}),fe({name:"changeTextAlign",perform:function(e,u,w){return{elements:ke(e,u,function(I){return Ud(I)?(I=wg(I,{textAlign:w}),sk(I),I):I}),appState:oe(oe({},u),{},{currentItemTextAlign:w}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;
return V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.textAlign")),V().createElement(Ta,{group:"text-align",options:[{value:"left",text:Rb("labels.left")},{value:"center",text:Rb("labels.center")},{value:"right",text:Rb("labels.right")}],value:ng(u,w,function(U){return Ud(U)&&U.textAlign},w.currentItemTextAlign),onChange:function(U){return I(U)}}))}}),fe({name:"changeSharpness",perform:function(e,u,w){var I=mk(Xd(e),u),U=I.length?I.every(function(ba){return!Cg(ba)}):
!fj(u.elementType);I=I.length?I.every(Cg):fj(u.elementType);return{elements:ke(e,u,function(ba){return wg(ba,{strokeSharpness:w})}),appState:oe(oe({},u),{},{currentItemStrokeSharpness:U?w:u.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:I?w:u.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.edges")),V().createElement(Pa,{group:"edges",
options:[{value:"sharp",text:Rb("labels.sharp"),icon:V().createElement(hl,{appearance:w.appearance})},{value:"round",text:Rb("labels.round"),icon:V().createElement(Xk,{appearance:w.appearance})}],value:ng(u,w,function(U){return U.strokeSharpness},tk(w.elementType)&&(fj(w.elementType)?w.currentItemLinearStrokeSharpness:w.currentItemStrokeSharpness)||null),onChange:function(U){return I(U)}}))}}),fe({name:"changeArrowhead",perform:function(e,u,w){var I;return{elements:ke(e,u,function(U){if(Cg(U)){var ba=
w.position,wa=w.type;if("start"===ba)return wg(U,{startArrowhead:wa});if("end"===ba)return wg(U,{endArrowhead:wa})}return U}),appState:oe(oe({},u),{},(I={},I["start"===w.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=w.type,I)),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;e=rf.rtl;return V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.arrowheads")),V().createElement("div",{className:"iconSelectList"},V().createElement(jd,
{label:"arrowhead_start",options:[{value:null,text:Rb("labels.arrowhead_none"),icon:V().createElement(Rk,{appearance:w.appearance}),keyBinding:"q"},{value:"arrow",text:Rb("labels.arrowhead_arrow"),icon:V().createElement(Eh,{appearance:w.appearance,flip:!e}),keyBinding:"w"},{value:"bar",text:Rb("labels.arrowhead_bar"),icon:V().createElement(Gj,{appearance:w.appearance,flip:!e}),keyBinding:"e"},{value:"dot",text:Rb("labels.arrowhead_dot"),icon:V().createElement(Tm,{appearance:w.appearance,flip:!e}),
keyBinding:"r"}],value:ng(u,w,function(U){return Cg(U)&&"arrow"===U.type?U.startArrowhead:w.currentItemStartArrowhead},w.currentItemStartArrowhead),onChange:function(U){return I({position:"start",type:U})}}),V().createElement(jd,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:Rb("labels.arrowhead_none"),keyBinding:"q",icon:V().createElement(Rk,{appearance:w.appearance})},{value:"arrow",text:Rb("labels.arrowhead_arrow"),keyBinding:"w",icon:V().createElement(Eh,{appearance:w.appearance,
flip:e})},{value:"bar",text:Rb("labels.arrowhead_bar"),keyBinding:"e",icon:V().createElement(Gj,{appearance:w.appearance,flip:e})},{value:"dot",text:Rb("labels.arrowhead_dot"),keyBinding:"r",icon:V().createElement(Tm,{appearance:w.appearance,flip:e})}],value:ng(u,w,function(U){return Cg(U)&&"arrow"===U.type?U.endArrowhead:w.currentItemEndArrowhead},w.currentItemEndArrowhead),onChange:function(U){return I({position:"end",type:U})}})))}}),h(2189)),qf=h.n(se),gg=V().createContext(!1),tg=function(){return window.matchMedia?
window.matchMedia(qf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},hg=function(e){e=e.children;var u=(0,ha.useRef)();u.current||(u.current=tg());var w=(0,ha.useState)(u.current.matches),I=w[0],U=w[1];return(0,ha.useEffect)(function(){var ba=function(){return U(u.current.matches)};return u.current.addListener(ba),function(){return u.current.removeListener(ba)}},[]),V().createElement(gg.Provider,{value:I},e)};fe({name:"changeViewBackgroundColor",perform:function(e,
u,w){return{appState:Xe(Xe({},u),{},{viewBackgroundColor:w}),commitToHistory:!0}},PanelComponent:function(e){var u=e.appState,w=e.updateData;return V().createElement("div",{style:{position:"relative"}},V().createElement(ec,{label:Rb("labels.canvasBackground"),type:"canvasBackground",color:u.viewBackgroundColor,onChange:function(I){return w(I)}}))}});fe({name:"clearCanvas",perform:function(e,u){return{elements:e.map(function(w){return wg(w,{isDeleted:!0})}),appState:Xe(Xe({},Ah()),{},{appearance:u.appearance,
elementLocked:u.elementLocked,exportBackground:u.exportBackground,exportEmbedScene:u.exportEmbedScene,gridSize:u.gridSize,shouldAddWatermark:u.shouldAddWatermark,showStats:u.showStats,pasteDialog:u.pasteDialog}),commitToHistory:!0}},PanelComponent:function(e){var u=e.updateData;return V().createElement(Ye,{type:"button",icon:Pi,title:Rb("buttons.clearReset"),"aria-label":Rb("buttons.clearReset"),showAriaLabel:Pe(),onClick:function(){window.confirm(Rb("alerts.clearReset"))&&u(null)}})}});fe({name:"zoomIn",
perform:function(e,u){e=$h(Uj(u.zoom.value+Sa.V4),u.zoom,{left:u.offsetLeft,top:u.offsetTop},{x:u.width/2,y:u.height/2});return{appState:Xe(Xe({},u),{},{zoom:e}),commitToHistory:!1}},PanelComponent:function(e){var u=e.updateData;return V().createElement(Ye,{type:"button",icon:mi,title:"".concat(Rb("buttons.zoomIn")," — ").concat(Nd("CtrlOrCmd++")),"aria-label":Rb("buttons.zoomIn"),onClick:function(){u(null)}})},keyTest:function(e){return("Equal"===e.code||"NumpadAdd"===e.code)&&(e[Te]||e.shiftKey)}});
fe({name:"zoomOut",perform:function(e,u){e=$h(Uj(u.zoom.value-Sa.V4),u.zoom,{left:u.offsetLeft,top:u.offsetTop},{x:u.width/2,y:u.height/2});return{appState:Xe(Xe({},u),{},{zoom:e}),commitToHistory:!1}},PanelComponent:function(e){var u=e.updateData;return V().createElement(Ye,{type:"button",icon:Dj,title:"".concat(Rb("buttons.zoomOut")," — ").concat(Nd("CtrlOrCmd+-")),"aria-label":Rb("buttons.zoomOut"),onClick:function(){u(null)}})},keyTest:function(e){return("Minus"===e.code||"NumpadSubtract"===e.code)&&
(e[Te]||e.shiftKey)}});fe({name:"resetZoom",perform:function(e,u){return{appState:Xe(Xe({},u),{},{zoom:$h(1,u.zoom,{left:u.offsetLeft,top:u.offsetTop},{x:u.width/2,y:u.height/2})}),commitToHistory:!1}},PanelComponent:function(e){var u=e.updateData;return V().createElement(Ye,{type:"button",icon:Sd,title:Rb("buttons.resetZoom"),"aria-label":Rb("buttons.resetZoom"),onClick:function(){u(null)}})},keyTest:function(e){return("Digit0"===e.code||"Numpad0"===e.code)&&(e[Te]||e.shiftKey)}});var pe=function(e,
u,w){e=Xd(e);var I=mf(e,u);I=w&&0<I.length?zg(I):zg(e);w=$h(Math.min(Math.max(Math.floor(Math.min(u.width/(I[2]-I[0]),u.height/(I[3]-I[1]))/Sa.V4)*Sa.V4,Sa.V4),1),u.zoom,{left:u.offsetLeft,top:u.offsetTop});e=(I[0]+I[2])/2;I=(I[1]+I[3])/2;return{appState:Xe(Xe(Xe({},u),Wi({scenePoint:{x:e,y:I},viewportDimensions:{width:u.width,height:u.height},zoom:w})),{},{zoom:w}),commitToHistory:!1}};fe({name:"zoomToSelection",perform:function(e,u){return pe(e,u,!0)},keyTest:function(e){return"Digit2"===e.code&&
e.shiftKey&&!e.altKey&&!e[Te]}});fe({name:"zoomToFit",perform:function(e,u){return pe(e,u,!1)},keyTest:function(e){return"Digit1"===e.code&&e.shiftKey&&!e.altKey&&!e[Te]}});var Jf,Af,Ef=fe({name:"finalize",perform:function(e,u,w,I){var U,ba;w=I.canvas;if(u.editingLinearElement){I=u.editingLinearElement;var wa=I.startBindingElement,va=I.endBindingElement,Ca=Wf.getElement(I.elementId);if(Ca)return lg(Ca)&&If(Ca,wa,va),{elements:2>Ca.points.length||Oh(Ca)?e.filter(function(hb){return hb.id!==Ca.id}):
void 0,appState:bg(bg({},u),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(I=u.multiElement?u.multiElement:"draw"===(null===(ba=u.editingElement)||void 0===ba?void 0:ba.type)?u.editingElement:null){"draw"!==I.type&&"touch"!==u.lastPointerDownWith&&(ba=I.points,(wa=I.lastCommittedPoint)&&ba[ba.length-1]===wa||$e(I,{points:I.points.slice(0,-1)}));Oh(I)&&(e=e.slice(0,-1));ba=ci(I.points,u.zoom.value);if(("line"===
I.type||"draw"===I.type)&&ba){var Qa=I.points,Ja=Qa[0];$e(I,{points:Qa.map(function(hb,nb){return nb===Qa.length-1?[Ja[0],Ja[1]]:hb})})}lg(I)&&!ba&&1<I.points.length&&(wa=Wf.getPointAtIndexGlobalCoordinates(I,-1),ba=wa[0],wa=wa[1],lk(I,u,uh.getScene(I),{x:ba,y:wa}));u.elementLocked||"draw"===u.elementType||(u.selectedElementIds[I.id]=!0)}return(u.elementLocked||"draw"===u.elementType)&&I||Gi(w),{elements:e,appState:bg(bg({},u),{},{elementType:(u.elementLocked||"draw"===u.elementType)&&I?u.elementType:
"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:I&&!u.elementLocked&&"draw"!==u.elementType?bg(bg({},u.selectedElementIds),{},(U={},U[I.id]=!0,U)):u.selectedElementIds}),commitToHistory:"draw"===u.elementType}},keyTest:function(e,u){return"Escape"===e.key&&(null!==u.editingLinearElement||!u.draggingElement&&null===u.multiElement)||("Escape"===e.key||"Enter"===e.key)&&null!==u.multiElement},PanelComponent:function(e){var u=
e.appState;e=e.updateData;return V().createElement(Ye,{type:"button",icon:uk,title:Rb("buttons.done"),"aria-label":Rb("buttons.done"),onClick:e,visible:null!=u.multiElement})}}),Qg="undefined"!=typeof v&&null!==(Jf=v.env)&&void 0!==Jf&&Jf.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(e,u,w,I){window.gtag("event",u,{event_category:e,event_label:w,value:I})}:("undefined"!=typeof v&&null!==(Af=v.env)&&void 0!==Af&&Af.JEST_WORKER_ID,function(e,u,w,I){}),Og=(h(8518),function(){var e=
function(u,w){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,U){I.__proto__=U}||function(I,U){for(var ba in U)Object.prototype.hasOwnProperty.call(U,ba)&&(I[ba]=U[ba])})(u,w)};return function(u,w){function I(){this.constructor=u}if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");e(u,w);u.prototype=null===w?Object.create(w):(I.prototype=w.prototype,new I)}}()),Bi=function(e){function u(){for(var w=[],I=
0;I<arguments.length;I++)w[I]=arguments[I];var U,ba;I=this;return I=e.apply(this,w)||this,U=ba=I,I.handleFocus=function(wa){wa=wa.currentTarget;var va=window.getSelection();if(va){var Ca=document.createRange();Ca.selectNodeContents(wa);va.removeAllRanges();va.addRange(Ca)}},I.handleBlur=function(wa){wa=wa.currentTarget.innerText.trim();wa!==ba.props.value&&ba.props.onChange(wa);(wa=window.getSelection())&&wa.removeAllRanges()},I.handleKeyDown=function(wa){"Enter"!==wa.key||(wa.preventDefault(),wa.nativeEvent.isComposing||
229===wa.keyCode)||wa.currentTarget.blur()},I.makeEditable=function(wa){if(wa)try{wa.contentEditable="plaintext-only"}catch(va){wa.contentEditable="true"}},U}return Og(u,e),u.prototype.render=function(){return V().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},u}(ha.Component),Fj=(h(2680),
function(e){var u=e.children,w=e.label,I=e.position;I=void 0===I?"below":I;e=e.long;e=void 0!==e&&e;return V().createElement("div",{className:"Tooltip"},V().createElement("span",{className:"above"===I?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:e?"50ch":"10ch"}},w),u)}),jk=function(e){var u=e.title?e.title:"dark"===e.value?Rb("buttons.lightMode"):Rb("buttons.darkMode");return V().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",
title:u},V().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(w){return e.onChange(w.target.checked?"dark":"light")},checked:"dark"===e.value,"aria-label":u}),V().createElement("div",{className:"ToolIcon__icon"},"light"===e.value?bl.MOON:bl.SUN))},bl={SUN:V().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},V().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:V().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},V().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const xm="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",ym=xm?"chooseFileSystemEntries"===xm?h.e(736).then(h.bind(h,9012)):h.e(736).then(h.bind(h,499)):h.e(736).then(h.bind(h,5034));xm?"chooseFileSystemEntries"===xm?h.e(736).then(h.bind(h,6980)):h.e(736).then(h.bind(h,868)):h.e(736).then(h.bind(h,3110));const hf=xm?"chooseFileSystemEntries"===xm?h.e(736).then(h.bind(h,1170)):h.e(736).then(h.bind(h,7814)):h.e(736).then(h.bind(h,4001));var il,Ri=function(e,u){if(null!=u&&u.collaborators&&
(u=u.collaborators.get(e),null!=u&&u.color))return u.color;e=e.split("").reduce(function(I,U){return I+U.charCodeAt(0)},0);u=Gk.elementBackground.slice(1);var w=Gk.elementStroke.slice(1);return{background:u[e%u.length],stroke:w[e%w.length]}};!function(e){e.ACTIVE="active";e.AWAY="away";e.IDLE="idle"}(il||(il={}));var Em=function(){var e=document.createElement("canvas").getContext("2d");return e?(e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("\ud83d\ude00",0,0),0!==e.getImageData(12,
12,1,1).data[0]):!1}(),wl=function(e,u,w,I,U,ba,wa,va,Ca){void 0===Ca&&(Ca=!1);e.translate(ba,wa);e.rotate(va);Ca&&e.fillRect(u-ba,w-wa,I,U);e.strokeRect(u-ba,w-wa,I,U);e.rotate(-va);e.translate(-ba,-wa)},Fm=function(e,u,w,I){e.beginPath();e.arc(u,w,I,0,2*Math.PI);e.fill();e.stroke()},hn=function(e,u,w,I,U,ba,wa,va){var Ca=void 0===va?{}:va;va=Ca.renderScrollbars;va=void 0===va||va;var Qa=Ca.renderSelection,Ja=void 0===Qa||Qa;Qa=Ca.renderOptimizations;var hb=void 0!==Qa&&Qa;Ca=Ca.renderGrid;var nb=
void 0===Ca||Ca;if(!ba)return{atLeastOneVisibleElement:!1};var ob=ba.getContext("2d");ob.scale(I,I);var ac=ba.width/I,Ub=ba.height/I;(wa.exportWithDarkMode&&(ob.filter=Sa.Gi),"string"==typeof wa.viewBackgroundColor)?(("transparent"===wa.viewBackgroundColor||5===wa.viewBackgroundColor.length||9===wa.viewBackgroundColor.length||/(hsla|rgba)\(/.test(wa.viewBackgroundColor))&&ob.clearRect(0,0,ac,Ub),Ca=ob.fillStyle,ob.fillStyle=wa.viewBackgroundColor,ob.fillRect(0,0,ac,Ub),ob.fillStyle=Ca):ob.clearRect(0,
0,ac,Ub);Ca=wa.zoom.translation.x;Qa=wa.zoom.translation.y;ob.translate(Ca,Qa);ob.scale(wa.zoom.value,wa.zoom.value);nb&&u.gridSize&&function(ud,Qd,ae,Me,Bh,Xh){var zj=ud.strokeStyle;ud.strokeStyle="rgba(0,0,0,0.1)";ud.beginPath();for(var bj=ae;bj<ae+Bh+2*Qd;bj+=Qd)ud.moveTo(bj,Me-Qd),ud.lineTo(bj,Me+Xh+2*Qd);for(bj=Me;bj<Me+Xh+2*Qd;bj+=Qd)ud.moveTo(ae-Qd,bj),ud.lineTo(ae+Bh+2*Qd,bj);ud.stroke();ud.strokeStyle=zj}(ob,u.gridSize,-Math.ceil(Ca/wa.zoom.value/u.gridSize)*u.gridSize+wa.scrollX%u.gridSize,
-Math.ceil(Qa/wa.zoom.value/u.gridSize)*u.gridSize+wa.scrollY%u.gridSize,ac/wa.zoom.value,Ub/wa.zoom.value);ba=e.filter(function(ud){var Qd={zoom:wa.zoom,offsetLeft:u.offsetLeft,offsetTop:u.offsetTop,scrollX:wa.scrollX,scrollY:wa.scrollY},ae=qi(ud);ud=ae[0];var Me=ae[1],Bh=ae[2];ae=ae[3];var Xh=rg({clientX:Qd.offsetLeft,clientY:Qd.offsetTop},Qd);Qd=rg({clientX:Qd.offsetLeft+ac,clientY:Qd.offsetTop+Ub},Qd);return Xh.x<=Bh&&Xh.y<=ae&&Qd.x>=ud&&Qd.y>=Me});(ba.forEach(function(ud){mn(ud,U,ob,hb,wa)}),
u.editingLinearElement)&&(nb=Wf.getElement(u.editingLinearElement.elementId))&&function(ud,Qd,ae,Me){ud.translate(ae.scrollX,ae.scrollY);var Bh=ud.strokeStyle,Xh=ud.lineWidth;ud.lineWidth=1/ae.zoom.value;Wf.getPointsGlobalCoordinates(Me).forEach(function(zj,bj){var Vl;ud.strokeStyle="red";ud.setLineDash([]);ud.fillStyle=(null===(Vl=Qd.editingLinearElement)||void 0===Vl?void 0:Vl.activePointIndex)===bj?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Fm(ud,zj[0],zj[1],Wf.POINT_HANDLE_SIZE/2/ae.zoom.value)});
ud.setLineDash([]);ud.lineWidth=Xh;ud.translate(-ae.scrollX,-ae.scrollY);ud.strokeStyle=Bh}(ob,u,wa,nb);if(w&&mn(w,U,ob,hb,wa),u.isBindingEnabled&&u.suggestedBindings.filter(function(ud){return null!=ud}).forEach(function(ud){var Qd=ob.strokeStyle,ae=ob.lineWidth,Me=Array.isArray(ud)?dj:am;ob.translate(wa.scrollX,wa.scrollY);Me(ob,ud);ob.strokeStyle=Qd;ob.lineWidth=ae;ob.translate(-wa.scrollX,-wa.scrollY)}),Ja&&!u.multiElement&&!u.editingLinearElement){var uc=e.reduce(function(ud,Qd){var ae=[];if(u.selectedElementIds[Qd.id]&&
null==vh(u,Qd)&&ae.push(ue.Sn),wa.remoteSelectedElementIds[Qd.id]&&ae.push.apply(ae,wa.remoteSelectedElementIds[Qd.id].map(function(Bh){return Ri(Bh,u).background})),ae.length){var Me=cg(Qd);ud.push({angle:Qd.angle,elementX1:Me[0],elementY1:Me[1],elementX2:Me[2],elementY2:Me[3],selectionColors:ae})}return ud},[]);w=function(ud){ud=ek(e,ud);ud=zg(ud);uc.push({angle:0,elementX1:ud[0],elementX2:ud[2],elementY1:ud[1],elementY2:ud[3],selectionColors:[ue.Sn]})};Ja=0;for(nb=Ji(u);Ja<nb.length;Ja++)w(nb[Ja]);
u.editingGroupId&&w(u.editingGroupId);uc.forEach(function(ud){var Qd=ud.angle,ae=ud.elementX1,Me=ud.elementY1,Bh=ud.selectionColors,Xh=ud.elementX2-ae;ud=ud.elementY2-Me;var zj=ob.getLineDash(),bj=ob.lineWidth,Vl=ob.lineDashOffset,sn=ob.strokeStyle,fm=4/wa.zoom.value,tn=8/wa.zoom.value,Um=4/wa.zoom.value;ob.lineWidth=1/wa.zoom.value;ob.translate(wa.scrollX,wa.scrollY);for(var fo=Bh.length,Vm=0;Vm<fo;++Vm)ob.strokeStyle=Bh[Vm],ob.setLineDash([tn,Um+(tn+Um)*(fo-1)]),ob.lineDashOffset=(tn+Um)*Vm,wl(ob,
ae-fm,Me-fm,Xh+2*fm,ud+2*fm,ae+Xh/2,Me+ud/2,Qd);ob.lineDashOffset=Vl;ob.strokeStyle=sn;ob.lineWidth=bj;ob.setLineDash(zj);ob.translate(-wa.scrollX,-wa.scrollY)});Ja=mf(e,u);if(ob.translate(wa.scrollX,wa.scrollY),1===Ja.length)ob.fillStyle=ue.ix,w=vj(Ja[0],wa.zoom,"mouse"),u.viewModeEnabled||xk(ob,wa,w,Ja[0].angle);else if(1<Ja.length&&!u.isRotating){w=4/wa.zoom.value;ob.fillStyle=ue.ix;var Zc=zg(Ja);Ja=Zc[0];nb=Zc[1];var cd=Zc[2];Zc=Zc[3];var pd=ob.getLineDash();ob.setLineDash([2/wa.zoom.value]);
var ce=ob.lineWidth;ob.lineWidth=1/wa.zoom.value;wl(ob,Ja-w,nb-w,cd-Ja+2*w,Zc-nb+2*w,(Ja+cd)/2,(nb+Zc)/2,0);ob.lineWidth=ce;ob.setLineDash(pd);w=Hk([Ja,nb,cd,Zc],0,wa.zoom,"mouse",Bl);xk(ob,wa,w,0)}ob.translate(-wa.scrollX,-wa.scrollY)}for(var be in ob.scale(1/wa.zoom.value,1/wa.zoom.value),ob.translate(-Ca,-Qa),wa.remotePointerViewportCoords){Ca=wa.remotePointerViewportCoords[be];cd=Ca.x;Zc=Ca.y;cd-=u.offsetLeft;Zc-=u.offsetTop;pd=0>cd||cd>ac-9||0>Zc||Zc>Ub-14;cd=Math.max(cd,0);cd=Math.min(cd,ac-
9);Zc=Math.max(Zc,0);Zc=Math.min(Zc,Ub-14);Ca=Ri(be,u);Qa=Ca.background;w=Ca.stroke;Ja=ob.strokeStyle;nb=(Ca=ob.fillStyle,ob.globalAlpha);ob.strokeStyle=w;ob.fillStyle=Qa;ce=wa.remotePointerUserStates[be];(pd||ce===il.AWAY)&&(ob.globalAlpha=.48);wa.remotePointerButton&&"down"===wa.remotePointerButton[be]&&(ob.beginPath(),ob.arc(cd,Zc,15,0,2*Math.PI,!1),ob.lineWidth=3,ob.strokeStyle="#ffffff88",ob.stroke(),ob.closePath(),ob.beginPath(),ob.arc(cd,Zc,15,0,2*Math.PI,!1),ob.lineWidth=1,ob.strokeStyle=
w,ob.stroke(),ob.closePath());ob.beginPath();ob.moveTo(cd,Zc);ob.lineTo(cd+1,Zc+14);ob.lineTo(cd+4,Zc+9);ob.lineTo(cd+9,Zc+10);ob.lineTo(cd,Zc);ob.fill();ob.stroke();var Ce=wa.remotePointerUsernames[be],ye="";ce===il.AWAY?ye=Em?"⚫️":" (".concat(il.AWAY,")"):ce===il.IDLE?ye=Em?"\ud83d\udca4":" (".concat(il.IDLE,")"):ce===il.ACTIVE&&(ye=Em?"\ud83d\udfe2":"");ce="".concat(Ce?"".concat(Ce," "):"").concat(ye);!pd&&ce&&(cd+=9,Zc+=14,pd=ob.measureText(ce),Ce=pd.actualBoundingBoxDescent+pd.actualBoundingBoxAscent,
ob.fillStyle=w,ob.fillRect(cd-1,Zc-1,pd.width+8+2,Ce+8+2),ob.fillStyle=Qa,ob.fillRect(cd,Zc,pd.width+8,Ce+8),ob.fillStyle=ue.ix,ob.fillText(ce,cd+4,Zc+4+pd.actualBoundingBoxAscent));ob.strokeStyle=Ja;ob.fillStyle=Ca;ob.globalAlpha=nb;ob.closePath()}if(va){var Ue=function(ud,Qd,ae,Me){var Bh=Me.scrollX,Xh=Me.scrollY,zj=Me.zoom;if(0===ud.length)return{horizontal:null,vertical:null};Me=zg(ud);var bj=Me[0],Vl=Me[1];ud=Me[2];Me=Me[3];var sn=Qd/zj.value,fm=ae/zj.value,tn=Qd-sn,Um=ae-fm;zj=parseInt(Tf("sat"));
var fo=parseInt(Tf("sab")),Vm=parseInt(Tf("sal")),Tr=parseInt(Tf("sar")),Ut=rf.rtl;Bh=tn/2-Bh+Vm;Xh=Um/2-Xh+zj;sn=Bh+sn-Tr;fm=Xh+fm-fo;bj=Math.min(bj,Bh);Vl=Math.min(Vl,Xh);ud=Math.max(ud,sn);Me=Math.max(Me,fm);return{horizontal:Bh===bj&&sn===ud?null:{x:Math.max(Vm,4)+(Bh-bj)/(ud-bj)*Qd,y:ae-6-Math.max(4,fo),width:(sn-Bh)/(ud-bj)*Qd-Math.max(8,Vm+Tr),height:6},vertical:Xh===Vl&&fm===Me?null:{x:Ut?Math.max(Vm,4):Qd-6-Math.max(Tr,4),y:(Xh-Vl)/(Me-Vl)*ae+Math.max(zj,4),width:6,height:(fm-Xh)/(Me-Vl)*
ae-Math.max(8,zj+fo)}}}(e,ac,Ub,wa);Ca=ob.fillStyle;Ja=ob.strokeStyle;ob.fillStyle="rgba(0,0,0,0.3)";ob.strokeStyle="rgba(255,255,255,0.8)";[Ue.horizontal,Ue.vertical].forEach(function(ud){if(ud){var Qd=ud.x,ae=ud.y,Me=ud.width;ud=ud.height;ob.beginPath();ob.moveTo(Qd+3,ae);ob.lineTo(Qd+Me-3,ae);ob.quadraticCurveTo(Qd+Me,ae,Qd+Me,ae+3);ob.lineTo(Qd+Me,ae+ud-3);ob.quadraticCurveTo(Qd+Me,ae+ud,Qd+Me-3,ae+ud);ob.lineTo(Qd+3,ae+ud);ob.quadraticCurveTo(Qd,ae+ud,Qd,ae+ud-3);ob.lineTo(Qd,ae+3);ob.quadraticCurveTo(Qd,
ae,Qd+3,ae);ob.closePath();ob.fill();ob.stroke()}});ob.fillStyle=Ca;ob.strokeStyle=Ja}return ob.scale(1/I,1/I),{atLeastOneVisibleElement:0<ba.length,scrollBars:Ue}},xk=function(e,u,w,I){Object.keys(w).forEach(function(U){var ba=w[U];if(void 0!==ba){var wa=e.lineWidth;e.lineWidth=1/u.zoom.value;"rotation"===U?Fm(e,ba[0]+ba[2]/2,ba[1]+ba[3]/2,ba[2]/2):wl(e,ba[0],ba[1],ba[2],ba[3],ba[0]+ba[2]/2,ba[1]+ba[3]/2,I,!0);e.lineWidth=wa}})},am=function(e,u){var w=cg(u),I=w[0],U=w[1],ba=w[2]-I;w=w[3]-U;var wa=
Yi(u,ba,w);e.strokeStyle="rgba(0,0,0,.05)";e.lineWidth=wa-4;wa=2+wa/2;switch(u.type){case "rectangle":case "text":wl(e,I-wa,U-wa,ba+2*wa,w+2*wa,I+ba/2,U+w/2,u.angle);break;case "diamond":var va=Math.hypot(ba,w);!function(Ca,Qa,Ja,hb,nb,ob){Ca.translate(hb,nb);Ca.rotate(ob);Ca.beginPath();Ca.moveTo(0,Ja/2);Ca.lineTo(Qa/2,0);Ca.lineTo(0,-Ja/2);Ca.lineTo(-Qa/2,0);Ca.closePath();Ca.stroke();Ca.rotate(-ob);Ca.translate(-hb,-nb)}(e,ba+wa*va/w*2,w+wa*va/ba*2,I+ba/2,U+w/2,u.angle);break;case "ellipse":!function(Ca,
Qa,Ja,hb,nb,ob){Ca.beginPath();Ca.ellipse(hb,nb,Qa/2,Ja/2,ob,0,2*Math.PI);Ca.stroke()}(e,ba+2*wa,w+2*wa,I+ba/2,U+w/2,u.angle)}},dj=function(e,u){var w=u[0],I=u[1];u=u[2];var U=Yi(u,u.width,u.height);e.strokeStyle="rgba(0,0,0,0)";e.fillStyle="rgba(0,0,0,.05)";("both"===I?[0,-1]:"start"===I?[0]:[-1]).forEach(function(ba){ba=Wf.getPointAtIndexGlobalCoordinates(w,ba);Fm(e,ba[0],ba[1],U)})},Hj=function(e,u,w,I){I=void 0===I?{}:I;var U=I.offsetX,ba=void 0===U?0:U;I=I.offsetY;var wa=void 0===I?0:I;w&&e.forEach(function(va){va.isDeleted||
function(Ca,Qa,Ja,hb,nb){var ob=cg(Ca),ac=ob[0],Ub=ob[1],uc=(ob[2]-ac)/2-(Ca.x-ac),Zc=(ob[3]-Ub)/2-(Ca.y-Ub),cd=180*Ca.angle/Math.PI;ob=Qa.generator;switch(Ca.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":ak(Ca,ob);ob=Qa.draw(ui.get(Ca));1!=(be=Ca.opacity/100)&&(ob.setAttribute("stroke-opacity","".concat(be)),ob.setAttribute("fill-opacity","".concat(be)));ob.setAttribute("transform","translate(".concat(hb||0," ").concat(nb||
0,") rotate(").concat(cd," ").concat(uc," ").concat(Zc,")"));Ja.appendChild(ob);break;case "line":case "draw":case "arrow":ak(Ca,ob);var pd=Ja.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),ce=Ca.opacity/100;ui.get(Ca).forEach(function(ae){ae=Qa.draw(ae);1!==ce&&(ae.setAttribute("stroke-opacity","".concat(ce)),ae.setAttribute("fill-opacity","".concat(ce)));ae.setAttribute("transform","translate(".concat(hb||0," ").concat(nb||0,") rotate(").concat(cd," ").concat(uc," ").concat(Zc,
")"));"line"!==Ca.type&&"draw"!==Ca.type||!ci(Ca.points)||"transparent"===Ca.backgroundColor||ae.setAttribute("fill-rule","evenodd");pd.appendChild(ae)});Ja.appendChild(pd);break;default:if(!Ud(Ca))throw Error("Unimplemented type ".concat(Ca.type));var be=Ca.opacity/100;ob=Ja.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==be&&(ob.setAttribute("stroke-opacity","".concat(be)),ob.setAttribute("fill-opacity","".concat(be)));ob.setAttribute("transform","translate(".concat(hb||0," ").concat(nb||
0,") rotate(").concat(cd," ").concat(uc," ").concat(Zc,")"));be=Ca.text.replace(/\r\n?/g,"\n").split("\n");ac=Ca.height/be.length;Ub=Ca.height-Ca.baseline;for(var Ce="center"===Ca.textAlign?Ca.width/2:"right"===Ca.textAlign?Ca.width:0,ye=th.test(Ca.text)?"rtl":"ltr",Ue="center"===Ca.textAlign?"middle":"right"===Ca.textAlign||"rtl"===ye?"end":"start",ud=0;ud<be.length;ud++){var Qd=Ja.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Qd.textContent=be[ud];Qd.setAttribute("x","".concat(Ce));
Qd.setAttribute("y","".concat((ud+1)*ac-Ub));Qd.setAttribute("font-family","".concat(Sa.ut[Ca.fontFamily],", ").concat(Sa._D));Qd.setAttribute("font-size","".concat(Ca.fontSize,"px"));Qd.setAttribute("fill",Ca.strokeColor);Qd.setAttribute("text-anchor",Ue);Qd.setAttribute("style","white-space: pre;");Qd.setAttribute("direction",ye);ob.appendChild(Qd)}Ja.appendChild(ob)}}(va,u,w,va.x+ba,va.y+wa)})},xl=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},vm=function(e,u,w,
I){var U=w.exportBackground,ba=w.exportPadding;ba=void 0===ba?10:ba;var wa=w.viewBackgroundColor,va=w.scale,Ca=void 0===va?1:va;w=w.shouldAddWatermark;void 0===I&&(I=function(Ja,hb){var nb=document.createElement("canvas");return nb.width=Ja*Ca,nb.height=hb*Ca,{canvas:nb,scale:Ca}});e=Yn(e,w);var Qa=Hm(e,ba,w);w=Qa[0];va=Qa[1];Qa=I(Qa[2],Qa[3]);I=Qa.canvas;Qa=Qa.scale;return hn(e,u,null,void 0===Qa?Ca:Qa,Fh.canvas(I),I,{viewBackgroundColor:U?wa:null,exportWithDarkMode:u.exportWithDarkMode,scrollX:-w+
ba,scrollY:-va+ba,zoom:Ah().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),I},Pl=function(e,u){var w=u.exportBackground,I=u.exportPadding;I=void 0===I?10:I;var U=u.viewBackgroundColor,ba=u.exportWithDarkMode,wa=u.scale;wa=void 0===wa?1:wa;var va=u.shouldAddWatermark;u=u.metadata;u=void 0===u?"":u;e=Yn(e,va);var Ca=Hm(e,I,va);
va=Ca[0];var Qa=Ca[1],Ja=Ca[2],hb=Ca[3];Ca=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ca.setAttribute("version","1.1"),Ca.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ca.setAttribute("viewBox","0 0 ".concat(Ja," ").concat(hb)),Ca.setAttribute("width","".concat(Ja*wa)),Ca.setAttribute("height","".concat(hb*wa)),ba&&Ca.setAttribute("filter",Sa.Gi),Ca.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(u,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
w&&U)w=Ca.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),w.setAttribute("x","0"),w.setAttribute("y","0"),w.setAttribute("width","".concat(Ja)),w.setAttribute("height","".concat(hb)),w.setAttribute("fill",U),Ca.appendChild(w);w=Fh.svg(Ca);return Hj(e,w,Ca,{offsetX:-va+I,offsetY:-Qa+I}),Ca},Yn=function(e,u){var w=xl([],e);u&&(u=zg(e),e=u[2],u=u[3],w=xl([],w),e=Kj({text:Rb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:Sa.rk,textAlign:"right",verticalAlign:Sa.hs,x:e,y:u+16,strokeColor:ue.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),w=xl(w,[e]));return w},Hm=function(e,u,w){e=zg(e);var I=e[0],U=e[1];return[I,U,Math.abs(I-e[2])+2*u,Math.abs(U-e[3])+u+(w?0:u)]},Vj=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},Ki=function(e){return(e=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(e))?parseFloat(e[1].replace(/,/g,"")):null},Hn=function(e,u){return e.slice(1).every(function(w){return null!==
Ki(w[u])})},In=function(e){var u=e[0].length;if(2<u)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===u){if(!Hn(e,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};u=null===Ki(e[0][0]);var w=(u?e.slice(1):e).map(function(ba){return Ki(ba[0])});return 2>w.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:u?e[0][0]:null,labels:null,values:w}}}var I=Hn(e,0)?0:1;if(!Hn(e,I))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var U=(I+1)%2;w=(u=null===Ki(e[0][I]))?e.slice(1):e;return 2>w.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:u?e[0][I]:null,labels:w.map(function(ba){return ba[U]}),values:w.map(function(ba){return Ki(ba[I])})}}},Yk=Gk.elementBackground.slice(2,Gk.elementBackground.length),ej={fillStyle:"hachure",fontFamily:Sa.rk,fontSize:Sa.n5,opacity:100,roughness:1,strokeColor:Gk.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Gm=function(e){return{chartWidth:44*e.values.length+12,chartHeight:280}},Vn=function(e,u,w,I,U,ba){var wa=Gm(e),va=wa.chartWidth,Ca=wa.chartHeight;wa=e.title?Kj(Ae(Ae({backgroundColor:U,groupIds:[I]},ej),{},{text:e.title,x:u+va/2,y:w-256-24-Sa.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;ba=ba?Ol(Ae(Ae({backgroundColor:U,groupIds:[I]},ej),{},{type:"rectangle",x:u,y:w-Ca,width:va,height:Ca,strokeColor:Gk.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return Vj(Vj(Vj(Vj(Vj([],ba?[ba]:[]),wa?[wa]:[]),function(Qa,Ja,hb,nb,ob){var ac;return(null===(ac=Qa.labels)||void 0===ac?void 0:ac.map(function(Ub,uc){return Kj(Ae(Ae({groupIds:[nb],backgroundColor:ob},ej),{},{text:8<Ub.length?"".concat(Ub.slice(0,5),"..."):Ub,x:Ja+44*uc+24,y:hb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(e,u,w,I,U)),function(Qa,Ja,hb,nb,ob){var ac=Kj(Ae(Ae({groupIds:[nb],backgroundColor:ob},ej),{},{x:Ja-12,y:hb-12,text:"0",textAlign:"right"}));
return[ac,Kj(Ae(Ae({groupIds:[nb],backgroundColor:ob},ej),{},{x:Ja-12,y:hb-256-ac.height/2,text:Math.max.apply(Math,Qa.values).toLocaleString(),textAlign:"right"}))]}(e,u,w,I,U)),function(Qa,Ja,hb,nb,ob){var ac=Gm(Qa);Qa=ac.chartWidth;ac=ac.chartHeight;return[Ke(Ae(Ae({backgroundColor:ob,groupIds:[nb]},ej),{},{type:"line",x:Ja,y:hb,startArrowhead:null,endArrowhead:null,width:Qa,points:[[0,0],[Qa,0]]})),Ke(Ae(Ae({backgroundColor:ob,groupIds:[nb]},ej),{},{type:"line",x:Ja,y:hb,startArrowhead:null,endArrowhead:null,
height:ac,points:[[0,0],[0,-ac]]})),Ke(Ae(Ae({backgroundColor:ob,groupIds:[nb]},ej),{},{type:"line",x:Ja,y:hb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Qa,opacity:50,points:[[0,0],[Qa,0]]}))]}(e,u,w,I,U))},Wn=function(e,u,w,I){return"line"===e?function(U,ba,wa){for(var va=Math.max.apply(Math,U.values),Ca=vi(),Qa=Yk[Math.floor(Math.random()*Yk.length)],Ja=0,hb=[],nb=0,ob=U.values;nb<ob.length;nb++)hb.push([44*Ja,-ob[nb]/va*256]),Ja++;Ja=Math.max.apply(Math,hb.map(function(Ub){return Ub[0]}));
nb=Math.max.apply(Math,hb.map(function(Ub){return Ub[1]}));ob=Math.min.apply(Math,hb.map(function(Ub){return Ub[0]}));var ac=Math.min.apply(Math,hb.map(function(Ub){return Ub[1]}));hb=Ke(Ae(Ae({backgroundColor:Qa,groupIds:[Ca]},ej),{},{type:"line",x:ba+12+16,y:wa-12,startArrowhead:null,endArrowhead:null,height:nb-ac,width:Ja-ob,strokeWidth:2,points:hb}));Ja=U.values.map(function(Ub,uc){uc=44*uc+6;Ub=-Ub/va*256+6;return Ol(Ae(Ae({backgroundColor:Qa,groupIds:[Ca]},ej),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:ba+uc+16,y:wa+Ub-24,width:12,height:12}))});nb=U.values.map(function(Ub,uc){uc=44*uc+6;Ub=Ub/va*256+18;return Ke(Ae(Ae({backgroundColor:Qa,groupIds:[Ca]},ej),{},{type:"line",x:ba+uc+16+6,y:wa-Ub,startArrowhead:null,endArrowhead:null,height:Ub,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Ub]]}))});return Vj(Vj(Vj(Vj([],Vn(U,ba,wa,Ca,Qa,"production"===Sa.Vi.DEVELOPMENT)),[hb]),nb),Ja)}(u,w,I):function(U,ba,wa){var va=Math.max.apply(Math,U.values),Ca=vi(),Qa=Yk[Math.floor(Math.random()*
Yk.length)],Ja=U.values.map(function(hb,nb){hb=hb/va*256;return Ol(Ae(Ae({backgroundColor:Qa,groupIds:[Ca]},ej),{},{type:"rectangle",x:ba+44*nb+12,y:wa-hb-12,width:32,height:hb}))});return Vj(Vj([],Ja),Vn(U,ba,wa,Ca,Qa,"production"===Sa.Vi.DEVELOPMENT))}(u,w,I)},Xn=function(){var e=function(u,w){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,U){I.__proto__=U}||function(I,U){for(var ba in U)Object.prototype.hasOwnProperty.call(U,ba)&&(I[ba]=U[ba])})(u,w)};return function(u,
w){function I(){this.constructor=u}if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");e(u,w);u.prototype=null===w?Object.create(w):(I.prototype=w.prototype,new I)}}(),pn=function(e){function u(w,I){void 0===w&&(w="Couldn't export canvas.");void 0===I&&(I="CANVAS_ERROR");var U=e.call(this)||this;return U.name=I,U.message=w,U}return Xn(u,e),u}(Error),Nj=function(e,u){var w,I,U,ba,wa,va,Ca,Qa;e={type:e.type,version:e.version||1,versionNonce:null!==
(w=e.versionNonce)&&void 0!==w?w:0,isDeleted:null!==(I=e.isDeleted)&&void 0!==I&&I,id:e.id||vi(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:null!==(U=e.strokeStyle)&&void 0!==U?U:"solid",roughness:null!==(ba=e.roughness)&&void 0!==ba?ba:1,opacity:null==e.opacity?100:e.opacity,angle:e.angle||0,x:e.x||0,y:e.y||0,strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,width:e.width||0,height:e.height||0,seed:null!==(wa=e.seed)&&void 0!==wa?wa:1,groupIds:null!==(va=
e.groupIds)&&void 0!==va?va:[],strokeSharpness:null!==(Ca=e.strokeSharpness)&&void 0!==Ca?Ca:fj(e.type)?"round":"sharp",boundElementIds:null!==(Qa=e.boundElementIds)&&void 0!==Qa?Qa:[]};return De(De(De({},e),Ml(e)),u)},yk=function(e){return(e||[]).reduce(function(u,w){if("selection"!==w.type&&!Oh(w)){a:{var I;switch(w.type){case "text":var U=w.fontSize,ba=w.fontFamily;if("font"in w){U=w.font.split(" ");ba=U[1];U=parseInt(U[0],10);b:{for(var wa=0,va=Object.entries(Sa.ut);wa<va.length;wa++){var Ca=
va[wa],Qa=Ca[0];if(Ca[1].includes(ba)){ba=parseInt(Qa);break b}}ba=Sa.rk}}w=Nj(w,{fontSize:U,fontFamily:ba,text:null!==(I=w.text)&&void 0!==I?I:"",baseline:w.baseline,textAlign:w.textAlign||Sa.Hg,verticalAlign:w.verticalAlign||Sa.hs});break a;case "draw":case "line":case "arrow":I=w.startArrowhead;I=void 0===I?null:I;U=w.endArrowhead;U=void 0===U?"arrow"===w.type?"arrow":null:U;w=Nj(w,{startBinding:w.startBinding,endBinding:w.endBinding,points:!Array.isArray(w.points)||2>w.points.length?[[0,0],[w.width,
w.height]]:w.points,lastCommittedPoint:null,startArrowhead:I,endArrowhead:U});break a;case "ellipse":case "rectangle":case "diamond":w=Nj(w,{});break a}w=void 0}w&&u.push(w)}return u},[])},jn=function(e,u){e=e||{};for(var w=Ah(),I={},U=0,ba=Object.entries(w);U<ba.length;U++){var wa=ba[U],va=wa[0];wa=wa[1];var Ca=e[va],Qa=u?u[va]:void 0;I[va]=void 0!==Ca?Ca:void 0!==Qa?Qa:wa}return De(De({},I),{},{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0,zoom:"number"==typeof e.zoom?{value:e.zoom,translation:w.zoom.translation}:
e.zoom||w.zoom})},kn=function(e,u){return{elements:yk(null==e?void 0:e.elements),appState:jn(null==e?void 0:e.appState,u||null)}},rn=function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,{value:Ja[1],
done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?
Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},kj=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},kh=function(){function e(){}return e.importLibrary=function(u){return Cb()(function(){var w,I,U,ba;return rn(this,function(wa){switch(wa.label){case 0:return[4,pp(u)];case 1:return(w=
wa.sent())&&w.library?(I=function(va,Ca){return!va.find(function(Qa){return Qa.length===Ca.length&&Qa.every(function(Ja,hb){return Ja.id===Ca[hb].id&&Ja.versionNonce===Ca[hb].versionNonce})})},[4,e.loadLibrary()]):[2];case 2:return U=wa.sent(),ba=w.library.reduce(function(va,Ca){Ca=Xd(yk(Ca));return I(U,Ca)&&va.push(Ca),va},[]),e.saveLibrary(kj(kj([],U),ba)),[2]}})})()},e}();kh.libraryCache=null;kh.resetLibrary=function(){kh.libraryCache=null;localStorage.removeItem(Sa.I.LOCAL_STORAGE_LIBRARY)};kh.loadLibrary=
function(){return new Promise(function(){var e=Cb()(function(u){var w,I;return rn(this,function(U){if(kh.libraryCache)return[2,u(JSON.parse(JSON.stringify(kh.libraryCache)))];try{if(!(w=localStorage.getItem(Sa.I.LOCAL_STORAGE_LIBRARY)))return[2,u([])];I=JSON.parse(w).map(function(ba){return yk(ba)});kh.libraryCache=JSON.parse(JSON.stringify(I));u(I)}catch(ba){console.error(ba),u([])}return[2]})});return function(u){return e.apply(this,arguments)}}())};kh.saveLibrary=function(e){var u=kh.libraryCache;
try{var w=JSON.stringify(e);kh.libraryCache=JSON.parse(w);localStorage.setItem(Sa.I.LOCAL_STORAGE_LIBRARY,w)}catch(I){kh.libraryCache=u,console.error(I)}};var qm=function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,
{value:Ja[1],done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];
return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},rm=function(e,u){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:wf(e),appState:ti(u,"export")},null,2)},bm=function(){var e=Cb()(function(u,w){var I;return qm(this,function(U){switch(U.label){case 0:return I=
rm(u,w),[4,Mg(new Blob([I],{type:"application/json"}),{fileName:w.name,description:"Excalidraw file",extensions:[".excalidraw"]},w.fileHandle)];case 1:return[2,{fileHandle:U.sent()}]}})});return function(u,w){return e.apply(this,arguments)}}(),ln=function(){var e=Cb()(function(u){var w;return qm(this,function(I){switch(I.label){case 0:return[4,ai({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return w=
I.sent(),[2,Mm(w,u)]}})});return function(u){return e.apply(this,arguments)}}(),sm=function(){var e=Cb()(function(){var u,w;return qm(this,function(I){switch(I.label){case 0:return[4,kh.loadLibrary()];case 1:return u=I.sent(),w=JSON.stringify({type:"excalidrawlib",version:1,library:u},null,2),"library.excalidrawlib",[4,Mg(new Blob([w],{type:Sa.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return I.sent(),[2]}})});
return function(){return e.apply(this,arguments)}}(),op=function(){var e=Cb()(function(){var u;return qm(this,function(w){switch(w.label){case 0:return[4,ai({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return u=w.sent(),kh.importLibrary(u),[2]}})});return function(){return e.apply(this,arguments)}}(),Im=function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");
for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===
Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Cn=function(){var e=
Cb()(function(u){var w;return Im(this,function(I){switch(I.label){case 0:if("image/png"!==u.type)return[3,6];I.label=1;case 1:return I.trys.push([1,4,,5]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 2:return[4,I.sent().decodePngMetadata(u)];case 3:return[2,I.sent()];case 4:throw"INVALID"===I.sent().message?Error(Rb("alerts.imageDoesNotContainScene")):Error(Rb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,u.text()]:[3,8];case 7:return w=I.sent(),
[3,10];case 8:return[4,new Promise(function(U){var ba=new FileReader;ba.readAsText(u,"utf8");ba.onloadend=function(){ba.readyState===FileReader.DONE&&U(ba.result)}})];case 9:w=I.sent(),I.label=10;case 10:if("image/svg+xml"!==u.type)return[3,15];I.label=11;case 11:return I.trys.push([11,14,,15]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 12:return[4,I.sent().decodeSvgMetadata({svg:w})];case 13:return[2,I.sent()];case 14:throw"INVALID"===I.sent().message?Error(Rb("alerts.imageDoesNotContainScene")):
Error(Rb("alerts.cannotRestoreFromImage"));case 15:return[2,w]}})});return function(u){return e.apply(this,arguments)}}(),Mm=function(){var e=Cb()(function(u,w){var I,U;return Im(this,function(ba){switch(ba.label){case 0:return[4,Cn(u)];case 1:I=ba.sent();try{var wa=U=JSON.parse(I);if("excalidraw"!==(null==wa?void 0:wa.type)||wa.elements&&(!Array.isArray(wa.elements)||wa.appState&&"object"!=typeof wa.appState))throw Error(Rb("alerts.couldNotLoadInvalidFile"));var va=wf(U.elements||[]),Ca=null==w?
void 0:w.appearance,Qa;if(Qa=u.handle){var Ja=["application/json",Sa.LO.excalidraw],hb=Ja.includes;a:{if("string"==typeof u)var nb=u;else{if(u.type){var ob=u.type;break a}nb=u.name||""}ob=/\.(excalidraw|json)$/.test(nb)?"application/json":/\.png$/.test(nb)?"image/png":/\.jpe?g$/.test(nb)?"image/jpeg":/\.svg$/.test(nb)?"image/svg+xml":""}Qa=hb.call(Ja,ob)}return[2,kn({elements:va,appState:yb(yb({appearance:Ca,fileHandle:Qa?u.handle:null},ti(U.appState||{},"export")),w?ki(U.elements||[],w):{})},w)]}catch(ac){throw console.error(ac.message),
Error(Rb("alerts.couldNotLoadInvalidFile"));}}})});return function(u,w){return e.apply(this,arguments)}}(),pp=function(){var e=Cb()(function(u){var w,I;return Im(this,function(U){switch(U.label){case 0:return[4,Cn(u)];case 1:if(w=U.sent(),"excalidrawlib"!==(I=JSON.parse(w)).type)throw Error(Rb("alerts.couldNotLoadInvalidFile"));return[2,I]}})});return function(u){return e.apply(this,arguments)}}(),Jm=function(){var e=Cb()(function(u){return Im(this,function(w){return[2,new Promise(function(I,U){try{u.toBlob(function(ba){if(!ba)return U(new pn(Rb("canvasError.canvasTooBig"),
"CANVAS_POSSIBLY_TOO_BIG"));I(ba)})}catch(ba){U(ba)}})]})});return function(u){return e.apply(this,arguments)}}(),Xj=function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};
case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?
Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Lm="",Km=!1,Rh="clipboard"in navigator&&"readText"in navigator.clipboard,Yj="clipboard"in navigator&&"writeText"in navigator.clipboard,Fk="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,
Ek=function(){var e=Cb()(function(u,w){var I,U,ba;return Xj(this,function(wa){switch(wa.label){case 0:I={type:"excalidraw/elements",created:Date.now(),elements:mf(u,w)},Lm=U=JSON.stringify(I),wa.label=1;case 1:return wa.trys.push([1,3,,4]),Km=!1,[4,Gb(U)];case 2:return wa.sent(),[3,4];case 3:return ba=wa.sent(),Km=!0,console.error(ba),[3,4];case 4:return[2]}})});return function(u,w){return e.apply(this,arguments)}}(),M=function(){if(!Lm)return{};try{return JSON.parse(Lm)}catch(e){return console.error(e),
{}}},ea=function(e){e=function(u){var w=u.trim().split("\n").map(function(U){return U.trim().split("\t")});if(w.length&&2!==w[0].length&&(w=u.trim().split("\n").map(function(U){return U.trim().split(",")})),0===w.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var I=w[0].length;if(!w.every(function(U){return U.length===I}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};u=In(w);return"VALID_SPREADSHEET"!==u.type&&(w=In(function(U){for(var ba=[],wa=0;wa<
U[0].length;wa++){for(var va=[],Ca=0;Ca<U.length;Ca++)va.push(U[Ca][wa]);ba.push(va)}return ba}(w)),"VALID_SPREADSHEET"===w.type)?w:u}(e);return"VALID_SPREADSHEET"===e.type?{spreadsheet:e.spreadsheet}:null},Ba=function(){var e=Cb()(function(u){var w,I,U;return Xj(this,function(ba){switch(ba.label){case 0:return ba.trys.push([0,5,,6]),u?(I=null===(w=u.clipboardData)||void 0===w?void 0:w.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(U=Rh)?[4,navigator.clipboard.readText()]:[3,3];case 2:U=
ba.sent(),ba.label=3;case 3:I=U,ba.label=4;case 4:return[2,I||""];case 5:return ba.sent(),[2,""];case 6:return[2]}})});return function(u){return e.apply(this,arguments)}}(),bb=function(){var e=Cb()(function(u){var w,I,U,ba;return Xj(this,function(wa){switch(wa.label){case 0:return[4,Ba(u)];case 1:if(!(w=wa.sent())||w.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,M()];if(I=ea(w))return[2,I];U=M();try{return ba=JSON.parse(w),"excalidraw/elements"===(null==(va=ba)?void 0:va.type)&&(null==
U||!U.created||U.created<ba.created)?[2,{elements:ba.elements}]:[2,U]}catch(Ca){return[2,Km&&U.elements?U:{text:w}]}}var va})});return function(u){return e.apply(this,arguments)}}(),ub=function(){var e=Cb()(function(u){var w;return Xj(this,function(I){switch(I.label){case 0:return[4,Jm(u)];case 1:return w=I.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":w})])];case 2:return I.sent(),[2]}})});return function(u){return e.apply(this,arguments)}}(),Gb=function(){var e=Cb()(function(u){var w,
I;return Xj(this,function(U){switch(U.label){case 0:if(w=!1,!Yj)return[3,4];U.label=1;case 1:return U.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(u||"")];case 2:return U.sent(),w=!0,[3,4];case 3:return I=U.sent(),console.error(I),[3,4];case 4:if(U=!w){var ba=u||" ",wa="rtl"===document.documentElement.getAttribute("dir");U=document.createElement("textarea");U.style.border="0";U.style.padding="0";U.style.margin="0";U.style.position="absolute";U.style[wa?"right":"left"]="-9999px";U.style.top=
"".concat(window.pageYOffset||document.documentElement.scrollTop,"px");U.style.fontSize="12pt";U.setAttribute("readonly","");U.value=ba;document.body.appendChild(U);ba=!1;try{U.select(),U.setSelectionRange(0,U.value.length),ba=document.execCommand("copy")}catch(va){console.error(va)}U=!(U.remove(),ba)}if(U)throw Error("couldn't copy");return[2]}})});return function(u){return e.apply(this,arguments)}}(),ic=function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");
for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===
Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},wc=function(){var e=
Cb()(function(u,w,I,U,ba){var wa,va,Ca,Qa,Ja,hb,nb,ob,ac,Ub=ba.exportBackground,uc=ba.exportPadding,Zc=void 0===uc?10:uc,cd=ba.viewBackgroundColor,pd=ba.name;uc=ba.scale;var ce=void 0===uc?1:uc,be=ba.shouldAddWatermark;return ic(this,function(Ce){switch(Ce.label){case 0:if(0===w.length)throw Error(Rb("alerts.cannotExportEmptyCanvas"));return"svg"!==u&&"clipboard-svg"!==u?[3,7]:(va=Pl,Ca=[w],Qa={exportBackground:Ub,exportWithDarkMode:I.exportWithDarkMode,viewBackgroundColor:cd,exportPadding:Zc,scale:ce,
shouldAddWatermark:be},I.exportEmbedScene&&"svg"===u?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,3]);case 1:return[4,Ce.sent().encodeSvgMetadata({text:rm(w,I)})];case 2:return Ja=Ce.sent(),[3,4];case 3:Ja=void 0,Ce.label=4;case 4:return wa=va.apply(void 0,Ca.concat([(Qa.metadata=Ja,Qa)])),"svg"!==u?[3,6]:[4,Mg(new Blob([wa.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(pd,".svg"),extensions:[".svg"]})];case 5:return Ce.sent(),[2];case 6:if("clipboard-svg"===u)return Gb(wa.outerHTML),
[2];Ce.label=7;case 7:return(hb=vm(w,I,{exportBackground:Ub,viewBackgroundColor:cd,exportPadding:Zc,scale:ce,shouldAddWatermark:be})).style.display="none",document.body.appendChild(hb),"png"!==u?[3,13]:(nb="".concat(pd,".png"),[4,Jm(hb)]);case 8:return ob=Ce.sent(),I.exportEmbedScene?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,11];case 9:return[4,Ce.sent().encodePngMetadata({blob:ob,metadata:rm(w,I)})];case 10:ob=Ce.sent(),Ce.label=11;case 11:return[4,Mg(ob,{fileName:nb,extensions:[".png"]})];
case 12:return Ce.sent(),[3,17];case 13:if("clipboard"!==u)return[3,17];Ce.label=14;case 14:return Ce.trys.push([14,16,,17]),[4,ub(hb)];case 15:return Ce.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(ac=Ce.sent()).name)throw ac;throw Error(Rb("alerts.couldNotCopyToClipboard"));case 17:return hb!==U&&hb.remove(),[2]}})});return function(u,w,I,U,ba){return e.apply(this,arguments)}}(),Hc=function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");
for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===
Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Sc,id,
Ld;fe({name:"changeProjectName",perform:function(e,u,w){return Qg("change","title"),{appState:Xa(Xa({},u),{},{name:w}),commitToHistory:!1}},PanelComponent:function(e){var u=e.appState,w=e.updateData;return V().createElement(Bi,{label:Rb("labels.fileTitle"),value:u.name||"Unnamed",onChange:function(I){return w(I)}})}});fe({name:"changeExportBackground",perform:function(e,u,w){return{appState:Xa(Xa({},u),{},{exportBackground:w}),commitToHistory:!1}},PanelComponent:function(e){var u=e.appState,w=e.updateData;
return V().createElement("label",null,V().createElement("input",{type:"checkbox",checked:u.exportBackground,onChange:function(I){return w(I.target.checked)}})," ",Rb("labels.withBackground"))}});fe({name:"changeExportEmbedScene",perform:function(e,u,w){return{appState:Xa(Xa({},u),{},{exportEmbedScene:w}),commitToHistory:!1}},PanelComponent:function(e){var u=e.appState,w=e.updateData;return V().createElement("label",{style:{display:"flex"}},V().createElement("input",{type:"checkbox",checked:u.exportEmbedScene,
onChange:function(I){return w(I.target.checked)}})," ",Rb("labels.exportEmbedScene"),V().createElement(Fj,{label:Rb("labels.exportEmbedScene_details"),position:"above",long:!0},V().createElement("div",{className:"TooltipIcon"},$c)))}});fe({name:"changeShouldAddWatermark",perform:function(e,u,w){return{appState:Xa(Xa({},u),{},{shouldAddWatermark:w}),commitToHistory:!1}},PanelComponent:function(e){var u=e.appState,w=e.updateData;return V().createElement("label",null,V().createElement("input",{type:"checkbox",
checked:u.shouldAddWatermark,onChange:function(I){return w(I.target.checked)}})," ",Rb("labels.addWatermark"))}});fe({name:"saveScene",perform:(Sc=Cb()(function(e,u,w){var I,U,ba;return Hc(this,function(wa){switch(wa.label){case 0:I=!!u.fileHandle,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,bm(e,u)];case 2:return U=wa.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},u),{},{fileHandle:U,toastMessage:I?U.name?Rb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(U.name,'"')):
Rb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(ba=wa.sent())?void 0:ba.name)&&console.error(ba),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(e,u,w){return Sc.apply(this,arguments)}),keyTest:function(e){return"s"===e.key&&e[Te]&&!e.shiftKey},PanelComponent:function(e){var u=e.updateData;return V().createElement(Ye,{type:"button",icon:te,title:Rb("buttons.save"),"aria-label":Rb("buttons.save"),showAriaLabel:Pe(),onClick:function(){return u(null)}})}});fe({name:"saveAsScene",
perform:(id=Cb()(function(e,u,w){var I,U;return Hc(this,function(ba){switch(ba.label){case 0:return ba.trys.push([0,2,,3]),[4,bm(e,Xa(Xa({},u),{},{fileHandle:null}))];case 1:return I=ba.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},u),{},{fileHandle:I})}];case 2:return"AbortError"!==(null==(U=ba.sent())?void 0:U.name)&&console.error(U),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(e,u,w){return id.apply(this,arguments)}),keyTest:function(e){return"s"===e.key&&e.shiftKey&&e[Te]},
PanelComponent:function(e){var u=e.updateData;return V().createElement(Ye,{type:"button",icon:Dm,title:Rb("buttons.saveAs"),"aria-label":Rb("buttons.saveAs"),showAriaLabel:Pe(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return u(null)}})}});fe({name:"loadScene",perform:(Ld=Cb()(function(e,u){var w,I,U,ba;return Hc(this,function(wa){switch(wa.label){case 0:return wa.trys.push([0,2,,3]),[4,ln(u)];case 1:return w=wa.sent(),I=w.elements,U=w.appState,
[2,{elements:I,appState:U,commitToHistory:!0}];case 2:return"AbortError"===(null==(ba=wa.sent())?void 0:ba.name)?[2,!1]:[2,{elements:e,appState:Xa(Xa({},u),{},{errorMessage:ba.message}),commitToHistory:!1}];case 3:return[2]}})}),function(e,u){return Ld.apply(this,arguments)}),keyTest:function(e){return e[Te]&&"o"===e.key},PanelComponent:function(e){var u=e.updateData;e.appState;return V().createElement(Ye,{type:"button",icon:om,title:Rb("buttons.load"),"aria-label":Rb("buttons.load"),showAriaLabel:Pe(),
onClick:u})}});fe({name:"exportWithDarkMode",perform:function(e,u,w){return{appState:Xa(Xa({},u),{},{exportWithDarkMode:w}),commitToHistory:!1}},PanelComponent:function(e){var u=e.appState,w=e.updateData;return V().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},V().createElement(jk,{value:u.exportWithDarkMode?"dark":"light",onChange:function(I){w("dark"===I)},title:Rb("labels.toggleExportColorScheme")}))}});var Wd="{}",gf=fe({name:"copyStyles",
perform:function(e,u){e=e.find(function(w){return u.selectedElementIds[w.id]});return e&&(Wd=JSON.stringify(e)),{appState:pb(pb({},u),{},{toastMessage:Rb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[Te]&&e.altKey&&"KeyC"===e.code}}),Ze=fe({name:"pasteStyles",perform:function(e,u){var w=JSON.parse(Wd);return"text"!==(null==w?void 0:w.type)&&"diamond"!==(null==w?void 0:w.type)&&"rectangle"!==(null==w?void 0:w.type)&&"ellipse"!==(null==
w?void 0:w.type)&&"arrow"!==(null==w?void 0:w.type)&&"draw"!==(null==w?void 0:w.type)&&"line"!==(null==w?void 0:w.type)?{elements:e,commitToHistory:!1}:{elements:e.map(function(I){return u.selectedElementIds[I.id]?(I=wg(I,{backgroundColor:null==w?void 0:w.backgroundColor,strokeWidth:null==w?void 0:w.strokeWidth,strokeColor:null==w?void 0:w.strokeColor,strokeStyle:null==w?void 0:w.strokeStyle,fillStyle:null==w?void 0:w.fillStyle,opacity:null==w?void 0:w.opacity,roughness:null==w?void 0:w.roughness}),
Ud(I)&&($e(I,{fontSize:(null==w?void 0:w.fontSize)||Sa.n5,fontFamily:(null==w?void 0:w.fontFamily)||Sa.rk,textAlign:(null==w?void 0:w.textAlign)||Sa.Hg}),sk(I)),I):I}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[Te]&&e.altKey&&"KeyV"===e.code}}),ei=function(e){return V().createElement("label",{title:"".concat(e.title," — ?"),className:"help-icon"},V().createElement("div",{onClick:e.onClick},$c))};fe({name:"toggleCanvasMenu",perform:function(e,u){return{appState:kc(kc({},
u),{},{openMenu:"canvas"===u.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var u=e.appState;e=e.updateData;return V().createElement(Ye,{type:"button",icon:Uk,"aria-label":Rb("buttons.menu"),onClick:e,selected:"canvas"===u.openMenu})}});fe({name:"toggleEditMenu",perform:function(e,u){return{appState:kc(kc({},u),{},{openMenu:"shape"===u.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var u=e.elements,w=e.appState;e=e.updateData;return V().createElement(Ye,
{visible:nh(w,Xd(u)),type:"button",icon:Kh,"aria-label":Rb("buttons.edit"),onClick:e,selected:"shape"===w.openMenu})}});fe({name:"toggleFullScreen",perform:function(){return sh()||document.documentElement.requestFullscreen(),sh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(e){return"KeyF"===e.code&&!e[Te]}});fe({name:"toggleShortcuts",perform:function(e,u){return{appState:kc(kc({},u),{},{showHelpDialog:!u.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(e){e=e.updateData;
return V().createElement(ei,{title:Rb("helpDialog.title"),onClick:e})},keyTest:function(e){return"?"===e.key}});var al=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},ck=function(e,u){e=mf(Xd(e),u);return 2<=e.length&&!function(w){if(2<=w.length)for(var I=function(va){if(w.reduce(function(Ca,Qa){return Ca&&Qa.groupIds.includes(va)},!0))return{value:!0}},U=0,ba=w[0].groupIds;U<ba.length;U++){var wa=I(ba[U]);if("object"==typeof wa)return wa.value}return!1}(e)},Vf=fe({name:"group",
perform:function(e,u){var w=mf(Xd(e),u);if(2>w.length)return{appState:u,elements:e,commitToHistory:!1};var I=Ji(u);if(1===I.length&&(I=new Set(ek(e,I[0]).map(function(wa){return wa.id})),w=new Set(w.map(function(wa){return wa.id})),(new Set(al(al([],Array.from(I)),Array.from(w)))).size===I.size))return{appState:u,elements:e,commitToHistory:!1};var U=vi();I=e.map(function(wa){if(u.selectedElementIds[wa.id]){var va=u.editingGroupId;var Ca=Al([],wa.groupIds);va=va?Ca.indexOf(va):-1;Ca=(Ca.splice(-1<
va?va:Ca.length,0,U),Ca);wa=wg(wa,{groupIds:Ca})}return wa});e=ek(I,U);var ba=I.lastIndexOf(e[e.length-1]);w=I.slice(ba+1);I=I.slice(0,ba).filter(function(wa){return!wa.groupIds.includes(U)});e=al(al(al([],I),e),w);return{appState:dk(U,Dc(Dc({},u),{},{selectedGroupIds:{}}),Xd(e)),elements:e,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(e,u){return ck(e,u)},keyTest:function(e){return!e.shiftKey&&e[Te]&&"KeyG"===e.code},PanelComponent:function(e){var u=e.elements,
w=e.appState,I=e.updateData;return V().createElement(Ye,{hidden:!ck(u,w),type:"button",icon:V().createElement(kf,{appearance:w.appearance}),onClick:function(){return I(null)},title:"".concat(Rb("labels.group")," — ").concat(Nd("CtrlOrCmd+G")),"aria-label":Rb("labels.group"),visible:eg(Xd(u),w)})}}),wi=fe({name:"ungroup",perform:function(e,u){if(0===Ji(u).length)return{appState:u,elements:e,commitToHistory:!1};e=e.map(function(w){var I=function(U,ba){return U.filter(function(wa){return!ba[wa]})}(w.groupIds,
u.selectedGroupIds);return I.length===w.groupIds.length?w:wg(w,{groupIds:I})});return{appState:Th(Dc(Dc({},u),{},{selectedGroupIds:{}}),Xd(e)),elements:e,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[Te]&&"KeyG"===e.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(e,u){return 0<Ji(u).length},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement(Ye,{type:"button",hidden:0===Ji(w).length,icon:V().createElement(Qk,{appearance:w.appearance}),
onClick:function(){return I(null)},title:"".concat(Rb("labels.ungroup")," — ").concat(Nd("CtrlOrCmd+Shift+G")),"aria-label":Rb("labels.ungroup"),visible:eg(Xd(u),w)})}}),Mk=(h(1395),function(e){var u=e.children,w=e.color,I=e.border;e=e.onClick;return V().createElement("div",{className:"Avatar",style:{background:w,border:"1px solid ".concat(I)},onClick:e},u)});fe({name:"goToCollaborator",perform:function(e,u,w){return w?{appState:Tc(Tc(Tc({},u),Wi({scenePoint:w,viewportDimensions:{width:u.width,height:u.height},
zoom:u.zoom})),{},{openMenu:"canvas"===u.openMenu?null:u.openMenu}),commitToHistory:!1}:{appState:u,commitToHistory:!1}},PanelComponent:function(e){var u=e.appState,w=e.updateData;e=e.id;if(!e)return null;var I=u.collaborators.get(e);if(!I)return null;e=Ri(e,u);u=e.background;e=e.stroke;var U=function(ba){if(!ba)return"?";ba=ba.trim().split(" ");return 2>ba.length?ba[0].substring(0,2).toUpperCase():(ba[0][0]+ba[ba.length-1][0]).toUpperCase()}(I.username);return V().createElement(Mk,{color:u,border:e,
onClick:function(){return w(I.pointer)}},U)}});var Om=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},Ko=fe({name:"addToLibrary",perform:function(e,u){var w=mf(Xd(e),u);return kh.loadLibrary().then(function(I){kh.saveLibrary(Om(Om([],I),[w.map(Lj)]))}),!1},contextItemLabel:"labels.addToLibrary"}),Fn=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},ao=function(e){var u=new Map;return e.forEach(function(w){var I=0===w.groupIds.length?w.id:
w.groupIds[w.groupIds.length-1],U=u.get(I)||[];u.set(I,Fn(Fn([],U),[w]))}),Array.from(u.values())},vf=function(e,u,w){var I,U,ba,wa=w.axis;w=w.position;e=Zj(e);var va="x"===wa?["minX","maxX"]:["minY","maxY"],Ca=va[0];va=va[1];return pc(pc({},{x:0,y:0}),{},"start"===w?((I={})[wa]=u[Ca]-e[Ca],I):"end"===w?((U={})[wa]=u[va]-e[va],U):((ba={})[wa]=(u[Ca]+u[va])/2-(e[Ca]+e[va])/2,ba))},Zj=function(e){e=zg(e);return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},Wh=function(e,u){return 1<mf(Xd(e),u).length},
Ii=function(e,u,w){u=function(U,ba){var wa=ao(U),va=Zj(U);return wa.flatMap(function(Ca){var Qa=vf(Ca,va,ba);return Ca.map(function(Ja){return wg(Ja,{x:Ja.x+Qa.x,y:Ja.y+Qa.y})})})}(mf(Xd(e),u),w);var I=Zi(u);return e.map(function(U){return I[U.id]||U})},qn=(fe({name:"alignTop",perform:function(e,u){return{appState:u,elements:Ii(e,u,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[Te]&&e.shiftKey&&"ArrowUp"===e.key},PanelComponent:function(e){var u=e.elements,w=e.appState,
I=e.updateData;return V().createElement(Ye,{hidden:!Wh(u,w),type:"button",icon:V().createElement(Dh,{appearance:w.appearance}),onClick:function(){return I(null)},title:"".concat(Rb("labels.alignTop")," — ").concat(Nd("CtrlOrCmd+Shift+Up")),"aria-label":Rb("labels.alignTop"),visible:eg(Xd(u),w)})}}),fe({name:"alignBottom",perform:function(e,u){return{appState:u,elements:Ii(e,u,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[Te]&&e.shiftKey&&"ArrowDown"===e.key},PanelComponent:function(e){var u=
e.elements,w=e.appState,I=e.updateData;return V().createElement(Ye,{hidden:!Wh(u,w),type:"button",icon:V().createElement(pg,{appearance:w.appearance}),onClick:function(){return I(null)},title:"".concat(Rb("labels.alignBottom")," — ").concat(Nd("CtrlOrCmd+Shift+Down")),"aria-label":Rb("labels.alignBottom"),visible:eg(Xd(u),w)})}}),fe({name:"alignLeft",perform:function(e,u){return{appState:u,elements:Ii(e,u,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[Te]&&e.shiftKey&&
"ArrowLeft"===e.key},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement(Ye,{hidden:!Wh(u,w),type:"button",icon:V().createElement(Pj,{appearance:w.appearance}),onClick:function(){return I(null)},title:"".concat(Rb("labels.alignLeft")," — ").concat(Nd("CtrlOrCmd+Shift+Left")),"aria-label":Rb("labels.alignLeft"),visible:eg(Xd(u),w)})}}),fe({name:"alignRight",perform:function(e,u){return{appState:u,elements:Ii(e,u,{position:"end",axis:"x"}),commitToHistory:!0}},
keyTest:function(e){return e[Te]&&e.shiftKey&&"ArrowRight"===e.key},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement(Ye,{hidden:!Wh(u,w),type:"button",icon:V().createElement(ed,{appearance:w.appearance}),onClick:function(){return I(null)},title:"".concat(Rb("labels.alignRight")," — ").concat(Nd("CtrlOrCmd+Shift+Right")),"aria-label":Rb("labels.alignRight"),visible:eg(Xd(u),w)})}}),fe({name:"alignVerticallyCentered",perform:function(e,u){return{appState:u,
elements:Ii(e,u,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement(Ye,{hidden:!Wh(u,w),type:"button",icon:V().createElement(Vc,{appearance:w.appearance}),onClick:function(){return I(null)},title:Rb("labels.centerVertically"),"aria-label":Rb("labels.centerVertically"),visible:eg(Xd(u),w)})}}),fe({name:"alignHorizontallyCentered",perform:function(e,u){return{appState:u,elements:Ii(e,u,{position:"center",
axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement(Ye,{hidden:!Wh(u,w),type:"button",icon:V().createElement(Vk,{appearance:w.appearance}),onClick:function(){return I(null)},title:Rb("labels.centerHorizontally"),"aria-label":Rb("labels.centerHorizontally"),visible:eg(Xd(u),w)})}}),function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e}),dq=function(e){var u=new Map;return e.forEach(function(w){var I=
0===w.groupIds.length?w.id:w.groupIds[w.groupIds.length-1],U=u.get(I)||[];u.set(I,qn(qn([],U),[w]))}),Array.from(u.values())},wj=function(e){var u=zg(e);e=u[0];var w=u[1],I=u[2];u=u[3];return{minX:e,minY:w,maxX:I,maxY:u,width:I-e,height:u-w,midX:(e+I)/2,midY:(w+u)/2}},Jo=function(e,u){return 1<mf(Xd(e),u).length},Dn=function(e,u,w){u=function(U,ba){var wa="x"===ba.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],va=wa[0],Ca=wa[1],Qa=wa[2],Ja=wa[3],hb=wj(U);U=dq(U).map(function(pd){return[pd,
wj(pd)]}).sort(function(pd,ce){return pd[1][Ca]-ce[1][Ca]});for(var nb=wa=0;nb<U.length;nb++)wa+=U[nb][1][Ja];var ob=(hb[Ja]-wa)/(U.length-1);if(0>ob){var ac=U.findIndex(function(pd){return pd[1][va]===hb[va]}),Ub=U.findIndex(function(pd){return pd[1][Qa]===hb[Qa]}),uc=(U[Ub][1][Ca]-U[ac][1][Ca])/(U.length-1),Zc=U[ac][1][Ca];return U.flatMap(function(pd,ce){var be=pd[0];pd=pd[1];var Ce={x:0,y:0};return ce!==ac&&ce!==Ub&&(Zc+=uc,Ce[ba.axis]=Zc-pd[Ca]),be.map(function(ye){return wg(ye,{x:ye.x+Ce.x,
y:ye.y+Ce.y})})})}var cd=hb[va];return U.flatMap(function(pd){var ce=pd[0];pd=pd[1];var be={x:0,y:0};return be[ba.axis]=cd-pd[va],cd+=ob,cd+=pd[Ja],ce.map(function(Ce){return wg(Ce,{x:Ce.x+be.x,y:Ce.y+be.y})})})}(mf(Xd(e),u),w);var I=Zi(u);return e.map(function(U){return I[U.id]||U})},Zn=(fe({name:"distributeHorizontally",perform:function(e,u){return{appState:u,elements:Dn(e,u,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&"KeyH"===e.code},PanelComponent:function(e){var u=
e.elements,w=e.appState,I=e.updateData;return V().createElement(Ye,{hidden:!Jo(u,w),type:"button",icon:V().createElement(md,{appearance:w.appearance}),onClick:function(){return I(null)},title:"".concat(Rb("labels.distributeHorizontally")," — ").concat(Nd("Alt+H")),"aria-label":Rb("labels.distributeHorizontally"),visible:eg(Xd(u),w)})}}),fe({name:"distributeVertically",perform:function(e,u){return{appState:u,elements:Dn(e,u,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&
"KeyV"===e.code},PanelComponent:function(e){var u=e.elements,w=e.appState,I=e.updateData;return V().createElement(Ye,{hidden:!Jo(u,w),type:"button",icon:V().createElement(Lg,{appearance:w.appearance}),onClick:function(){return I(null)},title:"".concat(Rb("labels.distributeVertically")," — ").concat(Nd("Alt+V")),"aria-label":Rb("labels.distributeVertically"),visible:eg(Xd(u),w)})}}),function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");
for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===
Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),nn=
fe({name:"copy",perform:function(e,u){return Ek(Xd(e),u),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),cq=fe({name:"cut",perform:function(e,u,w,I){return nn.perform(e,u,w,I),Pg.perform(e,u,w,I)},contextItemLabel:"labels.cut",keyTest:function(e){return e[Te]&&"KeyX"===e.code}}),tp=fe({name:"copyAsSvg",perform:function(){var e=Cb()(function(u,w,I,U){var ba,wa;return Zn(this,function(va){switch(va.label){case 0:if(!U.canvas)return[2,{commitToHistory:!1}];ba=mf(Xd(u),w);va.label=1;case 1:return va.trys.push([1,
3,,4]),[4,wc("clipboard-svg",ba.length?ba:Xd(u),w,U.canvas,w)];case 2:return va.sent(),[2,{commitToHistory:!1}];case 3:return wa=va.sent(),console.error(wa),[2,{appState:$d($d({},w),{},{errorMessage:wa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(u,w,I,U){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),sp=fe({name:"copyAsPng",perform:function(){var e=Cb()(function(u,w,I,U){var ba,wa;return Zn(this,function(va){switch(va.label){case 0:if(!U.canvas)return[2,
{commitToHistory:!1}];ba=mf(Xd(u),w);va.label=1;case 1:return va.trys.push([1,3,,4]),[4,wc("clipboard",ba.length?ba:Xd(u),w,U.canvas,w)];case 2:return va.sent(),[2,{appState:$d($d({},w),{},{toastMessage:Rb("toast.copyToClipboardAsPng",{exportSelection:ba.length?Rb("toast.selection"):Rb("toast.canvas"),exportColorScheme:w.exportWithDarkMode?Rb("buttons.darkMode"):Rb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return wa=va.sent(),console.error(wa),[2,{appState:$d($d({},w),{},{errorMessage:wa.message}),
commitToHistory:!1}];case 4:return[2]}})});return function(u,w,I,U){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(e){return"KeyC"===e.code&&e.altKey&&e.shiftKey}}),qp=fe({name:"gridMode",perform:function(e,u){return Qg("view","mode","grid"),{appState:Mc(Mc({},u),{},{gridSize:this.checked(u)?null:Sa.k}),commitToHistory:!1}},checked:function(e){return null!==e.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[Te]&&"Quote"===e.code}}),
ge=fe({name:"zenMode",perform:function(e,u){return Qg("view","mode","zen"),{appState:xb(xb({},u),{},{zenModeEnabled:!this.checked(u)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[Te]&&e.altKey&&"KeyZ"===e.code}}),$n=fe({name:"stats",perform:function(e,u){return{appState:Yb(Yb({},u),{},{showStats:!this.checked(u)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title"}),rp=function(e,
u,w){if(!(u.multiElement||u.resizingElement||u.editingElement||u.draggingElement)){w=w();if(null===w)return{commitToHistory:!1};var I=Zi(e),U=w.elements,ba=Zi(U);e=e.filter(function(wa){return!ba.hasOwnProperty(wa.id)});U=U.map(function(wa){return wg(I[wa.id]||wa,wa)}).concat(e.map(function(wa){return wg(wa,{isDeleted:!0})}));return rj(U,e),{elements:U,appState:qd(qd({},u),w.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},um=function(){function e(u,w,I,U){var ba=this;this.actions=
{};this.renderAction=function(wa,va){if(ba.actions[wa]&&"PanelComponent"in ba.actions[wa]){var Ca=ba.actions[wa];wa=Ca.PanelComponent;return V().createElement(wa,{elements:ba.getElementsIncludingDeleted(),appState:ba.getAppState(),updateData:function(Qa){ba.updater(Ca.perform(ba.getElementsIncludingDeleted(),ba.getAppState(),Qa,ba.app))},id:va})}return null};this.updater=function(wa){if(!(wa&&"then"in wa))return u(wa);wa.then(function(va){return u(va)})};this.getAppState=w;this.getElementsIncludingDeleted=
I;this.app=U}return e.prototype.registerAction=function(u){this.actions[u.name]=u},e.prototype.registerAll=function(u){var w=this;u.forEach(function(I){return w.registerAction(I)})},e.prototype.handleKeyDown=function(u){var w=this,I=Object.values(this.actions).sort(function(U,ba){return(ba.keyPriority||0)-(U.keyPriority||0)}).filter(function(U){return U.keyTest&&U.keyTest(u,w.getAppState(),w.getElementsIncludingDeleted())});return 0!==I.length&&!(this.getAppState().viewModeEnabled&&!Object.values(Sa.EH).includes(I[0].name))&&
(u.preventDefault(),this.updater(I[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},e.prototype.executeAction=function(u){this.updater(u.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},e}(),Rm=function(e){e=Array.from(e.values());return{x:co(e,function(u){return u.x})/e.length,y:co(e,function(u){return u.y})/e.length}},bo=function(e){var u=e[0];e=e[1];return Math.hypot(u.x-e.x,u.y-e.y)},co=function(e,u){return e.reduce(function(w,
I){return w+u(I)},0)},Lo,eq=function(){function e(){var u=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(w,I){return u.dehydrateHistoryEntry({appState:{selectedElementIds:w.selectedElementIds,viewBackgroundColor:w.viewBackgroundColor,editingLinearElement:w.editingLinearElement,editingGroupId:w.editingGroupId,name:w.name},elements:I.reduce(function(U,ba){if(Cg(ba)&&w.multiElement&&w.multiElement.id===ba.id){if(w.multiElement&&
w.multiElement.id===ba.id&&2>ba.points.length)return U;U.push(le(le({},ba),{},{points:ba.lastCommittedPoint!==ba.points[ba.points.length-1]?ba.points.slice(0,-1):ba.points}))}else U.push(ba);return U},[])})}}return e.prototype.hydrateHistoryEntry=function(u){var w=u.elements,I=this;return{appState:JSON.parse(u.appState),elements:w.map(function(U){var ba,wa=null===(ba=I.elementCache.get(U.id))||void 0===ba?void 0:ba.get(U.versionNonce);if(!wa)throw Error("Element not found: ".concat(U.id,":").concat(U.versionNonce));
return wa})}},e.prototype.dehydrateHistoryEntry=function(u){var w=u.elements,I=this;return{appState:JSON.stringify(u.appState),elements:w.map(function(U){I.elementCache.has(U.id)||I.elementCache.set(U.id,new Map);var ba=I.elementCache.get(U.id);return ba.has(U.versionNonce)||ba.set(U.versionNonce,Lj(U)),{id:U.id,versionNonce:U.versionNonce}})}},e.prototype.getSnapshotForTest=function(){var u=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(w){return u.hydrateHistoryEntry(w)}),
redoStack:this.redoStack.map(function(w){return u.hydrateHistoryEntry(w)})}},e.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},e.prototype.shouldCreateEntry=function(u){var w,I=this.lastEntry;if(!I||u.elements.length!==I.elements.length)return!0;for(var U=u.elements.length-1;-1<U;U--){var ba=u.elements[U],wa=I.elements[U];if(!ba||!wa||ba.id!==wa.id||ba.versionNonce!==wa.versionNonce)return!0}for(w in u.appState){var va,Ca;
if(("editingLinearElement"!==w||(null===(va=u.appState[w])||void 0===va?void 0:va.elementId)!==(null===(Ca=I.appState[w])||void 0===Ca?void 0:Ca.elementId))&&"selectedElementIds"!==w&&u.appState[w]!==I.appState[w])return!0}return!1},e.prototype.pushEntry=function(u,w){u=this.generateEntry(u,w);(w=this.hydrateHistoryEntry(u))&&this.shouldCreateEntry(w)&&(this.stateHistory.push(u),this.lastEntry=w,this.clearRedoStack())},e.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},
e.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var u=this.redoStack.pop();return void 0!==u?(this.stateHistory.push(u),this.hydrateHistoryEntry(u)):null},e.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var u=this.stateHistory.pop(),w=this.stateHistory[this.stateHistory.length-1];return void 0!==u?(this.redoStack.push(u),this.hydrateHistoryEntry(w)):null},e.prototype.setCurrentState=function(u,w){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(u,
w))},e.prototype.resumeRecording=function(){this.recording=!0},e.prototype.record=function(u,w){this.recording&&(this.pushEntry(u,w),this.recording=!1)},e}(),wm=[{icon:V().createElement("svg",{viewBox:"0 0 320 512",className:""},V().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:V().createElement("svg",{viewBox:"0 0 448 512"},V().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:V().createElement("svg",{viewBox:"0 0 223.646 223.646"},V().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:V().createElement("svg",{viewBox:"0 0 512 512"},V().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:V().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},V().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:V().createElement("svg",{viewBox:"0 0 6 6"},
V().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:V().createElement("svg",{viewBox:"0 0 512 512"},V().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:V().createElement("svg",{viewBox:"0 0 448 512"},V().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Io=(h(4518),{cut:[Nd("CtrlOrCmd+X")],copy:[Nd("CtrlOrCmd+C")],
paste:[Nd("CtrlOrCmd+V")],copyStyles:[Nd("CtrlOrCmd+Alt+C")],pasteStyles:[Nd("CtrlOrCmd+Alt+V")],selectAll:[Nd("CtrlOrCmd+A")],deleteSelectedElements:[Nd("Del")],duplicateSelection:[Nd("CtrlOrCmd+D"),Nd("Alt+".concat(Rb("helpDialog.drag")))],sendBackward:[Nd("CtrlOrCmd+[")],bringForward:[Nd("CtrlOrCmd+]")],sendToBack:[Nd(Hg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Nd(Hg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Nd("Shift+Alt+C")],copyAsSvg:[],group:[Nd("CtrlOrCmd+G")],ungroup:[Nd("CtrlOrCmd+Shift+G")],
gridMode:[Nd("CtrlOrCmd+'")],zenMode:[Nd("Alt+Z")],stats:[],addToLibrary:[],viewMode:[Nd("Alt+R")]}),bq=function(e){var u,w=e.options,I=e.onCloseRequest,U=e.top,ba=e.left,wa=e.actionManager,va=e.appState;e=!(null===(u=document.querySelector(".excalidraw"))||void 0===u||!u.classList.contains("Appearance_dark"));return V().createElement("div",{className:mc("excalidraw",{"Appearance_dark Appearance_dark-background-none":e})},V().createElement(gb,{onCloseRequest:I,top:U,left:ba,fitInViewport:!0},V().createElement("ul",
{className:"context-menu",onContextMenu:function(Ca){return Ca.preventDefault()}},w.map(function(Ca,Qa){var Ja;if("separator"===Ca)return V().createElement("hr",{key:Qa,className:"context-menu-option-separator"});var hb,nb=Ca.name,ob=Ca.contextItemLabel?Rb(Ca.contextItemLabel):"";return V().createElement("li",{key:Qa,"data-testid":nb,onClick:I},V().createElement("button",{className:mc("context-menu-option",{dangerous:"deleteSelectedElements"===nb,checkmark:null===(Ja=Ca.checked)||void 0===Ja?void 0:
Ja.call(Ca,va)}),onClick:function(){return wa.executeAction(Ca)}},V().createElement("div",{className:"context-menu-option__label"},ob),V().createElement("kbd",{className:"context-menu-option__shortcut"},nb?(hb=Io[nb])&&0<hb.length?hb[0]:"":"")))}))))},Ho=function(){if(Lo)return Lo;var e=document.createElement("div");return document.body.appendChild(e),Lo=e},Pm=function(){(0,Sf.unmountComponentAtNode)(Ho())};const En=function(e){var u=[];e.options.forEach(function(w){w&&u.push(w)});u.length&&(0,Sf.render)(V().createElement(bq,
{top:e.top,left:e.left,options:u,onCloseRequest:Pm,actionManager:e.actionManager,appState:e.appState}),Ho())};h(1575);const cl=function(e){var u=e.children,w=e.gap,I=e.align,U=e.justifyContent,ba=e.className;e=e.style;return V().createElement("div",{className:mc("Stack Stack_horizontal",ba),style:Pc({"--gap":w,alignItems:I,justifyContent:U},e)},u)},dl=function(e){var u=e.children,w=e.gap,I=e.align,U=e.justifyContent;e=e.className;return V().createElement("div",{className:mc("Stack Stack_vertical",
e),style:{"--gap":w,justifyItems:I,justifyContent:U}},u)};var Zq=function(e){var u=e.appState,w=e.renderAction,I=e.elementType;e=mk(Xd(e.elements),u);u=!!u.editingElement;var U=Pe(),ba="rtl"===document.documentElement.getAttribute("dir"),wa=Oj(I)||e.some(function(Ca){return Oj(Ca.type)&&(Qa=Ca.backgroundColor,Ja=5===Qa.length&&"0"===Qa.substr(4,1),hb=9===Qa.length&&"00"===Qa.substr(7,2),!(Ja||hb||Qa===Gk.elementBackground[0]));var Qa,Ja,hb}),va=Oj(I)||e.some(function(Ca){return Oj(Ca.type)});return V().createElement("div",
{className:"panelColumn"},w("changeStrokeColor"),va&&w("changeBackgroundColor"),wa&&w("changeFillStyle"),(Nf(I)||e.some(function(Ca){return Nf(Ca.type)}))&&V().createElement(V().Fragment,null,w("changeStrokeWidth"),w("changeStrokeStyle"),w("changeSloppiness")),(tk(I)||e.some(function(Ca){return tk(Ca.type)}))&&V().createElement(V().Fragment,null,w("changeSharpness")),("text"===I||e.some(function(Ca){return"text"===Ca.type}))&&V().createElement(V().Fragment,null,w("changeFontSize"),w("changeFontFamily"),
w("changeTextAlign")),("arrow"===I||e.some(function(Ca){return"arrow"===Ca.type}))&&V().createElement(V().Fragment,null,w("changeArrowhead")),w("changeOpacity"),V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.layers")),V().createElement("div",{className:"buttonList"},w("sendToBack"),w("sendBackward"),w("bringToFront"),w("bringForward"))),1<e.length&&V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.align")),V().createElement("div",{className:"buttonList"},
ba?V().createElement(V().Fragment,null,w("alignRight"),w("alignHorizontallyCentered"),w("alignLeft")):V().createElement(V().Fragment,null,w("alignLeft"),w("alignHorizontallyCentered"),w("alignRight")),2<e.length&&w("distributeHorizontally"),V().createElement("div",{className:"iconRow"},w("alignTop"),w("alignVerticallyCentered"),w("alignBottom"),2<e.length&&w("distributeVertically")))),!U&&!u&&0<e.length&&V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.actions")),V().createElement("div",
{className:"buttonList"},w("duplicateSelection"),w("deleteSelectedElements"),w("group"),w("ungroup"))))},Rr=V().createElement("svg",{viewBox:"0 0 512 512"},V().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
aq=function(e){var u=e.canvas,w=e.elementType,I=e.setAppState,U=e.isLibraryOpen;return V().createElement(V().Fragment,null,wm.map(function(ba,wa){var va=ba.value,Ca=ba.icon,Qa=ba.key;ba=Rb("toolBar.".concat(va));Qa="".concat(ij("string"==typeof Qa?Qa:Qa[0])," ").concat(Rb("helpDialog.or")," ").concat(wa+1);return V().createElement(Ye,{className:"Shape",key:va,type:"radio",icon:Ca,checked:w===va,name:"editor-current-shape",title:"".concat(ij(ba)," — ").concat(Qa),keyBindingLabel:"".concat(wa+1),"aria-label":ij(ba),
"aria-keyshortcuts":Qa,"data-testid":va,onChange:function(){I({elementType:va,multiElement:null,selectedElementIds:{}});si(u,va);I({})}})}),V().createElement(Ye,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Rr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(ij(Rb("toolBar.library"))," — 9"),"aria-label":ij(Rb("toolBar.library")),onClick:function(){I({isLibraryOpen:!U})}}))},Qr=function(e){var u=e.renderAction;e=e.zoom;return V().createElement(dl,
{gap:1},V().createElement(cl,{gap:1,align:"center"},u("zoomIn"),u("zoomOut"),u("resetZoom"),V().createElement("div",{style:{marginInlineStart:4}},(100*e.value).toFixed(0),"%")))},Yq=function(e){var u=e.appState,w=e.setAppState;e=e.actionManager;return V().createElement("div",{style:{display:"flex"}},e.renderAction("changeViewBackgroundColor"),V().createElement("div",{style:{marginInlineStart:"0.25rem"}},V().createElement(jk,{value:u.appearance,onChange:function(I){w({appearance:I})}})))};h(3211);
const $q=function(e){var u=e.isCollaborating,w=e.collaboratorCount;e=e.onClick;return V().createElement(V().Fragment,null,V().createElement(Ye,{className:mc("CollabButton",{"is-collaborating":u}),onClick:e,icon:Kl,type:"button",title:Rb("labels.liveCollaboration"),"aria-label":Rb("labels.liveCollaboration"),showAriaLabel:Pe()},0<w&&V().createElement("div",{className:"CollabButton-collaborators"},w)))};h(3040);h(7428);var jl=V().forwardRef(function(e,u){var w=e.children,I=e.padding,U=e.className;e=
e.style;return V().createElement("div",{className:mc("Island",U),style:tb({"--padding":I},e),ref:u},w)}),Sr=(h(205),function(e){var u=up();return u?(0,Sf.createPortal)(V().createElement("div",{className:mc("Modal",e.className),role:"dialog","aria-modal":"true",onKeyDown:function(w){"Escape"===w.key&&(w.nativeEvent.stopImmediatePropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy},V().createElement("div",{className:"Modal__background",onClick:e.onCloseRequest}),V().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")}},e.children)),u):null}),up=function(){var e=(0,ha.useState)(null),u=e[0],w=e[1];return(0,ha.useLayoutEffect)(function(){var I,U=!(null===(I=document.querySelector(".excalidraw"))||void 0===I||!I.classList.contains("Appearance_dark")),ba=document.createElement("div");return ba.classList.add("excalidraw","excalidraw-modal-container"),U&&(ba.classList.add("Appearance_dark"),ba.classList.add("Appearance_dark-background-none")),
document.body.appendChild(ba),w(ba),function(){document.body.removeChild(ba)}},[]),u},D=function(e){var u=function(){var U=(0,ha.useState)(null),ba=U[1];return[U[0],(0,ha.useCallback)(function(wa){return ba(wa)},[])]}(),w=u[0];u=u[1];(0,ha.useEffect)(function(){if(w){var U=I(w);0<U.length&&!1!==e.autofocus&&(U[1]||U[0]).focus();var ba=function(wa){if("Tab"===wa.key){var va=I(w),Ca=document.activeElement,Qa=va.findIndex(function(Ja){return Ja===Ca});0===Qa&&wa.shiftKey?(va[va.length-1].focus(),wa.preventDefault()):
Qa!==va.length-1||wa.shiftKey||(va[0].focus(),wa.preventDefault())}};return w.addEventListener("keydown",ba),function(){return w.removeEventListener("keydown",ba)}}},[w,e.autofocus]);var I=function(U){return(U=U.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(U):[]};return V().createElement(Sr,{className:mc("Dialog",e.className),labelledBy:"dialog-title",maxWidth:e.small?550:800,onCloseRequest:e.onCloseRequest},V().createElement(jl,{ref:u},V().createElement("h2",
{id:"dialog-title",className:"Dialog__title"},V().createElement("span",{className:"Dialog__titleContent"},e.title),V().createElement("button",{className:"Modal__close",onClick:e.onCloseRequest,"aria-label":Rb("buttons.close")},Pe()?fh:tj)),V().createElement("div",{className:"Dialog__content"},e.children)))},O=function(e){var u=e.message,w=e.onClose,I=(0,ha.useState)(!!u);e=I[0];var U=I[1];I=V().useCallback(function(){U(!1);w&&w()},[w]);return V().createElement(V().Fragment,null,e&&V().createElement(D,
{small:!0,onCloseRequest:I,title:Rb("errorDialog.title")},V().createElement("div",null,u.split("\n").map(function(ba){return V().createElement(V().Fragment,null,ba,V().createElement("br",null))}))))},na=(h(8623),[1,2,3]),Ia=na.includes(devicePixelRatio)?devicePixelRatio:1,ab="filter"in document.createElement("canvas").getContext("2d"),qb=function(){return V().createElement("div",null,V().createElement("h3",null,Rb("canvasError.cannotShowPreview")),V().createElement("p",null,V().createElement("span",
null,Rb("canvasError.canvasTooBig"))),V().createElement("em",null,"(",Rb("canvasError.canvasTooBigTip"),")"))},Fb=function(e,u){(0,Sf.unmountComponentAtNode)(u);u.innerHTML="";e instanceof HTMLCanvasElement?u.appendChild(e):(0,Sf.render)(V().createElement(qb,null),u)},$b=function(e){var u=e.elements,w=e.appState,I=e.exportPadding,U=void 0===I?10:I;I=e.actionManager;var ba=e.onExportToPng,wa=e.onExportToSvg,va=e.onExportToClipboard,Ca=e.onExportToBackend,Qa=eg(u,w);e=(0,ha.useState)(Ia);var Ja=e[0],
hb=e[1];e=(0,ha.useState)(Qa);var nb=e[0],ob=e[1],ac=(0,ha.useRef)(null),Ub=w.exportBackground,uc=w.viewBackgroundColor,Zc=w.shouldAddWatermark,cd=nb?mf(u,w):u;return(0,ha.useEffect)(function(){ob(Qa)},[Qa]),(0,ha.useEffect)(function(){var pd=ac.current;if(pd)try{var ce=vm(cd,w,{exportBackground:Ub,viewBackgroundColor:uc,exportPadding:U,scale:Ja,shouldAddWatermark:Zc});Jm(ce).then(function(){Fb(ce,pd)}).catch(function(be){console.error(be);Fb(new pn,pd)})}catch(be){console.error(be),Fb(new pn,pd)}},
[w,cd,Ub,U,uc,Ja,Zc]),V().createElement("div",{className:"ExportDialog"},V().createElement("div",{className:"ExportDialog__preview",ref:ac}),ab&&I.renderAction("exportWithDarkMode"),V().createElement(dl,{gap:2,align:"center"},V().createElement("div",{className:"ExportDialog__actions"},V().createElement(cl,{gap:2},V().createElement(Ye,{type:"button",label:"PNG",title:Rb("buttons.exportToPng"),"aria-label":Rb("buttons.exportToPng"),onClick:function(){return ba(cd,Ja)}}),V().createElement(Ye,{type:"button",
label:"SVG",title:Rb("buttons.exportToSvg"),"aria-label":Rb("buttons.exportToSvg"),onClick:function(){return wa(cd,Ja)}}),Fk&&V().createElement(Ye,{type:"button",icon:vk,title:Rb("buttons.copyPngToClipboard"),"aria-label":Rb("buttons.copyPngToClipboard"),onClick:function(){return va(cd,Ja)}}),Ca&&V().createElement(Ye,{type:"button",icon:ul,title:Rb("buttons.getShareableLink"),"aria-label":Rb("buttons.getShareableLink"),onClick:function(){return Ca(cd)}})),V().createElement("div",{className:"ExportDialog__name"},
I.renderAction("changeProjectName")),V().createElement(cl,{gap:2},na.map(function(pd){var ce=function(Ce,ye,Ue,ud){Ce=Yn(Ce,Ue);ye=Hm(Ce,ye,Ue).map(function(Qd){return Math.trunc(Qd*ud)});return[ye[2],ye[3]]}(cd,U,Zc,pd),be=ce[0];ce=ce[1];be="".concat(Rb("buttons.scale")," ").concat(pd,"x (").concat(be,"x").concat(ce,")");return V().createElement(Ye,{key:pd,size:"s",type:"radio",icon:"".concat(pd,"x"),name:"export-canvas-scale",title:be,"aria-label":be,id:"export-canvas-scale",checked:pd===Ja,onChange:function(){return hb(pd)}})}))),
I.renderAction("changeExportBackground"),Qa&&V().createElement("div",null,V().createElement("label",null,V().createElement("input",{type:"checkbox",checked:nb,onChange:function(pd){return ob(pd.currentTarget.checked)}})," ",Rb("labels.onlySelected"))),I.renderAction("changeExportEmbedScene"),I.renderAction("changeShouldAddWatermark")))},xc=function(e){var u=e.elements,w=e.appState,I=e.exportPadding;I=void 0===I?10:I;var U=e.actionManager,ba=e.onExportToPng,wa=e.onExportToSvg,va=e.onExportToClipboard;
e=e.onExportToBackend;var Ca=(0,ha.useState)(!1),Qa=Ca[0],Ja=Ca[1],hb=(0,ha.useRef)(null);Ca=V().useCallback(function(){var nb;Ja(!1);null===(nb=hb.current)||void 0===nb||nb.focus()},[]);return V().createElement(V().Fragment,null,V().createElement(Ye,{onClick:function(){Ja(!0)},icon:ph,type:"button","aria-label":Rb("buttons.export"),showAriaLabel:Pe(),title:Rb("buttons.export"),ref:hb}),Qa&&V().createElement(D,{onCloseRequest:Ca,title:Rb("buttons.export")},V().createElement($b,{elements:u,appState:w,
exportPadding:I,actionManager:U,onExportToPng:ba,onExportToSvg:wa,onExportToClipboard:va,onExportToBackend:e,onCloseRequest:Ca})))},Xc=(h(4193),function(e){var u=e.children,w=e.side;e=e.className;return V().createElement("div",{className:mc("FixedSideContainer","FixedSideContainer_side_".concat(w),e)},u)}),je=V().memo(function(e){e=e.appearance;return V().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},V().createElement("a",
{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},V().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===e?ue.MA[6]:ue.MA[8]}),V().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===e?ue.ix:ue.Sn}),V().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===e?ue.ix:ue.Sn})))}),sf=(h(9705),function(e){return(e=function(u){var w=u.appState,I=u.elements,U=w.elementType;u=w.isResizing;var ba=w.isRotating,wa=w.lastPointerDownWith,va=null!==w.multiElement;if("arrow"===U||"line"===U)return Rb(va?"hints.linearElementMulti":"hints.linearElement");if("draw"===U)return Rb("hints.freeDraw");if("text"===U)return Rb("hints.text");I=mf(I,w);return u&&"mouse"===wa&&1===I.length?(w=I[0],Cg(w)&&2===w.points.length?Rb("hints.lockAngle"):Rb("hints.resize")):
ba&&"mouse"===wa?Rb("hints.rotate"):1===I.length&&Cg(I[0])?w.editingLinearElement?w.editingLinearElement.activePointIndex?Rb("hints.lineEditor_pointSelected"):Rb("hints.lineEditor_nothingSelected"):Rb("hints.lineEditor_info"):null}({appState:e.appState,elements:e.elements}))?(e=Nd(e),V().createElement("div",{className:"HintViewer"},V().createElement("span",null,e))):null}),Ad=(h(8465),h(8680),V().createElement("svg",{viewBox:"0 0 1792 1792"},V().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
Ee=function(e){var u=e.elements,w=e.pendingElements,I=e.onRemoveFromLibrary;e=e.onClick;var U=(0,ha.useRef)(null);(0,ha.useEffect)(function(){var Qa=u||w;if(Qa){var Ja=Pl(Qa,{exportBackground:!1,viewBackgroundColor:ue.ix,shouldAddWatermark:!1});Qa=0;for(var hb=U.current.children;Qa<hb.length;Qa++){var nb=hb[Qa];"svg"===nb.tagName&&U.current.removeChild(nb)}U.current.appendChild(Ja);var ob=U.current;return function(){ob.removeChild(Ja)}}},[u,w]);var ba=(0,ha.useState)(!1),wa=ba[0],va=ba[1];ba=Pe();
var Ca=(wa||ba)&&w&&V().createElement("div",{className:"library-unit__adder"},Ad);return V().createElement("div",{className:mc("library-unit",{"library-unit__active":u||w}),onMouseEnter:function(){return va(!0)},onMouseLeave:function(){return va(!1)}},V().createElement("div",{className:mc("library-unit__dragger",{"library-unit__pulse":!!w}),ref:U,draggable:!!u,onClick:u||w?e:void 0,onDragStart:function(Qa){va(!1);Qa.dataTransfer.setData(Sa.LO.excalidrawlib,JSON.stringify(u))}}),Ca,u&&(wa||ba)&&V().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":Rb("labels.removeFromLibrary"),onClick:I},tj))},tf=V().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},V().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),df=V().createElement("svg",{width:"1792",height:"1792",
viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},V().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Lc=function(e){return V().createElement("label",{className:mc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(e.size||"m"),{"zen-mode-visibility--hidden":e.zenModeEnabled}),title:"".concat(e.title," — Q")},V().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,id:e.id,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),V().createElement("div",{className:"ToolIcon__icon"},e.checked?tf:df))},Bc=function(e){var u=e.heading,w=e.children;e=Sh()(e,["heading","children"]);var I=V().createElement("h2",{className:"visually-hidden",id:"".concat(u,
"-title")},Rb("headings.".concat(u)));return V().createElement("section",Id()({},e,{"aria-labelledby":"".concat(u,"-title")}),"function"==typeof w?w(I):V().createElement(V().Fragment,null,I,w))},Kc=(h(3142),function(e){var u=e.children,w=e.className;e=e.mobile;return V().createElement("div",{className:mc("UserList",w,{UserList_mobile:e})},u)}),sd=function(e){var u=e.appState,w=e.elements,I=e.libraryMenu,U=e.actionManager,ba=e.exportButton,wa=e.setAppState,va=e.onCollabButtonClick,Ca=e.onLockToggle,
Qa=e.canvas,Ja=e.isCollaborating,hb=e.renderCustomFooter;e=e.viewModeEnabled;return V().createElement(V().Fragment,null,!e&&V().createElement(Xc,{side:"top",className:"App-top-bar"},V().createElement(Bc,{heading:"shapes"},function(nb){return V().createElement(dl,{gap:4,align:"center"},V().createElement(cl,{gap:1},V().createElement(jl,{padding:1},nb,V().createElement(cl,{gap:1},V().createElement(aq,{canvas:Qa,elementType:u.elementType,setAppState:wa,isLibraryOpen:u.isLibraryOpen}))),V().createElement(Lc,
{checked:u.elementLocked,onChange:Ca,title:Rb("toolBar.lock")})),I)}),V().createElement(sf,{appState:u,elements:w})),V().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},V().createElement(jl,{padding:0},"canvas"===u.openMenu?V().createElement(Bc,{className:"App-mobile-menu",heading:"canvasActions"},V().createElement("div",{className:"panelColumn"},V().createElement(dl,{gap:4},e?V().createElement(V().Fragment,null,U.renderAction("saveScene"),U.renderAction("saveAsScene"),
ba):V().createElement(V().Fragment,null,U.renderAction("loadScene"),U.renderAction("saveScene"),U.renderAction("saveAsScene"),ba,U.renderAction("clearCanvas"),va&&V().createElement($q,{isCollaborating:Ja,collaboratorCount:u.collaborators.size,onClick:va}),V().createElement(Yq,{actionManager:U,appState:u,setAppState:wa})),null==hb?void 0:hb(!0),0<u.collaborators.size&&V().createElement("fieldset",null,V().createElement("legend",null,Rb("labels.collaborators")),V().createElement(Kc,{mobile:!0},Array.from(u.collaborators).filter(function(nb){nb[0];
return 0!==Object.keys(nb[1]).length}).map(function(nb){var ob=nb[0];nb[1];return V().createElement(V().Fragment,{key:ob},U.renderAction("goToCollaborator",ob))})))))):"shape"===u.openMenu&&!e&&nh(u,w)?V().createElement(Bc,{className:"App-mobile-menu",heading:"selectedShapeActions"},V().createElement(Zq,{appState:u,elements:w,renderAction:U.renderAction,elementType:u.elementType})):null,V().createElement("footer",{className:"App-toolbar"},e?V().createElement("div",{className:"App-toolbar-content"},
U.renderAction("toggleCanvasMenu")):V().createElement("div",{className:"App-toolbar-content"},U.renderAction("toggleCanvasMenu"),U.renderAction("toggleEditMenu"),U.renderAction("undo"),U.renderAction("redo"),U.renderAction(u.multiElement?"finalize":"duplicateSelection"),U.renderAction("deleteSelectedElements")),u.scrolledOutside&&!u.openMenu&&V().createElement("button",{className:"scroll-back-to-content",onClick:function(){wa(function(nb){for(var ob=1;ob<arguments.length;ob++){var ac=null!=arguments[ob]?
arguments[ob]:{};ob%2?td(Object(ac),!0).forEach(function(Ub){xe()(nb,Ub,ac[Ub])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nb,Object.getOwnPropertyDescriptors(ac)):td(Object(ac)).forEach(function(Ub){Object.defineProperty(nb,Ub,Object.getOwnPropertyDescriptor(ac,Ub))})}return nb}({},ki(w,u)))}},Rb("buttons.scrollBackToContent"))))))},vd=(h(8416),function(e){var u=(0,ha.useRef)(null),w=(0,ha.useState)(null),I=w[0],U=w[1];return(0,ha.useLayoutEffect)(function(){if(e.spreadsheet){var ba=
Wn(e.chartType,e.spreadsheet,0,0);U(ba);var wa=Pl(ba,{exportBackground:!1,viewBackgroundColor:ue.ix,shouldAddWatermark:!1}),va=u.current;return va.appendChild(wa),e.selected&&va.parentNode.focus(),function(){va.removeChild(wa)}}},[e.spreadsheet,e.chartType,e.selected]),V().createElement("button",{className:"ChartPreview",onClick:function(){I&&e.onClick(e.chartType,I)}},V().createElement("div",{ref:u}))}),Bf=function(e){var u=e.setAppState,w=e.appState,I=e.onClose,U=e.onInsertChart;e=V().useCallback(function(){I&&
I()},[I]);var ba=function(wa,va){U(va);Qg("magic","chart",wa);u({currentChartType:wa,pasteDialog:{shown:!1,data:null}})};return V().createElement(D,{small:!0,onCloseRequest:e,title:Rb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},V().createElement("div",{className:"container"},V().createElement(vd,{chartType:"bar",spreadsheet:w.pasteDialog.data,selected:"bar"===w.currentChartType,onClick:ba}),V().createElement(vd,{chartType:"line",spreadsheet:w.pasteDialog.data,selected:"line"===
w.currentChartType,onClick:ba})))},ve=(h(341),function(){return V().createElement("div",{className:"HelpDialog--header"},V().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},Rb("helpDialog.documentation")),V().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},Rb("helpDialog.blog")),V().createElement("a",{className:"HelpDialog--btn",
href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},Rb("helpDialog.github")))}),Cf=function(e){return V().createElement(V().Fragment,null,V().createElement("h3",null,e.title),e.children)},ig=function(e){return V().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},e.children)},Gf=function(e){return V().createElement("div",{style:{width:"49%"}},e.children)},tm=function(e){return V().createElement("div",
{className:"HelpDialog--island"},V().createElement("h3",{className:"HelpDialog--island-title"},e.caption),e.children)},lf=function(e){return V().createElement("div",{className:"HelpDialog--shortcut"},V().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},V().createElement("div",{style:{lineHeight:1.4}},e.label),V().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},e.shortcuts.map(function(u,
w){return V().createElement(V().Fragment,{key:w},V().createElement(au,null,u),e.isOr&&w!==e.shortcuts.length-1&&Rb("helpDialog.or"))}))))};lf.defaultProps={isOr:!0};var au=function(e){return V().createElement("kbd",Id()({className:"HelpDialog--key"},e))},bu=function(e){var u=e.onClose;e=V().useCallback(function(){u&&u()},[u]);return V().createElement(V().Fragment,null,V().createElement(D,{onCloseRequest:e,title:Rb("helpDialog.title"),className:"HelpDialog"},V().createElement(ve,null),V().createElement(Cf,
{title:Rb("helpDialog.shortcuts")},V().createElement(ig,null,V().createElement(Gf,null,V().createElement(tm,{caption:Rb("helpDialog.shapes")},V().createElement(lf,{label:Rb("toolBar.selection"),shortcuts:["V","1"]}),V().createElement(lf,{label:Rb("toolBar.rectangle"),shortcuts:["R","2"]}),V().createElement(lf,{label:Rb("toolBar.diamond"),shortcuts:["D","3"]}),V().createElement(lf,{label:Rb("toolBar.ellipse"),shortcuts:["E","4"]}),V().createElement(lf,{label:Rb("toolBar.arrow"),shortcuts:["A","5"]}),
V().createElement(lf,{label:Rb("toolBar.line"),shortcuts:["P","6"]}),V().createElement(lf,{label:Rb("toolBar.draw"),shortcuts:["Shift+P","7"]}),V().createElement(lf,{label:Rb("toolBar.text"),shortcuts:["T","8"]}),V().createElement(lf,{label:Rb("helpDialog.textNewLine"),shortcuts:[Nd("Enter"),Nd("Shift+Enter")]}),V().createElement(lf,{label:Rb("helpDialog.textFinish"),shortcuts:[Nd("Esc"),Nd("CtrlOrCmd+Enter")]}),V().createElement(lf,{label:Rb("helpDialog.curvedArrow"),shortcuts:["A",Rb("helpDialog.click"),
Rb("helpDialog.click"),Rb("helpDialog.click")],isOr:!1}),V().createElement(lf,{label:Rb("helpDialog.curvedLine"),shortcuts:["L",Rb("helpDialog.click"),Rb("helpDialog.click"),Rb("helpDialog.click")],isOr:!1}),V().createElement(lf,{label:Rb("toolBar.lock"),shortcuts:["Q"]}),V().createElement(lf,{label:Rb("helpDialog.preventBinding"),shortcuts:[Nd("CtrlOrCmd")]})),V().createElement(tm,{caption:Rb("helpDialog.view")},V().createElement(lf,{label:Rb("buttons.zoomIn"),shortcuts:[Nd("CtrlOrCmd++")]}),V().createElement(lf,
{label:Rb("buttons.zoomOut"),shortcuts:[Nd("CtrlOrCmd+-")]}),V().createElement(lf,{label:Rb("buttons.resetZoom"),shortcuts:[Nd("CtrlOrCmd+0")]}),V().createElement(lf,{label:Rb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),V().createElement(lf,{label:Rb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),V().createElement(lf,{label:Rb("buttons.fullScreen"),shortcuts:["F"]}),V().createElement(lf,{label:Rb("buttons.zenMode"),shortcuts:[Nd("Alt+Z")]}),V().createElement(lf,{label:Rb("labels.showGrid"),
shortcuts:[Nd("CtrlOrCmd+'")]}),V().createElement(lf,{label:Rb("labels.viewMode"),shortcuts:[Nd("Alt+R")]}))),V().createElement(Gf,null,V().createElement(tm,{caption:Rb("helpDialog.editor")},V().createElement(lf,{label:Rb("labels.selectAll"),shortcuts:[Nd("CtrlOrCmd+A")]}),V().createElement(lf,{label:Rb("labels.multiSelect"),shortcuts:[Nd("Shift+".concat(Rb("helpDialog.click")))]}),V().createElement(lf,{label:Rb("labels.moveCanvas"),shortcuts:[Nd("Space+".concat(Rb("helpDialog.drag"))),Nd("Wheel+".concat(Rb("helpDialog.drag")))],
isOr:!0}),V().createElement(lf,{label:Rb("labels.cut"),shortcuts:[Nd("CtrlOrCmd+X")]}),V().createElement(lf,{label:Rb("labels.copy"),shortcuts:[Nd("CtrlOrCmd+C")]}),V().createElement(lf,{label:Rb("labels.paste"),shortcuts:[Nd("CtrlOrCmd+V")]}),V().createElement(lf,{label:Rb("labels.copyAsPng"),shortcuts:[Nd("Shift+Alt+C")]}),V().createElement(lf,{label:Rb("labels.copyStyles"),shortcuts:[Nd("CtrlOrCmd+Alt+C")]}),V().createElement(lf,{label:Rb("labels.pasteStyles"),shortcuts:[Nd("CtrlOrCmd+Alt+V")]}),
V().createElement(lf,{label:Rb("labels.delete"),shortcuts:[Nd("Del")]}),V().createElement(lf,{label:Rb("labels.sendToBack"),shortcuts:[Nd(Hg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),V().createElement(lf,{label:Rb("labels.bringToFront"),shortcuts:[Nd(Hg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),V().createElement(lf,{label:Rb("labels.sendBackward"),shortcuts:[Nd("CtrlOrCmd+[")]}),V().createElement(lf,{label:Rb("labels.bringForward"),shortcuts:[Nd("CtrlOrCmd+]")]}),V().createElement(lf,{label:Rb("labels.alignTop"),
shortcuts:[Nd("CtrlOrCmd+Shift+Up")]}),V().createElement(lf,{label:Rb("labels.alignBottom"),shortcuts:[Nd("CtrlOrCmd+Shift+Down")]}),V().createElement(lf,{label:Rb("labels.alignLeft"),shortcuts:[Nd("CtrlOrCmd+Shift+Left")]}),V().createElement(lf,{label:Rb("labels.alignRight"),shortcuts:[Nd("CtrlOrCmd+Shift+Right")]}),V().createElement(lf,{label:Rb("labels.duplicateSelection"),shortcuts:[Nd("CtrlOrCmd+D"),Nd("Alt+".concat(Rb("helpDialog.drag")))]}),V().createElement(lf,{label:Rb("buttons.undo"),shortcuts:[Nd("CtrlOrCmd+Z")]}),
V().createElement(lf,{label:Rb("buttons.redo"),shortcuts:Jj?[Nd("CtrlOrCmd+Y"),Nd("CtrlOrCmd+Shift+Z")]:[Nd("CtrlOrCmd+Shift+Z")]}),V().createElement(lf,{label:Rb("labels.group"),shortcuts:[Nd("CtrlOrCmd+G")]}),V().createElement(lf,{label:Rb("labels.ungroup"),shortcuts:[Nd("CtrlOrCmd+Shift+G")]})))))))},Vr=function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=
U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&
va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Qs=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,
U++)e[U]=u[w];return e},$t=function(e){var u=e.library,w=e.onRemoveFromLibrary,I=e.onAddToLibrary,U=e.onInsertShape,ba=e.pendingElements,wa=e.setAppState,va=e.setLibraryItems;e=Pe()?4:6;var Ca=Math.max(1,Math.ceil((u.length+(0<ba.length?1:0))/e)),Qa=[],Ja=!1;Qa.push(V().createElement("div",{className:"layer-ui__library-header"},V().createElement(Ye,{key:"import",type:"button",title:Rb("buttons.load"),"aria-label":Rb("buttons.load"),icon:om,onClick:function(){op().then(function(){wa({isLibraryOpen:!1})}).catch(Ik).catch(function(uc){wa({errorMessage:uc.message})})}}),
V().createElement(Ye,{key:"export",type:"button",title:Rb("buttons.export"),"aria-label":Rb("buttons.export"),icon:ph,onClick:function(){sm().catch(Ik).catch(function(uc){wa({errorMessage:uc.message})})}}),V().createElement(Ye,{key:"reset",type:"button",title:Rb("buttons.resetLibrary"),"aria-label":Rb("buttons.resetLibrary"),icon:Pi,onClick:function(){window.confirm(Rb("alerts.resetLibrary"))&&(kh.resetLibrary(),va([]))}}),V().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},
Rb("labels.libraries"))));for(var hb=0;hb<Ca;hb++){for(var nb=e*hb,ob=[],ac=0;ac<e;ac++){var Ub=0<ba.length&&!Ja&&nb+ac>=u.length;Ja=Ja||Ub;ob.push(V().createElement(dl,{key:ac},V().createElement(Ee,{elements:u[nb+ac],pendingElements:Ub?ba:void 0,onRemoveFromLibrary:w.bind(null,nb+ac),onClick:Ub?I.bind(null,ba):U.bind(null,u[nb+ac])})))}Qa.push(V().createElement(cl,{align:"center",gap:1,key:hb},ob))}return V().createElement(dl,{align:"start",gap:1,className:"layer-ui__library-items"},Qa)},Yt=function(e){var u=
e.onClickOutside,w=e.onInsertShape,I=e.pendingElements,U=e.onAddToLibrary;e=e.setAppState;var ba=(0,ha.useRef)(null);!function(ob,ac){(0,ha.useEffect)(function(){var Ub=function(uc){ob.current&&(uc.target instanceof Element&&(ob.current.contains(uc.target)||!document.body.contains(uc.target))||ac(uc))};return document.addEventListener("pointerdown",Ub,!1),function(){document.removeEventListener("pointerdown",Ub)}},[ob,ac])}(ba,function(ob){ob.target.closest(".ToolIcon_type_button__library")||u(ob)});
var wa=(0,ha.useState)([]),va=wa[0],Ca=wa[1],Qa=(0,ha.useState)("preloading");wa=Qa[0];var Ja=Qa[1],hb=(0,ha.useRef)(null);(0,ha.useEffect)(function(){return Promise.race([new Promise(function(ob){hb.current=setTimeout(function(){ob("loading")},100)}),kh.loadLibrary().then(function(ob){Ca(ob);Ja("ready")})]).then(function(ob){"loading"===ob&&Ja("loading")}),function(){clearTimeout(hb.current)}},[]);Qa=(0,ha.useCallback)(function(){var ob=Cb()(function(ac){var Ub,uc;return Vr(this,function(Zc){switch(Zc.label){case 0:return[4,
kh.loadLibrary()];case 1:return Ub=Zc.sent(),uc=Ub.filter(function(cd,pd){return pd!==ac}),kh.saveLibrary(uc),Ca(uc),[2]}})});return function(ac){return ob.apply(this,arguments)}}(),[]);var nb=(0,ha.useCallback)(function(){var ob=Cb()(function(ac){var Ub,uc;return Vr(this,function(Zc){switch(Zc.label){case 0:return[4,kh.loadLibrary()];case 1:return Ub=Zc.sent(),uc=Qs(Qs([],Ub),[ac]),U(),kh.saveLibrary(uc),Ca(uc),[2]}})});return function(ac){return ob.apply(this,arguments)}}(),[U]);return"preloading"===
wa?null:V().createElement(jl,{padding:1,ref:ba,className:"layer-ui__library"},"loading"===wa?V().createElement("div",{className:"layer-ui__library-message"},Rb("labels.libraryLoadingMessage")):V().createElement($t,{library:va,onRemoveFromLibrary:Qa,onAddToLibrary:nb,onInsertShape:w,pendingElements:I,setAppState:e,setLibraryItems:Ca}))};const Zt=V().memo(function(e){var u,w=e.actionManager,I=e.appState,U=e.setAppState,ba=e.canvas,wa=e.elements,va=e.onCollabButtonClick,Ca=e.onLockToggle,Qa=e.onInsertElements,
Ja=e.zenModeEnabled,hb=e.showExitZenModeBtn,nb=e.toggleZenMode,ob=e.isCollaborating,ac=e.onExportToBackend,Ub=e.renderCustomFooter;e=e.viewModeEnabled;var uc=Pe(),Zc=function(){var be=function(Ce){return function(){var ye=Cb()(function(Ue,ud){return Vr(this,function(Qd){switch(Qd.label){case 0:return ba?[4,wc(Ce,Ue,I,ba,{exportBackground:I.exportBackground,name:I.name,viewBackgroundColor:I.viewBackgroundColor,scale:ud,shouldAddWatermark:I.shouldAddWatermark}).catch(Ik).catch(function(ae){console.error(ae);
U({errorMessage:ae.message})})]:[3,2];case 1:Qd.sent(),Qd.label=2;case 2:return[2]}})});return function(Ue,ud){return ye.apply(this,arguments)}}()};return V().createElement(xc,{elements:wa,appState:I,actionManager:w,onExportToPng:be("png"),onExportToSvg:be("svg"),onExportToClipboard:be("clipboard"),onExportToBackend:ac?function(Ce){ac&&ac(Ce,I,ba)}:void 0})},cd=(0,ha.useCallback)(function(be){U({isLibraryOpen:!1})},[U]),pd=(0,ha.useCallback)(function(){U({selectedElementIds:{},selectedGroupIds:{}})},
[U]),ce=I.isLibraryOpen?V().createElement(Yt,{pendingElements:mf(wa,I),onClickOutside:cd,onInsertShape:Qa,onAddToLibrary:pd,setAppState:U}):null;Qa=V().createElement(V().Fragment,null,I.isLoading&&V().createElement(jg,null),I.errorMessage&&V().createElement(O,{message:I.errorMessage,onClose:function(){return U({errorMessage:null})}}),I.showHelpDialog&&V().createElement(bu,{onClose:function(){return U({showHelpDialog:!1})}}),I.pasteDialog.shown&&V().createElement(Bf,{setAppState:U,appState:I,onInsertChart:Qa,
onClose:function(){return U({pasteDialog:{shown:!1,data:null}})}}));return uc?V().createElement(V().Fragment,null,Qa,V().createElement(sd,{appState:I,elements:wa,actionManager:w,libraryMenu:ce,exportButton:Zc(),setAppState:U,onCollabButtonClick:va,onLockToggle:Ca,canvas:ba,isCollaborating:ob,renderCustomFooter:Ub,viewModeEnabled:e})):V().createElement("div",{className:mc("layer-ui__wrapper",{"disable-pointerEvents":I.draggingElement||I.resizingElement||I.editingElement&&!Ud(I.editingElement)})},Qa,
(u=nh(I,wa),V().createElement(Xc,{side:"top"},V().createElement("div",{className:"App-menu App-menu_top"},V().createElement(dl,{gap:4,className:mc({"disable-pointerEvents":Ja})},e?V().createElement(Bc,{heading:"canvasActions",className:mc("zen-mode-transition",{"transition-left":Ja})},V().createElement(jl,{padding:2,style:{zIndex:1}},V().createElement(dl,{gap:4},V().createElement(cl,{gap:1,justifyContent:"space-between"},w.renderAction("saveScene"),w.renderAction("saveAsScene"),Zc())))):V().createElement(Bc,
{heading:"canvasActions",className:mc("zen-mode-transition",{"transition-left":Ja})},V().createElement(jl,{padding:2,style:{zIndex:1}},V().createElement(dl,{gap:4},V().createElement(cl,{gap:1,justifyContent:"space-between"},w.renderAction("loadScene"),w.renderAction("saveScene"),w.renderAction("saveAsScene"),Zc(),w.renderAction("clearCanvas"),va&&V().createElement($q,{isCollaborating:ob,collaboratorCount:I.collaborators.size,onClick:va})),V().createElement(Yq,{actionManager:w,appState:I,setAppState:U})))),
u&&V().createElement(Bc,{heading:"selectedShapeActions",className:mc("zen-mode-transition",{"transition-left":Ja})},V().createElement(jl,{className:Sa.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(I.height-200,"px")}},V().createElement(Zq,{appState:I,elements:wa,renderAction:w.renderAction,elementType:I.elementType})))),!e&&V().createElement(Bc,{heading:"shapes"},function(be){return V().createElement(dl,{gap:4,align:"start"},V().createElement(cl,{gap:1},V().createElement(jl,{padding:1,
className:mc({"zen-mode":Ja})},V().createElement(sf,{appState:I,elements:wa}),be,V().createElement(cl,{gap:1},V().createElement(aq,{canvas:ba,elementType:I.elementType,setAppState:U,isLibraryOpen:I.isLibraryOpen}))),V().createElement(Lc,{zenModeEnabled:Ja,checked:I.elementLocked,onChange:Ca,title:Rb("toolBar.lock")})),ce)}),V().createElement(Kc,{className:mc("zen-mode-transition",{"transition-right":Ja})},0<I.collaborators.size&&Array.from(I.collaborators).filter(function(be){be[0];return 0!==Object.keys(be[1]).length}).map(function(be){var Ce=
be[0];be=be[1];return V().createElement(Fj,{label:be.username||"Unknown user",key:Ce},w.renderAction("goToCollaborator",Ce))}))))),V().createElement("div",{className:mc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Ja})},V().createElement(dl,{gap:2},V().createElement(Bc,{heading:"canvasActions"},V().createElement(jl,{padding:1},V().createElement(Qr,{renderAction:w.renderAction,zoom:I.zoom})),V().createElement("a",{className:mc("encrypted-icon tooltip zen-mode-visibility",
{"zen-mode-visibility--hidden":Ja}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},V().createElement(Fj,{label:Rb("encrypted.tooltip"),position:"above",long:!0},Pd))))),V().createElement("aside",{className:mc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ja})},V().createElement(je,{appearance:I.appearance})),V().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},V().createElement("div",
{className:mc("zen-mode-transition",{"transition-right disable-pointerEvents":Ja})},null==Ub?void 0:Ub(!1),w.renderAction("toggleShortcuts")),V().createElement("button",{className:mc("disable-zen-mode",{"disable-zen-mode--visible":hb}),onClick:nb},Rb("buttons.exitZenMode"))),I.scrolledOutside&&V().createElement("button",{className:"scroll-back-to-content",onClick:function(){U(function(be){for(var Ce=1;Ce<arguments.length;Ce++){var ye=null!=arguments[Ce]?arguments[Ce]:{};Ce%2?cf(Object(ye),!0).forEach(function(Ue){xe()(be,
Ue,ye[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(ye)):cf(Object(ye)).forEach(function(Ue){Object.defineProperty(be,Ue,Object.getOwnPropertyDescriptor(ye,Ue))})}return be}({},ki(wa,I)))}},Rb("buttons.scrollBackToContent")))},function(e,u){var w=function(ba){ba.suggestedBindings;ba.startBoundElement;return Sh()(ba,["suggestedBindings","startBoundElement"])},I=w(e.appState),U=w(u.appState);w=Object.keys(I);return e.renderCustomFooter===u.renderCustomFooter&&
e.langCode===u.langCode&&e.elements===u.elements&&w.every(function(ba){return I[ba]===U[ba]})});var Ps=function(){try{var e=localStorage.getItem("excalidraw");return e?JSON.stringify(e).length:0}catch(u){return console.error(u),0}},cu=(h(7287),function(e,u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;
switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();
va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),Rs=ri(function(e){var u=Ps();try{var w=localStorage.getItem("excalidraw-state"),I=localStorage.getItem("excalidraw-collab"),U=localStorage.getItem(Sa.I.LOCAL_STORAGE_LIBRARY);
var ba=(w?JSON.stringify(w).length:0)+(I?JSON.stringify(I).length:0)+(U?JSON.stringify(U).length:0)+Ps()}catch(wa){ba=(console.error(wa),0)}e({scene:u,total:ba})},500),eu=function(e){var u=Pe(),w=(0,ha.useState)({scene:0,total:0}),I=w[0],U=w[1];(0,ha.useEffect)(function(){Rs(function(Qa){U(Qa)})});(0,ha.useEffect)(function(){return function(){return Rs.cancel()}},[]);w=zg(e.elements);var ba=mk(e.elements,e.appState),wa=zg(ba);if(u&&e.appState.openMenu)return null;var va,Ca;u=Df();return u!==Sa.eQ?
(Ca=u.slice(0,16).replace("T"," "),va=u.slice(21)):Ca=Rb("stats.versionNotAvailable"),V().createElement("div",{className:"Stats"},V().createElement(jl,{padding:2},V().createElement("div",{className:"close",onClick:e.onClose},tj),V().createElement("h3",null,Rb("stats.title")),V().createElement("table",null,V().createElement("tbody",null,V().createElement("tr",null,V().createElement("th",{colSpan:2},Rb("stats.scene"))),V().createElement("tr",null,V().createElement("td",null,Rb("stats.elements")),V().createElement("td",
null,e.elements.length)),V().createElement("tr",null,V().createElement("td",null,Rb("stats.width")),V().createElement("td",null,Math.round(w[2])-Math.round(w[0]))),V().createElement("tr",null,V().createElement("td",null,Rb("stats.height")),V().createElement("td",null,Math.round(w[3])-Math.round(w[1]))),V().createElement("tr",null,V().createElement("th",{colSpan:2},Rb("stats.storage"))),V().createElement("tr",null,V().createElement("td",null,Rb("stats.scene")),V().createElement("td",null,yl(I.scene,
1))),V().createElement("tr",null,V().createElement("td",null,Rb("stats.total")),V().createElement("td",null,yl(I.total,1))),1===ba.length&&V().createElement("tr",null,V().createElement("th",{colSpan:2},Rb("stats.element"))),1<ba.length&&V().createElement(V().Fragment,null,V().createElement("tr",null,V().createElement("th",{colSpan:2},Rb("stats.selected"))),V().createElement("tr",null,V().createElement("td",null,Rb("stats.elements")),V().createElement("td",null,ba.length))),0<ba.length&&V().createElement(V().Fragment,
null,V().createElement("tr",null,V().createElement("td",null,"x"),V().createElement("td",null,Math.round(1===ba.length?ba[0].x:wa[0]))),V().createElement("tr",null,V().createElement("td",null,"y"),V().createElement("td",null,Math.round(1===ba.length?ba[0].y:wa[1]))),V().createElement("tr",null,V().createElement("td",null,Rb("stats.width")),V().createElement("td",null,Math.round(1===ba.length?ba[0].width:wa[2]-wa[0]))),V().createElement("tr",null,V().createElement("td",null,Rb("stats.height")),V().createElement("td",
null,Math.round(1===ba.length?ba[0].height:wa[3]-wa[1])))),1===ba.length&&V().createElement("tr",null,V().createElement("td",null,Rb("stats.angle")),V().createElement("td",null,"".concat(Math.round(180*ba[0].angle/Math.PI),"°"))),V().createElement("tr",null,V().createElement("th",{colSpan:2},Rb("stats.version"))),V().createElement("tr",null,V().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:Cb()(function(){return cu(this,function(Qa){switch(Qa.label){case 0:return Qa.trys.push([0,
2,,3]),[4,Gb(Df())];case 1:return Qa.sent(),e.setAppState({toastMessage:Rb("toast.copyToClipboard")}),[3,3];case 2:return Qa.sent(),[3,3];case 3:return[2]}})}),title:Rb("stats.versionCopy")},Ca,V().createElement("br",null),va))))))},fu=(h(5849),function(e){var u=e.message,w=e.clearToast,I=(0,ha.useRef)(0),U=(0,ha.useCallback)(function(){return I.current=window.setTimeout(function(){return w()},Sa.Lg)},[w]);return(0,ha.useEffect)(function(){return U(),function(){return clearTimeout(I.current)}},[U,
u]),V().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==I?void 0:I.current)},onMouseLeave:U},V().createElement("p",{className:"Toast__message"},u))}),Ss=fe({name:"viewMode",perform:function(e,u){return Qg("view","mode","view"),{appState:Pf(Pf({},u),{},{viewModeEnabled:!this.checked(u),selectedElementIds:{}}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[Te]&&e.altKey&&"KeyR"===
e.code}}),gu=function(){var e=function(u,w){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,U){I.__proto__=U}||function(I,U){for(var ba in U)Object.prototype.hasOwnProperty.call(U,ba)&&(I[ba]=U[ba])})(u,w)};return function(u,w){function I(){this.constructor=u}if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");e(u,w);u.prototype=null===w?Object.create(w):(I.prototype=w.prototype,new I)}}(),bp=function(e,
u){function w(Ca){return function(Qa){return function(Ja){if(I)throw new TypeError("Generator is already executing.");for(;va;)try{if(I=1,U&&(ba=2&Ja[0]?U.return:Ja[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ja[1])).done)return ba;switch(U=0,ba&&(Ja=[2&Ja[0],ba.value]),Ja[0]){case 0:case 1:ba=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;U=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(ba=va.trys,(ba=0<ba.length&&
ba[ba.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!ba||Ja[1]>ba[0]&&Ja[1]<ba[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<ba[1])va.label=ba[1],ba=Ja;else if(ba&&va.label<ba[2])va.label=ba[2],va.ops.push(Ja);else{ba[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(e,va)}catch(hb){Ja=[6,hb],U=0}finally{I=ba=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Qa])}}var I,U,ba,wa,va={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};
return wa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},ch=function(e,u){for(var w=0,I=u.length,U=e.length;w<I;w++,U++)e[U]=u[w];return e},pk=new eq,tq=!1,Xr=0,Fp=0,Gp=0,cp=!1,uq=!1,Yr=!1,Wr={horizontal:null,vertical:null},go=0,fq=!1,ho=null,Cl=new Map,vp=null,br=null,yp=null,Ur=function(e){function u(w){var I=this;var U=I=e.call(this,w)||this;Vt.call(I);var ba,wa,va,Ca=Ah(),Qa=w.width,Ja=void 0===Qa?window.innerWidth:Qa;Qa=w.height;
var hb=void 0===Qa?window.innerHeight:Qa,nb=w.offsetLeft,ob=w.offsetTop;Qa=w.excalidrawRef;var ac=w.viewModeEnabled;ac=void 0!==ac&&ac;var Ub=w.zenModeEnabled;Ub=void 0!==Ub&&Ub;w=w.gridModeEnabled;w=void 0!==w&&w;if(I.state=Va(Va(Va({},Ca),{},{isLoading:!0,width:Ja,height:hb},I.getCanvasOffsets({offsetLeft:nb,offsetTop:ob})),{},{viewModeEnabled:ac,zenModeEnabled:Ub,gridSize:w?Sa.k:null}),Qa){var uc;Ca="current"in Qa&&(null===(uc=Qa.current)||void 0===uc?void 0:uc.readyPromise)||((va=new Promise(function(Zc,
cd){ba=Zc;wa=cd})).resolve=ba,va.reject=wa,va);va={ready:!0,readyPromise:Ca,updateScene:I.updateScene,resetScene:I.resetScene,getSceneElementsIncludingDeleted:I.getSceneElementsIncludingDeleted,history:{clear:I.resetHistory},setScrollToCenter:I.setScrollToCenter,getSceneElements:I.getSceneElements,getAppState:function(){return U.state}};"function"==typeof Qa?Qa(va):Qa.current=va;Ca.resolve(va)}return I.scene=new uh,I.actionManager=new um(I.syncActionResult,function(){return U.state},function(){return U.scene.getElementsIncludingDeleted()},
I),I.actionManager.registerAll(dg),I.actionManager.registerAction({name:"undo",perform:function(Zc,cd){return rp(Zc,cd,function(){return pk.undoOnce()})},keyTest:function(Zc){return Zc[Te]&&"z"===Zc.key.toLowerCase()&&!Zc.shiftKey},PanelComponent:function(Zc){Zc=Zc.updateData;return V().createElement(Ye,{type:"button",icon:gh,"aria-label":Rb("buttons.undo"),onClick:Zc})},commitToHistory:function(){return!1}}),I.actionManager.registerAction(function(Zc){return{name:"redo",perform:function(cd,pd){return rp(cd,
pd,function(){return Zc.redoOnce()})},keyTest:function(cd){return cd[Te]&&cd.shiftKey&&"z"===cd.key.toLowerCase()||Jj&&cd.ctrlKey&&!cd.shiftKey&&"y"===cd.key},PanelComponent:function(cd){cd=cd.updateData;return V().createElement(Ye,{type:"button",icon:Ej,"aria-label":Rb("buttons.redo"),onClick:cd})},commitToHistory:function(){return!1}}}(pk)),I}return gu(u,e),u.prototype.renderCanvas=function(){var w=window.devicePixelRatio,I=this.state,U=I.width,ba=I.height,wa=U*w;w*=ba;return I.viewModeEnabled?
V().createElement("canvas",{id:"canvas",style:{width:U,height:ba,cursor:"grabbing"},width:wa,height:w,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},Rb("labels.drawingCanvas")):V().createElement("canvas",{id:"canvas",style:{width:U,height:ba},width:wa,height:w,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},Rb("labels.drawingCanvas"))},u.prototype.render=function(){var w,I=this,U=this.state,ba=U.zenModeEnabled,wa=U.width,va=U.height;U=U.viewModeEnabled;var Ca=this.props,Qa=Ca.onCollabButtonClick,Ja=Ca.onExportToBackend;Ca=Ca.renderFooter;var hb=
wa/2,nb=va/2;return V().createElement("div",{className:mc("excalidraw",{"excalidraw--view-mode":U}),ref:this.excalidrawContainerRef,style:{width:wa,height:va}},V().createElement(Zt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Qa,onLockToggle:this.toggleLock,onInsertElements:function(ob){return I.addElementsFromPasteOrLibrary(ob,hb,nb)},zenModeEnabled:ba,toggleZenMode:this.toggleZenMode,langCode:rf.code,
isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ja,renderCustomFooter:Ca,viewModeEnabled:U,showExitZenModeBtn:void 0===(null===(w=this.props)||void 0===w?void 0:w.zenModeEnabled)&&ba}),V().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&V().createElement(eu,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&V().createElement(fu,{message:this.state.toastMessage,
clearToast:this.clearToast}),V().createElement("main",null,this.renderCanvas()))},u.prototype.componentDidMount=function(){var w=this;return Cb()(function(){return bp(this,function(I){return"production"!==Sa.Vi.TEST&&"production"!==Sa.Vi.DEVELOPMENT||(w.setState.bind(w),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return w.state}},setState:{configurable:!0,value:function(){for(var U=[],ba=0;ba<arguments.length;ba++)U[ba]=arguments[ba];return w.setState.apply(w,U)}},app:{configurable:!0,
value:w}})),w.scene.addCallback(w.onSceneUpdated),w.addEventListeners(),"number"==typeof w.props.offsetLeft&&"number"==typeof w.props.offsetTop?w.initializeScene():w.setState(w.getCanvasOffsets(w.props),function(){w.initializeScene()}),[2]})})()},u.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(go);go=0},u.prototype.removeEventListeners=function(){document.removeEventListener(Sa.Ks.COPY,this.onCopy);document.removeEventListener(Sa.Ks.PASTE,
this.pasteFromClipboard);document.removeEventListener(Sa.Ks.CUT,this.onCut);document.removeEventListener(Sa.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(Sa.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(Sa.Ks.KEYUP,this.onKeyUp);window.removeEventListener(Sa.Ks.RESIZE,this.onResize,!1);window.removeEventListener(Sa.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(Sa.Ks.BLUR,this.onBlur,!1);window.removeEventListener(Sa.Ks.DRAG_OVER,this.disableEvent,
!1);window.removeEventListener(Sa.Ks.DROP,this.disableEvent,!1);document.removeEventListener(Sa.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(Sa.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(Sa.Ks.GESTURE_END,this.onGestureEnd,!1)},u.prototype.addEventListeners=function(){var w,I;this.removeEventListeners();document.addEventListener(Sa.Ks.COPY,this.onCopy);document.addEventListener(Sa.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(Sa.Ks.KEYUP,
this.onKeyUp,{passive:!0});document.addEventListener(Sa.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(w=document.fonts)||void 0===w||null===(I=w.addEventListener)||void 0===I||I.call(w,"loadingdone",this.onFontLoaded);document.addEventListener(Sa.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(Sa.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(Sa.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(Sa.Ks.PASTE,
this.pasteFromClipboard),document.addEventListener(Sa.Ks.CUT,this.onCut),document.addEventListener(Sa.Ks.SCROLL,this.onScroll),window.addEventListener(Sa.Ks.RESIZE,this.onResize,!1),window.addEventListener(Sa.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Sa.Ks.BLUR,this.onBlur,!1),window.addEventListener(Sa.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(Sa.Ks.DROP,this.disableEvent,!1))},u.prototype.componentDidUpdate=function(w,I){var U,ba,wa,va,Ca=this;(w.langCode!==this.props.langCode&&
this.updateLanguage(),w.width!==this.props.width||w.height!==this.props.height||"number"==typeof this.props.offsetLeft&&w.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&w.offsetTop!==this.props.offsetTop)&&this.setState(Va({width:null!==(wa=this.props.width)&&void 0!==wa?wa:window.innerWidth,height:null!==(va=this.props.height)&&void 0!==va?va:window.innerHeight},this.getCanvasOffsets(this.props)));w.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},
this.addEventListeners);I.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();w.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});w.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Sa.k:null});null===(U=document.querySelector(".excalidraw"))||void 0===U||U.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&
setTimeout(function(){Ca.actionManager.executeAction(Ef)});w=I.multiElement;I.elementType!==this.state.elementType&&null!=w&&this.state.isBindingEnabled&&lg(w)&&lk(w,this.state,this.scene,Bg(Wf.getPointAtIndexGlobalCoordinates(w,-1)));var Qa={},Ja={},hb={},nb={},ob={};this.state.collaborators.forEach(function(uc,Zc){if(uc.selectedElementIds)for(var cd=0,pd=Object.keys(uc.selectedElementIds);cd<pd.length;cd++){var ce=pd[cd];ce in hb||(hb[ce]=[]);hb[ce].push(Zc)}uc.pointer&&(uc.username&&(nb[Zc]=uc.username),
uc.userState&&(ob[Zc]=uc.userState),Ja[Zc]=hh({sceneX:uc.pointer.x,sceneY:uc.pointer.y},Ca.state),Qa[Zc]=uc.button)});I=this.scene.getElements();U=hn(I.filter(function(uc){return!Ca.state.editingElement||"text"!==Ca.state.editingElement.type||uc.id!==Ca.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ja,
remotePointerButton:Qa,remoteSelectedElementIds:hb,remotePointerUsernames:nb,remotePointerUserStates:ob,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!tg().matches});w=U.atLeastOneVisibleElement;(U=U.scrollBars)&&(Wr=U);var ac,Ub;I="text"!==(null===(ba=this.state.editingElement)||void 0===ba?void 0:ba.type)&&!w&&0<I.length;(this.state.scrolledOutside!==I&&this.setState({scrolledOutside:I}),pk.record(this.state,this.scene.getElementsIncludingDeleted()),
this.state.isLoading)||null===(ac=(Ub=this.props).onChange)||void 0===ac||ac.call(Ub,this.scene.getElementsIncludingDeleted(),this.state)},u.resetTapTwice=function(){tq=!1},u.prototype.addTextFromPaste=function(w){var I,U=rg({clientX:Fp,clientY:Gp},this.state);w=Kj({x:U.x,y:U.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,
roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:w,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Sa.hs});this.scene.replaceAllElements(ch(ch([],this.scene.getElementsIncludingDeleted()),[w]));this.setState({selectedElementIds:(I={},I[w.id]=!0,I)});pk.resumeRecording()},u.prototype.selectShapeTool=function(w){var I;cp||
si(this.canvas,w);(I=document.activeElement)instanceof HTMLElement&&I.className.includes("ToolIcon")&&document.activeElement.blur();fj(w)||this.setState({suggestedBindings:[]});"selection"!==w?this.setState({elementType:w,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:w})},u.prototype.handleTextWysiwyg=function(w,I){I=I.isExistingElement;var U=void 0!==I&&I,ba=this,wa=function(va,Ca){void 0===Ca&&(Ca=!1);ba.scene.replaceAllElements(ch([],ba.scene.getElementsIncludingDeleted().map(function(Qa){if(Qa.id===
w.id&&Ud(Qa)){var Ja=Ca;Ja={text:va,isDeleted:null!=Ja?Ja:Qa.isDeleted};var hb=Vi(va,Ui(Qa));var nb=hb.width;var ob=hb.height;hb=hb.baseline;var ac=Qa.textAlign;var Ub=Qa.verticalAlign;if("center"===ac&&"middle"===Ub)ac=Vi(Qa.text,Ui(Qa)),Ub=Uh(Qa,{width:nb-ac.width,height:ob-ac.height}),ac=Qa.x-Ub.x,Ub=Qa.y-Ub.y;else{var uc=cg(Qa);Ub=uc[0];var Zc=uc[1],cd=uc[2];uc=uc[3];var pd=Ng(Qa,nb,ob);ac=(Ub=Rf({s:!0,e:"center"===ac||"left"===ac,w:"center"===ac||"right"===ac},Qa.x,Qa.y,Qa.angle,(Ub-pd[0])/2,
(Zc-pd[1])/2,(cd-pd[2])/2,(uc-pd[3])/2))[0];Ub=Ub[1]}nb={width:nb,height:ob,x:Number.isFinite(ac)?ac:Qa.x,y:Number.isFinite(Ub)?Ub:Qa.y,baseline:hb};Qa=wg(Qa,Ga(Ja,nb))}return Qa})))};!function(va){var Ca=va.id,Qa=va.appState,Ja=va.onChange,hb=va.onSubmit,nb=va.getViewportCoords,ob=va.element;va=va.canvas;var ac=function(){var ye,Ue=null===(ye=uh.getScene(ob))||void 0===ye?void 0:ye.getElement(Ca);if(Ue&&Ud(Ue)){ye=nb(Ue.x,Ue.y);var ud=ye[0],Qd=ye[1];ye=Ue.textAlign;var ae=Ue.angle;Ub.value=Ue.text;
var Me=Ue.text.replace(/\r\n?/g,"\n").split("\n"),Bh=Ue.height/Me.length;Me=(Qa.offsetLeft+Qa.width-ud-8)/Qa.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var Xh=Object,zj=Xh.assign,bj=Ub.style,Vl=Ui(Ue);Bh="".concat(Bh,"px");var sn="".concat(Ue.width,"px"),fm="".concat(Ue.height,"px");ud="".concat(ud,"px");Qd="".concat(Qd,"px");var tn=Ue.width;var Um=Qa.zoom,fo=180*ae/Math.PI;ae=(tn-2*Qa.offsetLeft)*(Um.value-1)/2;var Vm=(Ue.height-
2*Qa.offsetTop)*(Um.value-1)/2;tn=(tn>Me&&1!==Um.value&&(ae=Me/2*(Um.value-1)),"translate(".concat(ae,"px, ").concat(Vm,"px) scale(").concat(Um.value,") rotate(").concat(fo,"deg)"));zj.call(Xh,bj,{font:Vl,lineHeight:Bh,width:sn,height:fm,left:ud,top:Qd,transform:tn,textAlign:ye,color:Ue.strokeColor,opacity:Ue.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat(Me,"px")})}},Ub=document.createElement("textarea");Ub.dir="auto";Ub.tabIndex=0;Ub.dataset.type="wysiwyg";Ub.wrap="off";Object.assign(Ub.style,
{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});ac();Ja&&(Ub.oninput=function(){Ja(Tk(Ub.value))});Ub.onkeydown=function(ye){"Escape"===ye.key?(ye.preventDefault(),Zc()):"Enter"===ye.key&&ye[Te]?(ye.preventDefault(),ye.isComposing||229===ye.keyCode)||Zc():"Enter"!==ye.key||ye.altKey||ye.stopPropagation()};var uc=function(ye){ye.preventDefault();
ye.stopPropagation()},Zc=function(){hb(Tk(Ub.value));be||(be=!0,Ub.onblur=null,Ub.oninput=null,Ub.onkeydown=null,Ce&&Ce.disconnect(),window.removeEventListener("resize",ac),window.removeEventListener("wheel",uc,!0),window.removeEventListener("pointerdown",pd),window.removeEventListener("pointerup",cd),window.removeEventListener("blur",Zc),ce(),Ub.remove())},cd=function(){window.removeEventListener("pointerup",cd);setTimeout(function(){Ub.onblur=Zc;Ub.focus()})},pd=function(ye){ye.target instanceof
HTMLElement&&ye.target.closest(".".concat(Sa.$C.SHAPE_ACTIONS_MENU))&&!Ag(ye.target)&&(Ub.onblur=null,window.addEventListener("pointerup",cd),window.addEventListener("blur",Zc))},ce=uh.getScene(ob).addCallback(function(){ac();Ub.focus()}),be=!1;Ub.onblur=Zc;var Ce=null;va&&"ResizeObserver"in window?(Ce=new window.ResizeObserver(function(){ac()})).observe(va):window.addEventListener("resize",ac);window.addEventListener("pointerdown",pd);window.addEventListener("wheel",uc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Ub);
Ub.focus();Ub.select()}({id:w.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(va,Ca){va=hh({sceneX:va,sceneY:Ca},ba.state);return[va.x-ba.state.offsetLeft,va.y-ba.state.offsetTop]},onChange:Uf(function(va){wa(va);!w.isDeleted&&yi(w)}),onSubmit:Uf(function(va){var Ca=!va.trim();wa(va,Ca);Ca?rj(ba.scene.getElements(),[w]):ba.setState(function(Qa){var Ja;return{selectedElementIds:Va(Va({},Qa.selectedElementIds),{},(Ja={},Ja[w.id]=!0,Ja))}});Ca&&!U||pk.resumeRecording();ba.setState({draggingElement:null,
editingElement:null});ba.state.elementLocked&&si(ba.canvas,ba.state.elementType)}),element:w});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});wa(w.text)},u.prototype.getTextElementAtPosition=function(w,I){return(w=this.getElementAtPosition(w,I))&&Ud(w)&&!w.isDeleted?w:null},u.prototype.getElementAtPosition=function(w,I){var U=this.getElementsAtPosition(w,I);if(1<U.length){var ba=U[U.length-1];return Nk(ba,this.state,w,I)?U[U.length-2]:ba}return 1===U.length?U[0]:null},
u.prototype.getElementsAtPosition=function(w,I){var U,ba,wa=this;return U=this.scene.getElements(),ba=function(va){var Ca=wa.state,Qa=10/Ca.zoom.value,Ja=[w,I];return Ca.selectedElementIds[va.id]?Rl(va,Ja,Qa):hk(va,Ca,Ja)},U.filter(function(va){return!va.isDeleted&&ba(va)})},u.prototype.maybeCleanupAfterMissingPointerUp=function(w){null!==ho&&ho(w)},u.prototype.updateGestureOnPointerDown=function(w){Cl.set(w.pointerId,{x:w.clientX,y:w.clientY});2===Cl.size&&(vp=Rm(Cl),yp=this.state.zoom.value,br=
bo(Array.from(Cl.values())))},u.prototype.initialPointerDownState=function(w){var I=rg(w,this.state),U=mf(this.scene.getElements(),this.state),ba=zg(U),wa=ba[0],va=ba[1],Ca=ba[2];ba=ba[3];return{origin:I,originInGrid:Bg(pi(I.x,I.y,this.state.gridSize)),scrollbars:ii(Wr,w.clientX-this.state.offsetLeft,w.clientY-this.state.offsetTop),lastCoords:Va({},I),originalElements:this.scene.getElements().reduce(function(Qa,Ja){return Qa.set(Ja.id,Lj(Ja)),Qa},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,
y:0},arrowDirection:"origin",center:{x:(Ca+wa)/2,y:(ba+va)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(I,U)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},u.prototype.handleDraggingScrollBar=function(w,I){var U=this;if(!I.scrollbars.isOverEither||this.state.multiElement)return!1;Yr=!0;I.lastCoords.x=w.clientX;I.lastCoords.y=
w.clientY;var ba=Uf(function(va){va.target instanceof HTMLElement&&U.handlePointerMoveOverScrollbars(va,I)}),wa=Uf(function(){Yr=!1;si(U.canvas,U.state.elementType);ho=null;U.setState({cursorButton:"up"});U.savePointer(w.clientX,w.clientY,"up");window.removeEventListener(Sa.Ks.POINTER_MOVE,ba);window.removeEventListener(Sa.Ks.POINTER_UP,wa)});return ho=wa,window.addEventListener(Sa.Ks.POINTER_MOVE,ba),window.addEventListener(Sa.Ks.POINTER_UP,wa),!0},u.prototype.isASelectedElement=function(w){return null!=
w&&this.state.selectedElementIds[w.id]},u.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(w,I){if(2>I.length)return!1;var U=10/this.state.zoom.value;I=zg(I);var ba=I[1],wa=I[2],va=I[3];return w.x>I[0]-U&&w.x<wa+U&&w.y>ba-U&&w.y<va+U},u.prototype.onKeyDownFromPointerDownHandler=function(w){var I=this;return Uf(function(U){I.maybeHandleResize(w,U)||I.maybeDragNewGenericElement(w,U)})},u.prototype.onKeyUpFromPointerDownHandler=function(w){var I=this;return Uf(function(U){"Alt"===U.key&&
U.preventDefault();I.maybeHandleResize(w,U)||I.maybeDragNewGenericElement(w,U)})},u.prototype.onPointerMoveFromPointerDownHandler=function(w){var I=this;return Uf(function(U){if(null===w.drag.offset&&(w.drag.offset=Bg(function(cd,pd,ce){cd=zg(cd);return[pd-cd[0],ce-cd[1]]}(mf(I.scene.getElements(),I.state),w.origin.x,w.origin.y))),U.target instanceof HTMLElement&&!I.handlePointerMoveOverScrollbars(U,w)){var ba=rg(U,I.state),wa=pi(ba.x,ba.y,I.state.gridSize),va=wa[0];wa=wa[1];if(w.drag.hasOccurred||
"arrow"!==I.state.elementType&&"line"!==I.state.elementType||!(Math.hypot(w.origin.x-ba.x,w.origin.y-ba.y)<Sa.f)){if(w.resize.isResizing&&(w.lastCoords.x=ba.x,w.lastCoords.y=ba.y,I.maybeHandleResize(w,U)))return!0;if(I.state.editingLinearElement&&Wf.handlePointDragging(I.state,function(cd){return I.setState(cd)},ba.x,ba.y,function(cd,pd){I.maybeSuggestBindingForLinearElementAtCursor(cd,pd,ba)}))return w.lastCoords.x=ba.x,void(w.lastCoords.y=ba.y);if(w.hit.allHitElements.some(function(cd){return I.isASelectedElement(cd)})||
w.hit.hasHitCommonBoundingBoxOfSelectedElements){w.drag.hasOccurred=!0;var Ca=mf(I.scene.getElements(),I.state);if(0<Ca.length){va=pi(ba.x-w.drag.offset.x,ba.y-w.drag.offset.y,I.state.gridSize);var Qa=va[0];va=va[1];wa=[Math.abs(ba.x-w.origin.x),Math.abs(ba.y-w.origin.y)];if(function(cd,pd,ce,be,Ce,ye,Ue,ud){void 0===ye&&(ye=!1);void 0===Ue&&(Ue=0);void 0===ud&&(ud=0);Ce=zg(pd);var Qd=ce-Ce[0],ae=be-Ce[1];pd.forEach(function(Me){if(ye){var Bh=ye&&Ue<ud;var Xh=ye&&Ue>ud;var zj=cd.originalElements.get(Me.id);
Bh=Bh&&zj?zj.x:Me.x+Qd;Xh=Xh&&zj?zj.y:Me.y+ae}else Bh=Me.x+Qd,Xh=Me.y+ae;$e(Me,{x:Bh,y:Xh});yi(Me,{simultaneouslyUpdated:pd})})}(w,Ca,Qa,va,I.scene,U.shiftKey,wa[0],wa[1]),I.maybeSuggestBindingForAll(Ca),U.altKey&&!w.hit.hasBeenDuplicated){w.hit.hasBeenDuplicated=!0;Ca=[];U=[];var Ja=new Map;wa=new Map;for(var hb=w.hit.element,nb=0,ob=I.scene.getElementsIncludingDeleted();nb<ob.length;nb++){var ac=ob[nb];if(I.state.selectedElementIds[ac.id]||ac.id===(null==hb?void 0:hb.id)&&w.hit.wasAddedToSelection){var Ub=
Xi(I.state.editingGroupId,Ja,ac),uc=pi(w.origin.x-w.drag.offset.x,w.origin.y-w.drag.offset.y,I.state.gridSize);$e(Ub,{x:Ub.x+(uc[0]-Qa),y:Ub.y+(uc[1]-va)});Ca.push(Ub);U.push(ac);wa.set(ac.id,Ub.id)}else Ca.push(ac)}Qa=ch(ch([],Ca),U);Wj(Qa,U,wa,"duplicatesServeAsOld");I.scene.replaceAllElements(Qa)}return}}if(Ca=I.state.draggingElement)if(Cg(Ca)?(w.drag.hasOccurred=!0,Ja=Ca.points,nb=hb=void 0,"draw"===Ca.type?(hb=ba.x-Ca.x,nb=ba.y-Ca.y):(hb=va-Ca.x,nb=wa-Ca.y),U.shiftKey&&2===Ja.length&&(hb=(Qa=
Je(I.state.elementType,hb,nb)).width,nb=Qa.height),1===Ja.length?$e(Ca,{points:ch(ch([],Ja),[[hb,nb]])}):1<Ja.length&&("draw"===Ca.type?$e(Ca,{points:L(ch(ch([],Ja),[[hb,nb]]),.7/I.state.zoom.value)}):$e(Ca,{points:ch(ch([],Ja.slice(0,-1)),[[hb,nb]])})),lg(Ca)&&I.maybeSuggestBindingForLinearElementAtCursor(Ca,"end",ba,I.state.startBoundElement)):(w.lastCoords.x=ba.x,w.lastCoords.y=ba.y,I.maybeDragNewGenericElement(w,U)),"selection"===I.state.elementType){Qa=I.scene.getElements();!U.shiftKey&&eg(Qa,
I.state)&&I.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var Zc=function(cd,pd){pd=cg(pd);var ce=pd[0],be=pd[1],Ce=pd[2],ye=pd[3];return cd.filter(function(Ue){var ud=qi(Ue),Qd=ud[0],ae=ud[1],Me=ud[2];ud=ud[3];return"selection"!==Ue.type&&ce<=Qd&&be<=ae&&Ce>=Me&&ye>=ud})}(Qa,Ca);I.setState(function(cd){return Th(Va(Va({},cd),{},{selectedElementIds:Va(Va({},cd.selectedElementIds),Zc.reduce(function(pd,ce){return pd[ce.id]=!0,pd},{}))}),I.scene.getElements())})}}}})},u.prototype.handlePointerMoveOverScrollbars=
function(w,I){return I.scrollbars.isOverHorizontal?(w=w.clientX,this.setState({scrollX:this.state.scrollX-(w-I.lastCoords.x)/this.state.zoom.value}),I.lastCoords.x=w,!0):I.scrollbars.isOverVertical?(w=w.clientY,this.setState({scrollY:this.state.scrollY-(w-I.lastCoords.y)/this.state.zoom.value}),I.lastCoords.y=w,!0):!1},u.prototype.onPointerUpFromPointerDownHandler=function(w){var I=this;return Uf(function(U){var ba=I.state,wa=ba.draggingElement,va=ba.resizingElement,Ca=ba.multiElement,Qa=ba.elementType,
Ja=ba.elementLocked,hb=ba.isResizing;ba=ba.isRotating;if(I.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Ca||Ud(I.state.editingElement)?I.state.editingElement:null}),I.savePointer(U.clientX,U.clientY,"up"),I.state.editingLinearElement){var nb=Wf.handlePointerUp(U,I.state.editingLinearElement,I.state);nb!==I.state.editingLinearElement&&I.setState({editingLinearElement:nb,suggestedBindings:[]})}if(ho=null,window.removeEventListener(Sa.Ks.POINTER_MOVE,
w.eventListeners.onMove),window.removeEventListener(Sa.Ks.POINTER_UP,w.eventListeners.onUp),window.removeEventListener(Sa.Ks.KEYDOWN,w.eventListeners.onKeyDown),window.removeEventListener(Sa.Ks.KEYUP,w.eventListeners.onKeyUp),"draw"!==(null==wa?void 0:wa.type))if(Cg(wa))1<wa.points.length&&pk.resumeRecording(),U=rg(U,I.state),w.drag.hasOccurred||!wa||Ca?w.drag.hasOccurred&&!Ca&&(I.state.isBindingEnabled&&lg(wa)&&lk(wa,I.state,I.scene,U),I.setState({suggestedBindings:[],startBoundElement:null}),Ja||
"draw"===Qa?I.setState(function(Ub){var uc;return{draggingElement:null,selectedElementIds:Va(Va({},Ub.selectedElementIds),{},(uc={},uc[I.state.draggingElement.id]=!0,uc))}}):(Gi(I.canvas),I.setState(function(Ub){var uc;return{draggingElement:null,elementType:"selection",selectedElementIds:Va(Va({},Ub.selectedElementIds),{},(uc={},uc[I.state.draggingElement.id]=!0,uc))}}))):($e(wa,{points:ch(ch([],wa.points),[[U.x-wa.x,U.y-wa.y]])}),I.setState({multiElement:wa,editingElement:I.state.draggingElement}));
else{if("selection"!==Qa&&wa&&Oh(wa))return I.scene.replaceAllElements(I.scene.getElementsIncludingDeleted().slice(0,-1)),void I.setState({draggingElement:null});wa&&$e(wa,Ml(wa));va&&pk.resumeRecording();va&&Oh(va)&&I.scene.replaceAllElements(I.scene.getElementsIncludingDeleted().filter(function(Ub){return Ub.id!==va.id}));var ob=w.hit.element;if(ob&&!w.drag.hasOccurred&&!w.hit.wasAddedToSelection)if(U.shiftKey)if(I.state.selectedElementIds[ob.id])if(null!=vh(I.state,ob)){var ac=ob.groupIds.flatMap(function(Ub){return ek(I.scene.getElements(),
Ub)}).map(function(Ub){var uc;return(uc={})[Ub.id]=!1,uc}).reduce(function(Ub,uc){return Va(Va({},Ub),uc)},{});I.setState(function(Ub){return{selectedGroupIds:Va(Va({},Ub.selectedElementIds),ob.groupIds.map(function(uc){var Zc;return(Zc={})[uc]=!1,Zc}).reduce(function(uc,Zc){return Va(Va({},uc),Zc)},{})),selectedElementIds:Va(Va({},Ub.selectedElementIds),ac)}})}else I.setState(function(Ub){var uc;return{selectedElementIds:Va(Va({},Ub.selectedElementIds),{},(uc={},uc[ob.id]=!1,uc))}});else I.setState(function(Ub){var uc;
return{selectedElementIds:Va(Va({},Ub.selectedElementIds),{},(uc={},uc[ob.id]=!0,uc))}});else I.setState(function(Ub){var uc;return Va({},Th(Va(Va({},Ub),{},{selectedElementIds:(uc={},uc[ob.id]=!0,uc)}),I.scene.getElements()))});I.state.editingLinearElement||w.drag.hasOccurred||I.state.isResizing||!(ob&&Nk(ob,I.state,w.origin.x,w.origin.y)||!ob&&w.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ja&&"draw"!==Qa&&wa&&I.setState(function(Ub){var uc;return{selectedElementIds:Va(Va({},Ub.selectedElementIds),
{},(uc={},uc[wa.id]=!0,uc))}}),("selection"!==Qa||eg(I.scene.getElements(),I.state))&&pk.resumeRecording(),(w.drag.hasOccurred||hb||ba)&&(I.state.isBindingEnabled?sg:eh)(mf(I.scene.getElements(),I.state)),Ja||"draw"===Qa?I.setState({draggingElement:null,suggestedBindings:[]}):(Gi(I.canvas),I.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):I.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else I.actionManager.executeAction(Ef)})},u.prototype.maybeSuggestBindingForAll=
function(w){var I;w=(I=new Set(w.map(function(U){return U.id})),w.flatMap(function(U){return lg(U)?Il(U).filter(function(ba){return!I.has(ba.id)}):Ak(U)?oh(U).filter(function(ba){return!I.has(ba[0].id)}):[]}));this.setState({suggestedBindings:w})},u.prototype.clearSelection=function(w){this.setState(function(I){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:I.editingGroupId&&null!=w&&w.groupIds.includes(I.editingGroupId)?I.editingGroupId:null}});this.setState({selectedElementIds:{},
previousSelectedElementIds:this.state.selectedElementIds})},u.prototype.getTextWysiwygSnappedToCenterPosition=function(w,I,U,ba,wa){if(wa=function(va,Ca,Qa){for(var Ja=null,hb=va.length-1;0<=hb;--hb)if(!va[hb].isDeleted){var nb=cg(va[hb]),ob=nb[1],ac=nb[2],Ub=nb[3];if(nb[0]<Ca&&Ca<ac&&ob<Qa&&Qa<Ub){Ja=va[hb];break}}return Ja}(this.scene.getElementsIncludingDeleted().filter(function(va){return!Ud(va)}),w,I))if(ba=wa.x+wa.width/2,wa=wa.y+wa.height/2,Math.hypot(w-ba,I-wa)<Sa.wZ)return w=hh({sceneX:ba,
sceneY:wa},U),{viewportX:w.x,viewportY:w.y,elementCenterX:ba,elementCenterY:wa}},u.prototype.getCanvasOffsets=function(w){var I,U;return"number"==typeof(null==w?void 0:w.offsetLeft)&&"number"==typeof(null==w?void 0:w.offsetTop)?{offsetLeft:w.offsetLeft,offsetTop:w.offsetTop}:null!==(I=this.excalidrawContainerRef)&&void 0!==I&&null!==(U=I.current)&&void 0!==U&&U.parentElement?(U=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),I=U.left,U=U.top,{offsetLeft:"number"==typeof(null==
w?void 0:w.offsetLeft)?w.offsetLeft:I,offsetTop:"number"==typeof(null==w?void 0:w.offsetTop)?w.offsetTop:U}):{offsetLeft:"number"==typeof(null==w?void 0:w.offsetLeft)?w.offsetLeft:0,offsetTop:"number"==typeof(null==w?void 0:w.offsetTop)?w.offsetTop:0}},u.prototype.updateLanguage=function(){var w=this;return Cb()(function(){var I;return bp(this,function(U){switch(U.label){case 0:return I=Uc.find(function(ba){return ba.code===w.props.langCode})||Kd,[4,bf(I)];case 1:return U.sent(),w.setAppState({}),
[2]}})})()},u}(V().Component);Ur.defaultProps={width:window.innerWidth,height:window.innerHeight};var Vt=function(){var e=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=V().createRef();this.getSceneElementsIncludingDeleted=function(){return e.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return e.scene.getElements()};this.syncActionResult=Uf(function(u){if(!e.unmounted&&!1!==u){var w=null;if(u.elements&&(u.elements.forEach(function(Qa){var Ja;(null===
(Ja=e.state.editingElement)||void 0===Ja?void 0:Ja.id)===Qa.id&&e.state.editingElement!==Qa&&!Qa.isDeleted&&(w=Qa)}),e.scene.replaceAllElements(u.elements),u.commitToHistory&&pk.resumeRecording()),u.appState||w){var I,U,ba;u.commitToHistory&&pk.resumeRecording();var wa=(null==u||null===(I=u.appState)||void 0===I?void 0:I.viewModeEnabled)||!1,va=(null==u||null===(U=u.appState)||void 0===U?void 0:U.zenModeEnabled)||!1,Ca=(null==u||null===(ba=u.appState)||void 0===ba?void 0:ba.gridSize)||null;void 0!==
e.props.viewModeEnabled&&(wa=e.props.viewModeEnabled);void 0!==e.props.zenModeEnabled&&(va=e.props.zenModeEnabled);void 0!==e.props.gridModeEnabled&&(Ca=e.props.gridModeEnabled?Sa.k:null);e.setState(function(Qa){var Ja;return Object.assign(u.appState||{},{editingElement:w||(null===(Ja=u.appState)||void 0===Ja?void 0:Ja.editingElement)||null,width:Qa.width,height:Qa.height,offsetTop:Qa.offsetTop,offsetLeft:Qa.offsetLeft,viewModeEnabled:wa,zenModeEnabled:va,gridSize:Ca})},function(){u.syncHistory&&
pk.setCurrentState(e.state,e.scene.getElementsIncludingDeleted())})}}});this.onBlur=Uf(function(){cp=!1;e.setState({isBindingEnabled:!0})});this.onUnload=function(){e.onBlur()};this.disableEvent=function(u){u.preventDefault()};this.onFontLoaded=function(){e.scene.getElementsIncludingDeleted().forEach(function(u){Ud(u)&&ui.delete(u)});e.onSceneUpdated()};this.importLibraryFromUrl=function(){var u=Cb()(function(w){var I,U,ba,wa,va;return bp(this,function(Ca){switch(Ca.label){case 0:window.history.replaceState({},
Sa.iC,window.location.origin),Ca.label=1;case 1:return Ca.trys.push([1,7,,8]),[4,fetch(w)];case 2:return[4,Ca.sent().blob()];case 3:return I=Ca.sent(),wa=(ba=JSON).parse,[4,I.text()];case 4:Ca=U=wa.apply(ba,[Ca.sent()]);if("object"!=typeof Ca||!Ca||"excalidrawlib"!==Ca.type||1!==Ca.version)throw Error();return window.confirm(Rb("alerts.confirmAddLibrary",{numShapes:U.library.length}))?[4,kh.importLibrary(I)]:[3,6];case 5:Ca.sent(),e.setState({isLibraryOpen:!0}),Ca.label=6;case 6:return[3,8];case 7:return va=
Ca.sent(),window.alert(Rb("alerts.errorLoadingLibrary")),console.error(va),[3,8];case 8:return[2]}})});return function(w){return u.apply(this,arguments)}}();this.resetHistory=function(){pk.clear()};this.resetScene=Uf(function(u){e.scene.replaceAllElements([]);e.setState(function(w){return Va(Va({},Ah()),{},{isLoading:(null==u||!u.resetLoadingState)&&w.isLoading,appearance:e.state.appearance})});e.resetHistory()});this.initializeScene=Cb()(function(){var u,w,I,U,ba;return bp(this,function(wa){switch(wa.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var va=Cb()(function(Ca){var Qa,Ja;return bp(this,function(hb){switch(hb.label){case 0:return Ca.files.length?[4,(Qa=Ca.files[0]).getFile()]:[2];case 1:return(Ja=hb.sent()).handle=Qa,Mm(Ja,e.state).then(function(nb){return e.syncActionResult({elements:nb.elements,appState:Va(Va({},nb.appState||e.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(nb){e.setState({isLoading:!1,errorMessage:nb.message})}),[2]}})});
return function(Ca){return va.apply(this,arguments)}}()),e.state.isLoading||e.setState({isLoading:!0}),w=null,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,e.props.initialData];case 2:return w=wa.sent()||null,[3,4];case 3:return I=wa.sent(),console.error(I),[3,4];case 4:return(U=kn(w,null)).appState=Va(Va({},U.appState),{},{isLoading:!1}),null!==(u=w)&&void 0!==u&&u.scrollToCenter&&(U.appState=Va(Va({},U.appState),ki(U.elements,Va(Va({},U.appState),{},{width:e.state.width,height:e.state.height,
offsetTop:e.state.offsetTop,offsetLeft:e.state.offsetLeft})))),e.resetHistory(),e.syncActionResult(Va(Va({},U),{},{commitToHistory:!0})),(ba=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,e.importLibraryFromUrl(ba)]:[3,6];case 5:wa.sent(),wa.label=6;case 6:return[2]}})});this.onResize=Uf(function(){e.scene.getElementsIncludingDeleted().forEach(function(u){return ui.delete(u)});e.setState({})});this.onScroll=ri(function(){var u=e.getCanvasOffsets(),w=u.offsetTop,I=u.offsetLeft;
e.setState(function(U){return U.offsetLeft===I&&U.offsetTop===w?null:{offsetTop:w,offsetLeft:I}})},Sa.HM);this.onCut=Uf(function(u){Ag(u.target)||(e.cutAll(),u.preventDefault())});this.onCopy=Uf(function(u){var w=document.getSelection();null!=w&&w.anchorNode&&!e.excalidrawContainerRef.current.contains(w.anchorNode)||Ag(u.target)||(e.copyAll(),u.preventDefault())});this.cutAll=function(){e.copyAll();e.actionManager.executeAction(Pg)};this.copyAll=function(){Ek(e.scene.getElements(),e.state)};this.onTapStart=
function(u){if(!tq)return tq=!0,clearTimeout(Xr),void(Xr=window.setTimeout(Ur.resetTapTwice,Sa.Gj));if(tq&&1===u.touches.length){var w=u.touches[0];e.handleCanvasDoubleClick({clientX:w.clientX,clientY:w.clientY});tq=!1;clearTimeout(Xr)}u.preventDefault();2===u.touches.length&&e.setState({selectedElementIds:{}})};this.onTapEnd=function(u){u.preventDefault();0<u.touches.length&&e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds})};this.pasteFromClipboard=
Uf(function(){var u=Cb()(function(w){var I,U,ba;return bp(this,function(wa){switch(wa.label){case 0:return I=document.activeElement,U=document.elementFromPoint(Fp,Gp),!w||U instanceof HTMLCanvasElement&&!Ag(I)?[4,bb(w)]:[2];case 1:return(ba=wa.sent()).errorMessage?e.setState({errorMessage:ba.errorMessage}):ba.spreadsheet?e.setState({pasteDialog:{data:ba.spreadsheet,shown:!0}}):ba.elements?e.addElementsFromPasteOrLibrary(ba.elements):ba.text&&e.addTextFromPaste(ba.text),e.selectShapeTool("selection"),
null==w||w.preventDefault(),[2]}})});return function(w){return u.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(u,w,I){void 0===w&&(w=Fp);void 0===I&&(I=Gp);var U=zg(u),ba=U[0],wa=U[1],va=Math.abs(ba-U[2])/2;U=Math.abs(wa-U[3])/2;w=rg({clientX:w,clientY:I},e.state);va=w.x-va;U=w.y-U;var Ca=new Map;va=pi(va,U,e.state.gridSize);var Qa=va[0],Ja=va[1],hb=new Map;va=u.map(function(nb){var ob=Xi(e.state.editingGroupId,Ca,nb,{x:nb.x+Qa-ba,y:nb.y+Ja-wa});return hb.set(nb.id,ob.id),
ob});U=ch(ch([],e.scene.getElementsIncludingDeleted()),va);Wj(U,u,hb);e.scene.replaceAllElements(U);pk.resumeRecording();e.setState(Th(Va(Va({},e.state),{},{isLibraryOpen:!1,selectedElementIds:va.reduce(function(nb,ob){return nb[ob.id]=!0,nb},{}),selectedGroupIds:{}}),e.scene.getElements()))};this.setAppState=function(u){e.setState(u)};this.removePointer=function(u){"touch"===u.pointerType&&go&&(clearTimeout(go),go=0,fq=!1);Cl.delete(u.pointerId)};this.toggleLock=function(){e.setState(function(u){return{elementLocked:!u.elementLocked,
elementType:u.elementLocked?"selection":u.elementType}})};this.toggleZenMode=function(){e.actionManager.executeAction(ge)};this.toggleStats=function(){e.state.showStats||Qg("dialog","stats");e.actionManager.executeAction($n)};this.setScrollToCenter=function(u){e.setState(Va({},ki(Xd(u),e.state,e.canvas)))};this.clearToast=function(){e.setState({toastMessage:null})};this.updateScene=Uf(function(u){var w;u.commitToHistory&&pk.resumeRecording();null!==(w=u.appState)&&void 0!==w&&w.viewBackgroundColor&&
e.setState({viewBackgroundColor:u.appState.viewBackgroundColor});u.elements&&e.scene.replaceAllElements(u.elements);u.collaborators&&e.setState({collaborators:u.collaborators})});this.onSceneUpdated=function(){e.setState({})};this.updateCurrentCursorPosition=Uf(function(u){Fp=u.x;Gp=u.y});this.onKeyDown=Uf(function(u){var w;if(!(("Proxy"in window&&(!u.shiftKey&&/^[A-Z]$/.test(u.key)||u.shiftKey&&/^[a-z]$/.test(u.key))&&(u=new Proxy(u,{get:function(wa,va){var Ca=wa[va];return"function"==typeof Ca?
Ca.bind(wa):"key"===va?u.shiftKey?wa.key.toUpperCase():wa.key.toLowerCase():Ca}})),Ag(u.target)&&"Escape"!==u.key||vg(u.key)&&(w=u.target,w instanceof HTMLElement&&"wysiwyg"===w.dataset.type||w instanceof HTMLBRElement||w instanceof HTMLInputElement||w instanceof HTMLTextAreaElement||w instanceof HTMLSelectElement))||("?"===u.key&&e.setState({showHelpDialog:!0}),e.actionManager.handleKeyDown(u)||e.state.viewModeEnabled))){if(u[Te]&&e.setState({isBindingEnabled:!1}),"Digit9"===u.code&&e.setState({isLibraryOpen:!e.state.isLibraryOpen}),
vg(u.key)){w=e.state.gridSize&&(u.shiftKey?Sa.$e:e.state.gridSize)||(u.shiftKey?Sa.Iw:Sa.$e);var I=e.scene.getElements().filter(function(wa){return e.state.selectedElementIds[wa.id]}),U=0,ba=0;"ArrowLeft"===u.key?U=-w:"ArrowRight"===u.key?U=w:"ArrowUp"===u.key?ba=-w:"ArrowDown"===u.key&&(ba=w);I.forEach(function(wa){$e(wa,{x:wa.x+U,y:wa.y+ba});yi(wa,{simultaneouslyUpdated:I})});e.maybeSuggestBindingForAll(I);u.preventDefault()}else if("Enter"===u.key)if(w=mf(e.scene.getElements(),e.state),1===w.length&&
Cg(w[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===w[0].id||(pk.resumeRecording(),e.setState({editingLinearElement:new Wf(w[0],e.scene)}));else{if(1===w.length&&!Cg(w[0]))return w=w[0],e.startTextEditing({sceneX:w.x+w.width/2,sceneY:w.y+w.height/2}),void u.preventDefault()}else u.ctrlKey||u.altKey||u.metaKey||null!==e.state.draggingElement||((w=function(wa){var va=wm.find(function(Ca,Qa){return wa===(Qa+1).toString()||("string"==typeof Ca.key?Ca.key===wa:Ca.key.includes(wa))});
return(null==va?void 0:va.value)||null}(u.key))?e.selectShapeTool(w):"q"===u.key&&e.toggleLock());" "===u.key&&0===Cl.size&&(cp=!0,Hi(e.canvas,Sa.oc.GRABBING))}});this.onKeyUp=Uf(function(u){if(" "===u.key&&("selection"===e.state.elementType?Gi(e.canvas):(si(e.canvas,e.state.elementType),e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),cp=!1),u[Te]||e.state.isBindingEnabled||e.setState({isBindingEnabled:!0}),vg(u.key))u=mf(e.scene.getElements(),e.state),e.state.isBindingEnabled?
sg(u):eh(u),e.setState({suggestedBindings:[]})});this.onGestureStart=Uf(function(u){u.preventDefault();e.setState({selectedElementIds:{}});yp=e.state.zoom.value});this.onGestureChange=Uf(function(u){if(u.preventDefault(),2!==Cl.size){var w=yp;w&&e.setState(function(I){var U=I.zoom,ba=I.offsetLeft;I=I.offsetTop;return{zoom:$h(Uj(w*u.scale),U,{left:ba,top:I},{x:Fp,y:Gp})}})}});this.onGestureEnd=Uf(function(u){u.preventDefault();e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds});
yp=null});this.startTextEditing=function(u){var w=u.sceneX,I=u.sceneY;u=u.insertAtParentCenter;var U=void 0===u||u;u=e.getTextElementAtPosition(w,I);U=U&&e.getTextWysiwygSnappedToCenterPosition(w,I,e.state,e.canvas,window.devicePixelRatio);w=u||Kj({x:U?U.elementCenterX:w,y:U?U.elementCenterY:I,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,
roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness,text:"",fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily,textAlign:U?"center":e.state.currentItemTextAlign,verticalAlign:U?"middle":Sa.hs});e.setState({editingElement:w});u?U&&"center"===w.textAlign||$e(w,{verticalAlign:Sa.hs}):(e.scene.replaceAllElements(ch(ch([],e.scene.getElementsIncludingDeleted()),[w])),U||$e(w,{y:w.y-w.baseline/2}));e.setState({editingElement:w});
e.handleTextWysiwyg(w,{isExistingElement:!!u})};this.handleCanvasDoubleClick=function(u){if(!e.state.multiElement&&"selection"===e.state.elementType){var w=mf(e.scene.getElements(),e.state);if(1===w.length&&Cg(w[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===w[0].id||(pk.resumeRecording(),e.setState({editingLinearElement:new Wf(w[0],e.scene)}));else{Gi(e.canvas);var I=rg(u,e.state);w=I.x;I=I.y;if(0<Ji(e.state).length){var U=e.getElementAtPosition(w,I),ba=U&&function(wa,
va){return wa.groupIds.find(function(Ca){return va[Ca]})}(U,e.state.selectedGroupIds);if(ba)return void e.setState(function(wa){var va;return Th(Va(Va({},wa),{},{editingGroupId:ba,selectedElementIds:(va={},va[U.id]=!0,va),selectedGroupIds:{}}),e.scene.getElements())})}Gi(e.canvas);u[Te]||e.startTextEditing({sceneX:w,sceneY:I,insertAtParentCenter:!u.altKey})}}};this.handleCanvasPointerMove=function(u){e.savePointer(u.clientX,u.clientY,e.state.cursorButton);Cl.has(u.pointerId)&&Cl.set(u.pointerId,{x:u.clientX,
y:u.clientY});var w=yp;if(2===Cl.size&&vp&&w&&br){var I=Rm(Cl),U=I.x-vp.x,ba=I.y-vp.y;vp=I;var wa=bo(Array.from(Cl.values()))/br;e.setState(function(ac){var Ub=ac.zoom,uc=ac.offsetLeft,Zc=ac.offsetTop;return{scrollX:ac.scrollX+U/Ub.value,scrollY:ac.scrollY+ba/Ub.value,zoom:$h(Uj(w*wa),Ub,{left:uc,top:Zc},I),shouldCacheIgnoreZoom:!0}});e.resetShouldCacheIgnoreZoomDebounced()}else vp=br=yp=null;if(!(cp||uq||Yr)){var va=ii(Wr,u.clientX-e.state.offsetLeft,u.clientY-e.state.offsetTop).isOverEither;e.state.draggingElement||
e.state.multiElement||(va?Gi(e.canvas):si(e.canvas,e.state.elementType));var Ca=rg(u,e.state),Qa=Ca.x,Ja=Ca.y;if(e.state.editingLinearElement&&!e.state.editingLinearElement.isDragging){var hb=Wf.handlePointerMove(u,Qa,Ja,e.state.editingLinearElement,e.state.gridSize);hb!==e.state.editingLinearElement&&e.setState({editingLinearElement:hb});null!=hb.lastUncommittedPoint?e.maybeSuggestBindingAtCursor(Ca):e.setState({suggestedBindings:[]})}"arrow"===e.state.elementType&&(hb=e.state.draggingElement,lg(hb)?
e.maybeSuggestBindingForLinearElementAtCursor(hb,"end",Ca,e.state.startBoundElement):e.maybeSuggestBindingAtCursor(Ca));if(e.state.multiElement){va=e.state.multiElement;Ca=va.x;hb=va.y;u=va.points;var nb=va.lastCommittedPoint,ob=u[u.length-1];return si(e.canvas,e.state.elementType),void(ob===nb?Math.hypot(ob[0]-(Qa-Ca),ob[1]-(Ja-hb))>=Sa.qx?$e(va,{points:ch(ch([],u),[[Qa-Ca,Ja-hb]])}):Hi(e.canvas,Sa.oc.POINTER):2<u.length&&nb&&Math.hypot(nb[0]-(Qa-Ca),nb[1]-(Ja-hb))<Sa.qx?(Hi(e.canvas,Sa.oc.POINTER),
$e(va,{points:u.slice(0,-1)})):(ci(u,e.state.zoom.value)&&Hi(e.canvas,Sa.oc.POINTER),$e(va,{points:ch(ch([],u.slice(0,-1)),[[Qa-Ca,Ja-hb]])})))}if(!(u.buttons||"selection"!==e.state.elementType&&"text"!==e.state.elementType)){nb=e.scene.getElements();hb=mf(nb,e.state);if(1!==hb.length||va||e.state.editingLinearElement){if(1<hb.length&&!va&&(Qa=ef(zg(hb),Qa,Ja,e.state.zoom,u.pointerType)))return void Hi(e.canvas,we({transformHandleType:Qa}))}else if((Qa=Mi(nb,e.state,Qa,Ja,e.state.zoom,u.pointerType))&&
Qa.transformHandleType)return void Hi(e.canvas,we(Qa));Qa=e.getElementAtPosition(Ca.x,Ca.y);"text"===e.state.elementType?Hi(e.canvas,Ud(Qa)?Sa.oc.TEXT:Sa.oc.CROSSHAIR):va?Hi(e.canvas,Sa.oc.AUTO):Qa||e.isHittingCommonBoundingBoxOfSelectedElements(Ca,hb)?Hi(e.canvas,Sa.oc.MOVE):Hi(e.canvas,Sa.oc.AUTO)}}};this.handleTouchMove=function(u){fq=!0};this.handleCanvasPointerDown=function(u){if(u.persist(),e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(u),e.maybeCleanupAfterMissingPointerUp(u),!(uq||
(e.setState({lastPointerDownWith:u.pointerType,cursorButton:"down"}),e.savePointer(u.clientX,u.clientY,"down"),e.handleCanvasPanUsingWheelOrSpaceDrag(u)||u.button!==Sa.Oh.MAIN&&u.button!==Sa.Oh.TOUCH||(e.updateGestureOnPointerDown(u),u.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<Cl.size)))){var w=e.initialPointerDownState(u);if(!e.handleDraggingScrollBar(u,w)&&(e.clearSelectionIfNotUsingSelection(),e.updateBindingEnabledOnPointerMove(u),!e.handleSelectionOnPointerDown(u,
w)))if("text"!==e.state.elementType){"arrow"===e.state.elementType||"draw"===e.state.elementType||"line"===e.state.elementType?e.handleLinearElementOnPointerDown(u,e.state.elementType,w):e.createGenericElementOnPointerDown(e.state.elementType,w);u=e.onPointerMoveFromPointerDownHandler(w);var I=e.onPointerUpFromPointerDownHandler(w),U=e.onKeyDownFromPointerDownHandler(w),ba=e.onKeyUpFromPointerDownHandler(w);ho=I;e.state.viewModeEnabled||(window.addEventListener(Sa.Ks.POINTER_MOVE,u),window.addEventListener(Sa.Ks.POINTER_UP,
I),window.addEventListener(Sa.Ks.KEYDOWN,U),window.addEventListener(Sa.Ks.KEYUP,ba),w.eventListeners.onMove=u,w.eventListeners.onUp=I,w.eventListeners.onKeyUp=ba,w.eventListeners.onKeyDown=U)}else e.handleTextOnPointerDown(u,w)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(u){"touch"===u.pointerType&&(fq=!1,go?fq=!0:go=window.setTimeout(function(){go=0;fq||e.openContextMenu({clientX:u.clientX,clientY:u.clientY})},Sa.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(u){if(0!==
Cl.size||!(u.button===Sa.Oh.WHEEL||u.button===Sa.Oh.MAIN&&cp||e.state.viewModeEnabled))return!1;uq=!0;var w=!1,I=/Linux/.test(window.navigator.platform);Hi(e.canvas,Sa.oc.GRABBING);var U=u.clientX,ba=u.clientY,wa=Uf(function(Ca){var Qa=U-Ca.clientX,Ja=ba-Ca.clientY;if(U=Ca.clientX,ba=Ca.clientY,I&&!w&&(1<Math.abs(Qa)||1<Math.abs(Ja))){w=!0;var hb=function(ob){document.body.removeEventListener(Sa.Ks.PASTE,hb);ob.stopPropagation()},nb=function(){setTimeout(function(){document.body.removeEventListener(Sa.Ks.PASTE,
hb);window.removeEventListener(Sa.Ks.POINTER_UP,nb)},100)};document.body.addEventListener(Sa.Ks.PASTE,hb);window.addEventListener(Sa.Ks.POINTER_UP,nb)}e.setState({scrollX:e.state.scrollX-Qa/e.state.zoom.value,scrollY:e.state.scrollY-Ja/e.state.zoom.value})}),va=Uf(ho=function(){ho=null;uq=!1;cp||si(e.canvas,e.state.elementType);e.setState({cursorButton:"up"});e.savePointer(u.clientX,u.clientY,"up");window.removeEventListener(Sa.Ks.POINTER_MOVE,wa);window.removeEventListener(Sa.Ks.POINTER_UP,va);window.removeEventListener(Sa.Ks.BLUR,
va)});return window.addEventListener(Sa.Ks.BLUR,va),window.addEventListener(Sa.Ks.POINTER_MOVE,wa,{passive:!0}),window.addEventListener(Sa.Ks.POINTER_UP,va),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==e.state.elementType&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(u,w){if("selection"===e.state.elementType){var I=e.scene.getElements(),U=mf(I,e.state);1!==U.length||e.state.editingLinearElement?1<U.length&&
(w.resize.handleType=ef(zg(U),w.origin.x,w.origin.y,e.state.zoom,u.pointerType)):(I=Mi(I,e.state,w.origin.x,w.origin.y,e.state.zoom,u.pointerType),null!=I&&(e.setState({resizingElement:I.element}),w.resize.handleType=I.transformHandleType));if(w.resize.handleType)Hi(e.canvas,we({transformHandleType:w.resize.handleType})),w.resize.isResizing=!0,w.resize.offset=Bg(function(nb,ob,ac,Ub){var uc,Zc=1===ob.length?cg(ob[0]):zg(ob),cd=Zc[0],pd=Zc[1],ce=Zc[2];Zc=Zc[3];ob=1===ob.length?ob[0].angle:0;switch(ac=
(uc=zf(ac,Ub,(cd+ce)/2,(pd+Zc)/2,-ob))[0],Ub=uc[1],nb){case "n":return zf(ac-(cd+ce)/2,Ub-pd,0,0,ob);case "s":return zf(ac-(cd+ce)/2,Ub-Zc,0,0,ob);case "w":return zf(ac-cd,Ub-(pd+Zc)/2,0,0,ob);case "e":return zf(ac-ce,Ub-(pd+Zc)/2,0,0,ob);case "nw":return zf(ac-cd,Ub-pd,0,0,ob);case "ne":return zf(ac-ce,Ub-pd,0,0,ob);case "sw":return zf(ac-cd,Ub-Zc,0,0,ob);case "se":return zf(ac-ce,Ub-Zc,0,0,ob);default:return[0,0]}}(w.resize.handleType,U,w.origin.x,w.origin.y)),1===U.length&&Cg(U[0])&&2===U[0].points.length&&
(w.resize.arrowDirection=(va=w.resize.handleType,Ca=U[0],Qa=Ca.points[1],Ja=Qa[0],hb=Qa[1],"nw"===va&&(0>Ja||0>hb)||"ne"===va&&0<=Ja||"sw"===va&&0>=Ja||"se"===va&&(0<Ja||0<hb)?"end":"origin"));else{var ba;if(e.state.editingLinearElement&&(U=Wf.handlePointerDown(u,e.state,function(nb){return e.setState(nb)},pk,w.origin),U.hitElement&&(w.hit.element=U.hitElement),U.didAddPoint))return!0;w.hit.element=null!==(ba=w.hit.element)&&void 0!==ba?ba:e.getElementAtPosition(w.origin.x,w.origin.y);w.hit.allHitElements=
e.getElementsAtPosition(w.origin.x,w.origin.y);var wa=w.hit.element;ba=w.hit.allHitElements.some(function(nb){return e.isASelectedElement(nb)});if(null!==wa&&ba||u.shiftKey||w.hit.hasHitCommonBoundingBoxOfSelectedElements||e.clearSelection(wa),null!=wa){if(u[Te])return e.setState(function(nb){var ob;nb=Oa(Oa({},nb),{},{editingGroupId:wa.groupIds.length?wa.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(ob={},ob[wa.id]=!0,ob)});return Va(Va({},nb),{},{previousSelectedElementIds:e.state.selectedElementIds})}),
!1;e.state.selectedElementIds[wa.id]||(e.state.editingGroupId&&!wa.groupIds.includes(e.state.editingGroupId)&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),ba||w.hit.hasHitCommonBoundingBoxOfSelectedElements||(e.setState(function(nb){var ob;return Th(Va(Va({},nb),{},{selectedElementIds:Va(Va({},nb.selectedElementIds),{},(ob={},ob[wa.id]=!0,ob))}),e.scene.getElements())}),w.hit.wasAddedToSelection=!0))}e.setState({previousSelectedElementIds:e.state.selectedElementIds})}}var va,
Ca,Qa,Ja,hb;return!1};this.handleTextOnPointerDown=function(u,w){var I;"text"!==(null===(I=e.state.editingElement)||void 0===I?void 0:I.type)&&(e.startTextEditing({sceneX:w.origin.x,sceneY:w.origin.y,insertAtParentCenter:!u.altKey}),Gi(e.canvas),e.state.elementLocked||e.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(u,w,I){if(e.state.multiElement){var U=e.state.multiElement;if("line"===U.type&&ci(U.points,e.state.zoom.value))return $e(U,{lastCommittedPoint:U.points[U.points.length-
1]}),void e.actionManager.executeAction(Ef);w=U.x;u=U.y;var ba=U.lastCommittedPoint;if(1<U.points.length&&ba&&Math.hypot(ba[0]-(I.origin.x-w),ba[1]-(I.origin.y-u))<Sa.qx)return void e.actionManager.executeAction(Ef);e.setState(function(Ca){var Qa;return{selectedElementIds:Va(Va({},Ca.selectedElementIds),{},(Qa={},Qa[U.id]=!0,Qa))}});$e(U,{lastCommittedPoint:U.points[U.points.length-1]});Hi(e.canvas,Sa.oc.POINTER)}else{u=pi(I.origin.x,I.origin.y,"draw"===w?null:e.state.gridSize);var wa=e.state;ba=
wa.currentItemStartArrowhead;wa=wa.currentItemEndArrowhead;ba="arrow"===w?[ba,wa]:[null,null];var va=Ke({type:w,x:u[0],y:u[1],strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,startArrowhead:ba[0],endArrowhead:ba[1]});
e.setState(function(Ca){var Qa;return{selectedElementIds:Va(Va({},Ca.selectedElementIds),{},(Qa={},Qa[va.id]=!1,Qa))}});$e(va,{points:ch(ch([],va.points),[[0,0]])});I=Zh(I.origin,e.scene);e.scene.replaceAllElements(ch(ch([],e.scene.getElementsIncludingDeleted()),[va]));e.setState({draggingElement:va,editingElement:va,startBoundElement:I,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(u,w){w=pi(w.origin.x,w.origin.y,e.state.gridSize);u=Ol({type:u,x:w[0],y:w[1],strokeColor:e.state.currentItemStrokeColor,
backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness});"selection"===u.type?e.setState({selectionElement:u,draggingElement:u}):(e.scene.replaceAllElements(ch(ch([],e.scene.getElementsIncludingDeleted()),[u])),e.setState({multiElement:null,draggingElement:u,
editingElement:u}))};this.updateBindingEnabledOnPointerMove=function(u){u=!u[Te];e.state.isBindingEnabled!==u&&e.setState({isBindingEnabled:u})};this.maybeSuggestBindingAtCursor=function(u){u=Zh(u,e.scene);e.setState({suggestedBindings:null!=u?[u]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(u,w,I,U){w=Zh(I,e.scene);e.setState({suggestedBindings:null==w||(null==U?void 0:U.id)===w.id&&3>u.points.length?[]:[w]})};this.handleCanvasRef=function(u){var w,I,U;null!==u?(e.canvas=u,e.rc=
Fh.canvas(e.canvas),e.canvas.addEventListener(Sa.Ks.WHEEL,e.handleWheel,{passive:!1}),e.canvas.addEventListener(Sa.Ks.TOUCH_START,e.onTapStart),e.canvas.addEventListener(Sa.Ks.TOUCH_END,e.onTapEnd)):(null===(w=e.canvas)||void 0===w||w.removeEventListener(Sa.Ks.WHEEL,e.handleWheel),null===(I=e.canvas)||void 0===I||I.removeEventListener(Sa.Ks.TOUCH_START,e.onTapStart),null===(U=e.canvas)||void 0===U||U.removeEventListener(Sa.Ks.TOUCH_END,e.onTapEnd))};this.handleCanvasOnDrop=function(){var u=Cb()(function(w){var I,
U,ba,wa,va,Ca,Qa,Ja,hb,nb,ob;return bp(this,function(ac){switch(ac.label){case 0:return ac.trys.push([0,3,,4]),"image/png"!==(null==(U=w.dataTransfer.files[0])?void 0:U.type)&&"image/svg+xml"!==(null==U?void 0:U.type)?[3,2]:[4,Mm(U,e.state)];case 1:return ba=ac.sent(),wa=ba.elements,va=ba.appState,e.syncActionResult({elements:wa,appState:Va(Va({},va||e.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ca=ac.sent(),[2,e.setState({isLoading:!1,errorMessage:Ca.message})];
case 4:if(""!==(Qa=w.dataTransfer.getData(Sa.LO.excalidrawlib)))return e.addElementsFromPasteOrLibrary(JSON.parse(Qa),w.clientX,w.clientY),[2];if(!("application/json"===(null==(Ja=null===(I=w.dataTransfer)||void 0===I?void 0:I.files[0])?void 0:Ja.type)||null!=Ja&&Ja.name.endsWith(".excalidraw")))return[3,9];if(e.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];ac.label=5;case 5:return ac.trys.push([5,7,,8]),hb=w.dataTransfer.items[0],nb=Ja,
[4,hb.getAsFileSystemHandle()];case 6:return nb.handle=ac.sent(),[3,8];case 7:return ob=ac.sent(),console.warn(ob.name,ob.message),[3,8];case 8:return Mm(Ja,e.state).then(function(Ub){return e.syncActionResult({elements:Ub.elements,appState:Va(Va({},Ub.appState||e.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Ub){e.setState({isLoading:!1,errorMessage:Ub.message})}),[3,10];case 9:(null==Ja?void 0:Ja.type)===Sa.LO.excalidrawlib||null!=Ja&&Ja.name.endsWith(".excalidrawlib")?kh.importLibrary(Ja).then(function(){e.setState({isLibraryOpen:!1})}).catch(function(Ub){return e.setState({isLoading:!1,
errorMessage:Ub.message})}):e.setState({isLoading:!1,errorMessage:Rb("alerts.couldNotLoadInvalidFile")}),ac.label=10;case 10:return[2]}})});return function(w){return u.apply(this,arguments)}}();this.handleCanvasContextMenu=function(u){u.preventDefault();e.openContextMenu(u)};this.maybeDragNewGenericElement=function(u,w){var I=e.state.draggingElement,U=u.lastCoords;if(I)if("selection"===I.type)ji(I,e.state.elementType,u.origin.x,u.origin.y,U.x,U.y,Math.abs(u.origin.x-U.x),Math.abs(u.origin.y-U.y),
w.shiftKey,w.altKey);else{var ba=pi(U.x,U.y,e.state.gridSize);U=ba[0];ba=ba[1];ji(I,e.state.elementType,u.originInGrid.x,u.originInGrid.y,U,ba,Math.abs(u.originInGrid.x-U),Math.abs(u.originInGrid.y-ba),w.shiftKey,w.altKey);e.maybeSuggestBindingForAll([I])}};this.maybeHandleResize=function(u,w){var I=mf(e.scene.getElements(),e.state),U=u.resize.handleType;e.setState({isResizing:U&&"rotation"!==U,isRotating:"rotation"===U});var ba=u.lastCoords;ba=pi(ba.x-u.resize.offset.x,ba.y-u.resize.offset.y,e.state.gridSize);
a:{var wa=u.resize.arrowDirection,va=w.shiftKey,Ca=w.altKey;w=w.shiftKey;var Qa=ba[0],Ja=ba[1];ba=u.resize.center.x;var hb=u.resize.center.y;if(1===I.length){ba=I[0];if("rotation"===U)U=cg(ba),U=5*Math.PI/2+Math.atan2(Ja-(U[1]+U[3])/2,Qa-(U[0]+U[2])/2),va&&(U+=Sa.ay/2,U-=U%Sa.ay),U=Ff(U),$e(ba,{angle:U}),yi(ba);else if(!Cg(ba)||2!==ba.points.length||"nw"!==U&&"ne"!==U&&"sw"!==U&&"se"!==U)if(!Ud(ba)||"nw"!==U&&"ne"!==U&&"sw"!==U&&"se"!==U){if(U){wa=u.originalElements.get(ba.id);var nb=Ng(wa,wa.width,
wa.height);va=[nb[0],nb[1]];u=[nb[2],nb[3]];nb=[(va[0]+u[0])/2,(va[1]+u[1])/2];hb=gj([Qa,Ja],nb,-wa.angle);Qa=Ng(ba,ba.width,ba.height);var ob=Qa[2]-Qa[0],ac=Qa[3]-Qa[1];Qa=(u[0]-va[0])/ob;Ja=(u[1]-va[1])/ac;U.includes("e")&&(Qa=(hb[0]-va[0])/ob);U.includes("s")&&(Ja=(hb[1]-va[1])/ac);U.includes("w")&&(Qa=(u[0]-hb[0])/ob);U.includes("n")&&(Ja=(u[1]-hb[1])/ac);hb=wa.width;ob=wa.height;Qa*=ba.width;Ja*=ba.height;if(Ca&&(Qa=2*Qa-hb,Ja=2*Ja-ob),w){ac=Math.abs(Qa)/hb;var Ub=Math.abs(Ja)/ob;if(1===U.length&&
(Ja*=ac,Qa*=Ub),2===U.length)ac=Math.max(ac,Ub),Qa=hb*ac*Math.sign(Qa),Ja=ob*ac*Math.sign(Ja)}Ub=Ng(wa,Qa,Ja);hb=Ub[0];ob=Ub[1];ac=Ub[2]-hb;Ub=Ub[3]-ob;var uc=sj([],va);if(["n","w","nw"].includes(U)&&(uc=[u[0]-Math.abs(ac),u[1]-Math.abs(Ub)]),"ne"===U)uc=[va[0],u[1]],uc=[uc[0],uc[1]-Math.abs(Ub)];"sw"===U&&(va=[u[0],va[1]],uc=[va[0]-Math.abs(ac),va[1]]);w&&(["s","n"].includes(U)&&(uc[0]=nb[0]-ac/2),["e","w"].includes(U)&&(uc[1]=nb[1]-Ub/2));0>Qa&&(U.includes("e")&&(uc[0]-=Math.abs(ac)),U.includes("w")&&
(uc[0]+=Math.abs(ac)));0>Ja&&(U.includes("s")&&(uc[1]-=Math.abs(Ub)),U.includes("n")&&(uc[1]+=Math.abs(Ub)));Ca&&(uc[0]=nb[0]-Math.abs(ac)/2,uc[1]=nb[1]-Math.abs(Ub)/2);U=wa.angle;Ca=gj(uc,nb,U);w=gj([uc[0]+Math.abs(ac)/2,uc[1]+Math.abs(Ub)/2],nb,U);uc=gj(Ca,w,-U);U=af(wa,Qa,Ja);Ca=sj([],uc);Ca[0]+=wa.x-hb;Ca[1]+=wa.y-ob;U=lc({width:Math.abs(Qa),height:Math.abs(Ja),x:Ca[0],y:Ca[1]},U);0!==U.width&&0!==U.height&&Number.isFinite(U.x)&&Number.isFinite(U.y)&&(yi(ba,{newSize:{width:U.width,height:U.height}}),
$e(ba,U))}}else{wa=cg(ba);u=wa[0];va=wa[1];w=wa[2];wa=wa[3];Ja=zf(Qa,Ja,(u+w)/2,(va+wa)/2,-ba.angle);Qa=Ja[0];Ja=Ja[1];switch(U){case "se":nb=Math.max((Qa-u)/(w-u),(Ja-va)/(wa-va));break;case "nw":nb=Math.max((w-Qa)/(w-u),(wa-Ja)/(wa-va));break;case "ne":nb=Math.max((Qa-u)/(w-u),(wa-Ja)/(wa-va));break;case "sw":nb=Math.max((w-Qa)/(w-u),(Ja-va)/(wa-va))}0<nb&&(Qa=ba.width*nb,nb*=ba.height,Ja=Kg(ba,Qa,nb),null!==Ja&&(hb=Ng(ba,Qa,nb),u=(u-hb[0])/2,va=(va-hb[1])/2,w=(w-hb[2])/2,wa=(wa-hb[3])/2,U={n:/^(n|ne|nw)$/.test(U)||
Ca&&/^(s|se|sw)$/.test(U),s:/^(s|se|sw)$/.test(U)||Ca&&/^(n|ne|nw)$/.test(U),w:/^(w|nw|sw)$/.test(U)||Ca&&/^(e|ne|se)$/.test(U),e:/^(e|ne|se)$/.test(U)||Ca&&/^(w|nw|sw)$/.test(U)},U=Rf(U,ba.x,ba.y,ba.angle,u,va,w,wa),$e(ba,{fontSize:Ja.size,width:Qa,height:nb,baseline:Ja.baseline,x:U[0],y:U[1]})));yi(ba)}else U=cg(ba),Ca=zf(Qa,Ja,(U[0]+U[2])/2,(U[1]+U[3])/2,-ba.angle),U=Ca[0],Ca=Ca[1],Ca="end"===wa?[U-ba.x,Ca-ba.y]:[ba.x+ba.points[1][0]-U,ba.y+ba.points[1][1]-Ca],U=Ca[0],Ca=Ca[1],va&&(w=ba.angle,
U=Je.apply(void 0,sj([ba.type],zf(U,Ca,0,0,w))),Ca=zf(U.width,U.height,0,0,-w),U=Ca[0],Ca=Ca[1]),w=Rf("end"===wa?{s:!0,e:!0}:{n:!0,w:!0},ba.x,ba.y,ba.angle,0,0,(ba.points[1][0]-U)/2,(ba.points[1][1]-Ca)/2),$e(ba,{x:w[0],y:w[1],points:[[0,0],[U,Ca]]});ba=!0}else{if(1<I.length){if("rotation"===U){ba=(tl(u,I,Qa,Ja,va,ba,hb),!0);break a}if("nw"===U||"ne"===U||"sw"===U||"se"===U){ba=(Jl(I,U,Qa,Ja),!0);break a}}ba=!1}}return!!ba&&(e.maybeSuggestBindingForAll(I),!0)};this.openContextMenu=function(u){var w,
I=u.clientX;u=u.clientY;var U=rg({clientX:I,clientY:u},e.state),ba=U.x,wa=U.y,va=Vf.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),Ca=wi.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState());U=tg().matches;var Qa=e.scene.getElements();ba=e.getElementAtPosition(ba,wa);wa=[];(Fk&&0<Qa.length&&wa.push(sp),Yj&&0<Qa.length&&wa.push(tp),ba)?(e.state.selectedElementIds[ba.id]||e.setState({selectedElementIds:(w=
{},w[ba.id]=!0,w)}),e.state.viewModeEnabled?En({options:ch([navigator.clipboard&&nn],wa),top:u,left:I,actionManager:e.actionManager,appState:e.state}):En({options:ch(ch([U&&cq,U&&navigator.clipboard&&nn,U&&navigator.clipboard&&{name:"paste",perform:function(Ja,hb){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},U&&"separator"],wa),["separator",gf,Ze,"separator",va&&Vf,Ca&&wi,(va||Ca)&&"separator",Ko,"separator",Am,vl,n,E,"separator",oa,Pg]),top:u,left:I,actionManager:e.actionManager,
appState:e.state})):(w=ch(ch([],wa),[void 0===e.props.gridModeEnabled&&qp,void 0===e.props.zenModeEnabled&&ge,void 0===e.props.viewModeEnabled&&Ss,$n]),(En({options:w,top:u,left:I,actionManager:e.actionManager,appState:e.state}),e.state.viewModeEnabled)||En({options:[U&&navigator.clipboard&&{name:"paste",perform:function(Ja,hb){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},U&&navigator.clipboard&&"separator",Fk&&0<Qa.length&&sp,Yj&&0<Qa.length&&tp,(Fk&&0<
Qa.length||Yj&&0<Qa.length)&&"separator",Y,"separator",void 0===e.props.gridModeEnabled&&qp,void 0===e.props.zenModeEnabled&&ge,void 0===e.props.viewModeEnabled&&Ss,$n],top:u,left:I,actionManager:e.actionManager,appState:e.state}))};this.handleWheel=Uf(function(u){if(u.preventDefault(),!uq){var w=u.deltaX,I=u.deltaY,U=e.state,ba=U.selectedElementIds,wa=U.previousSelectedElementIds;if(u.metaKey||u.ctrlKey){u=Math.sign(I);U=Math.abs(I);10<U&&(U=10);U*=u;0!==Object.keys(wa).length&&setTimeout(function(){e.setState({selectedElementIds:wa,
previousSelectedElementIds:{}})},1E3);var va=e.state.zoom.value-U/100;return va+=Math.log10(Math.max(1,e.state.zoom.value))*-u,va=Math.round(va*Sa.V4*100)/(100*Sa.V4),e.setState(function(Ca){var Qa=Ca.zoom,Ja=Ca.offsetLeft;Ca=Ca.offsetTop;return{zoom:$h(Uj(va),Qa,{left:Ja,top:Ca},{x:Fp,y:Gp}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(ba).length?ba:wa,shouldCacheIgnoreZoom:!0}}),void e.resetShouldCacheIgnoreZoomDebounced()}u.shiftKey?e.setState(function(Ca){return{scrollX:Ca.scrollX-
(I||w)/Ca.zoom.value}}):e.setState(function(Ca){var Qa=Ca.zoom;return{scrollX:Ca.scrollX-w/Qa.value,scrollY:Ca.scrollY-I/Qa.value}})}});this.savePointer=function(u,w,I){var U,ba;u&&w&&(u=rg({clientX:u,clientY:w},e.state),isNaN(u.x)||isNaN(u.y),null===(U=(ba=e.props).onPointerUpdate)||void 0===U||U.call(ba,{pointer:u,button:I,pointersMap:Cl}))};this.resetShouldCacheIgnoreZoomDebounced=ri(function(){e.unmounted||e.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==Sa.Vi.TEST&&"production"!==
Sa.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(e){return this.app.scene.replaceAllElements(e)}},history:{configurable:!0,get:function(){return pk}},library:{configurable:!0,value:kh}}));h(8234);h(4651);var Os=function(e){var u=e.width,w=e.height,I=e.offsetLeft,U=e.offsetTop,ba=e.onChange,wa=e.initialData,va=e.excalidrawRef,Ca=e.onCollabButtonClick,Qa=e.isCollaborating,
Ja=e.onPointerUpdate,hb=e.onExportToBackend,nb=e.renderFooter,ob=e.langCode;ob=void 0===ob?Kd.code:ob;var ac=e.viewModeEnabled,Ub=e.zenModeEnabled;e=e.gridModeEnabled;return(0,ha.useEffect)(function(){var uc=function(Zc){"number"==typeof Zc.scale&&1!==Zc.scale&&Zc.preventDefault()};return document.addEventListener("touchmove",uc,{passive:!1}),function(){document.removeEventListener("touchmove",uc)}},[]),V().createElement(Mh,{langCode:ob},V().createElement(hg,null,V().createElement(Ur,{width:u,height:w,
offsetLeft:I,offsetTop:U,onChange:ba,initialData:wa,excalidrawRef:va,onCollabButtonClick:Ca,isCollaborating:Qa,onPointerUpdate:Ja,onExportToBackend:hb,renderFooter:nb,langCode:ob,viewModeEnabled:ac,zenModeEnabled:Ub,gridModeEnabled:e})))};Os.defaultProps={lanCode:Kd.code};var Wt=(0,ha.forwardRef)(function(e,u){return V().createElement(Os,Aa()({},e,{excalidrawRef:u}))});const Xt=V().memo(Wt,function(e,u){e.initialData;var w=P()(e,["initialData"]),I=(u.initialData,P()(u,["initialData"]));e=Object.keys(e);
u=Object.keys(u);return e.length===u.length&&e.every(function(U){return w[U]===I[U]})});h(6009);const du=Xt},4698:y=>{y.exports=t},6207:y=>{y.exports=q}},a={};return m.m=p,m.n=y=>{var l=y&&y.__esModule?()=>y.default:()=>y;return m.d(l,{a:l}),l},d=Object.getPrototypeOf?y=>Object.getPrototypeOf(y):y=>y.__proto__,m.t=function(y,l){if((1&l&&(y=this(y)),8&l)||"object"==typeof y&&y&&(4&l&&y.__esModule||16&l&&"function"==typeof y.then))return y;var h=Object.create(null);m.r(h);var x={};f=f||[null,d({}),
d([]),d(d)];for(l=2&l&&y;"object"==typeof l&&!~f.indexOf(l);l=d(l))Object.getOwnPropertyNames(l).forEach(z=>x[z]=()=>y[z]);return x.default=()=>y,m.d(h,x),h},m.d=(y,l)=>{for(var h in l)m.o(l,h)&&!m.o(y,h)&&Object.defineProperty(y,h,{enumerable:!0,get:l[h]})},m.f={},m.e=y=>Promise.all(Object.keys(m.f).reduce((l,h)=>(m.f[h](y,l),l),[])),m.u=y=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",
196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",
736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[y]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",
317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",
869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[y]+".js",m.o=(y,l)=>Object.prototype.hasOwnProperty.call(y,l),k={},m.l=(y,l,h,x)=>{if(k[y])k[y].push(l);else{var z;if(void 0!==h){x=document.getElementsByTagName("script");for(var B=0;B<x.length;B++){var L=x[B];if(L.getAttribute("src")==y||L.getAttribute("data-webpack")=="Excalidraw:"+h){var N=L;break}}}N||(z=!0,(N=document.createElement("script")).charset="utf-8",N.timeout=120,m.nc&&N.setAttribute("nonce",m.nc),N.setAttribute("data-webpack",
"Excalidraw:"+h),N.src=y);k[y]=[l];l=(F,C)=>{N.onerror=N.onload=null;clearTimeout(G);var H=k[y];if(delete k[y],N.parentNode&&N.parentNode.removeChild(N),H&&H.forEach(Z=>Z(C)),F)return F(C)};var G=setTimeout(l.bind(null,void 0,{type:"timeout",target:N}),12E4);N.onerror=l.bind(null,N.onerror);N.onload=l.bind(null,N.onload);z&&document.head.appendChild(N)}},m.r=y=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"});Object.defineProperty(y,"__esModule",
{value:!0})},m.p="",(()=>{var y={163:0};m.f.j=(x,z)=>{var B=m.o(y,x)?y[x]:void 0;if(0!==B)if(B)z.push(B[2]);else{var L=new Promise((G,F)=>{B=y[x]=[G,F]});z.push(B[2]=L);z=m.p+m.u(x);var N=Error();m.l(z,G=>{if(m.o(y,x)&&(0!==(B=y[x])&&(y[x]=void 0),B)){var F=G&&("load"===G.type?"missing":G.type);G=G&&G.target&&G.target.src;N.message="Loading chunk "+x+" failed.\n("+F+": "+G+")";N.name="ChunkLoadError";N.type=F;N.request=G;B[1](N)}},"chunk-"+x,x)}};var l=(x,z)=>{for(var B,L,[N,G,F]=z,C=0,H=[];C<N.length;C++)L=
N[C],m.o(y,L)&&y[L]&&H.push(y[L][0]),y[L]=0;for(B in G)m.o(G,B)&&(m.m[B]=G[B]);F&&F(m);for(x&&x(z);H.length;)H.shift()()},h=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];h.forEach(l.bind(null,0));h.push=l.bind(null,h.push.bind(h))})(),m(3956)})()})};
'use strict';var xfc=function(a,b){var c=$APP.lz();$APP.l(c)&&$APP.Br($APP.R1a(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.Si($APP.E(["Error loading ",a,": ",d]))})},zfc=function(a){var b=$APP.Eo(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Dg(yfc.F(a),b);return a},Afc=new $APP.K(null,"view-mode-enabled","view-mode-enabled",-588220561),Bfc=new $APP.K("frontend.extensions.excalidraw","view-mode?","frontend.extensions.excalidraw/view-mode?",
525380621),Cfc=new $APP.K(null,"viewBackgroundColor","viewBackgroundColor",1889137994),Dfc=new $APP.K(null,"grid-mode-enabled","grid-mode-enabled",584978327),Efc=new $APP.K(null,"gridSize","gridSize",843108791),Ffc=new $APP.K("frontend.extensions.excalidraw","elements","frontend.extensions.excalidraw/elements",1745667967),Gfc=new $APP.K("frontend.extensions.excalidraw","loading?","frontend.extensions.excalidraw/loading?",-1335058663),Hfc=new $APP.K("frontend.extensions.excalidraw","data","frontend.extensions.excalidraw/data",
-1371036113),Ifc=new $APP.K(null,"zen-mode-enabled","zen-mode-enabled",-955634269),Jfc=new $APP.K("frontend.extensions.excalidraw","zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),Kfc=new $APP.K(null,"appState","appState",-1920687968),Lfc=new $APP.K(null,"initial-data","initial-data",-1315709804),yfc=new $APP.K("frontend.extensions.excalidraw","draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.bda("excalidraw");var Mfc=$APP.Cn(559);var Nfc,Ofc,Pfc,Qfc;$APP.j8b={};Nfc=$APP.YS($APP.Ea(Mfc,"default"));Ofc=$APP.dj.F(null);
Pfc=$APP.yo($APP.Co,function(a,b,c){$APP.az($APP.kz);$APP.Ho(Ofc);var d=$APP.H.B(a,yfc),e=$APP.H.B(a,Jfc),f=$APP.H.B(a,Bfc),k=$APP.az($APP.tSa),m=$APP.H.B(a,Ffc),n=$APP.er.F(c);return $APP.l(b)?$APP.T("div",{onMouseDown:function(q){return $APP.Or(q)},className:"overflow-hidden"},[$APP.T("div",{style:{fontSize:10},className:"my-1"},[$APP.T("a",{onClick:$APP.uSa,className:"mr-2"},[$APP.co($APP.zr("Wide Mode (%s)",$APP.E([$APP.l(k)?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.ej.B(e,$APP.vc)},
className:"mr-2"},[$APP.co($APP.zr("Zen Mode (%s)",$APP.E([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.ej.B(f,$APP.vc)},className:"mr-2"},[$APP.co($APP.zr("View Mode (%s)",$APP.E([$APP.l($APP.r(f))?"ON":"OFF"])))])]),$APP.T("div",{onMouseDown:function(q){$APP.Or(q);return $APP.iz($APP.PY,!0)},onBlur:function(){return $APP.iz($APP.PY,!1)},className:"draw-wrap"},[$APP.co(function(){var q=$APP.so.K($APP.E([new $APP.h(null,6,[$APP.mT,function(t,v){var y=$APP.mk(t);return $APP.w(y)&&
$APP.gi.B(t,$APP.r(m))?(v=$APP.mk(v),$APP.c4a(n,JSON.stringify($APP.ok(new $APP.h(null,5,[$APP.il,"excalidraw",$APP.IJ,2,$APP.$v,$APP.k3a,$APP.z3,t,Kfc,$APP.hi(v,new $APP.N(null,2,5,$APP.O,[Efc,Cfc],null))],null)))),$APP.Dg(m,t)):null},Ifc,$APP.r(e),Afc,$APP.r(f),Dfc,!1,Lfc,b,$APP.us,$APP.r(d)],null),$APP.l(k)?new $APP.h(null,1,[$APP.vs,650],null):new $APP.h(null,1,[$APP.vs,500],null)]));return Nfc.F?Nfc.F(q):Nfc.call(null,q)}())])]):null},new $APP.N(null,7,5,$APP.O,[$APP.M6,$APP.Fo(800,yfc),$APP.Fo(!0,
Jfc),$APP.Fo(!1,Bfc),$APP.Fo(null,Ffc),new $APP.h(null,1,[$APP.oo,zfc],null),new $APP.h(null,1,[$APP.qo,zfc],null)],null),"frontend.extensions.excalidraw/draw-inner");
Qfc=$APP.yo($APP.Co,function(a,b){var c=$APP.H.B(a,Hfc);a=$APP.H.B(a,Gfc);a=$APP.Ho(a);c=$APP.Ho(c);var d=$APP.az($APP.BXb);return $APP.l($APP.er.F(b))?$APP.l(d)?(b=$APP.qT("Loading"),$APP.T("div",$APP.Ae(b)?$APP.bo($APP.Yn($APP.E([new $APP.h(null,1,[$APP.Wn,new $APP.N(null,1,5,$APP.O,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.Ae(b)?null:[$APP.co(b)])):!1===a?Pfc(c,b):null:null},new $APP.N(null,2,5,$APP.O,[$APP.M6,new $APP.h(null,1,[$APP.mo,function(a){var b=$APP.zo.F(a);b=$APP.D.G(b,
0,null);b=$APP.er.F(b);var c=$APP.dj.F(null),d=$APP.dj.F(!0);$APP.l(b)&&xfc(b,function(e){if($APP.Fk(e))var f=null;else try{f=JSON.parse(e)}catch(k){if(k instanceof Error)e=k,$APP.Si($APP.E(["from json error:"])),console.dir(e),f=$APP.LE($APP.Wpa("Could not load this invalid excalidraw file"),$APP.ou);else throw k;}$APP.Dg(c,f);return $APP.Dg(d,!1)});return $APP.P.K(a,Hfc,c,$APP.E([Gfc,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.k8b=$APP.yo($APP.Bo,function(a){var b=$APP.lz(),c=$APP.az(new $APP.N(null,2,5,$APP.O,[$APP.QH,b],null));return $APP.KA(b)&&$APP.vc(c)&&$APP.vc($APP.yr())?null:Qfc(a)},new $APP.N(null,1,5,$APP.O,[$APP.M6],null),"frontend.extensions.excalidraw/draw");$APP.wb.Oi();
}).call(this);